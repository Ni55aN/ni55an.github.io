(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vs=function(e,t){return Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Vs(e,t)};function Q(e,t){Vs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function di(e){return typeof e=="function"}var $o=!1,ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;""+t.stack}$o=e},get useDeprecatedSynchronousErrorHandling(){return $o}};function fr(e){setTimeout(function(){throw e},0)}var pi={closed:!0,next:function(e){},error:function(e){if(ae.useDeprecatedSynchronousErrorHandling)throw e;fr(e)},complete:function(){}},Ga=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function Vh(e){return e!==null&&typeof e=="object"}var Sf=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),ri=Sf,te=function(){function e(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(n!==null)for(var o=0;o<n.length;++o){var l=n[o];l.remove(this)}if(di(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(c){t=c instanceof ri?jo(c.errors):[c]}}if(Ga(a))for(var o=-1,h=a.length;++o<h;){var u=a[o];if(Vh(u))try{u.unsubscribe()}catch(f){t=t||[],f instanceof ri?t=t.concat(jo(f.errors)):t.push(f)}}if(t)throw new ri(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;r=new e,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},e.prototype.remove=function(t){var r=this._subscriptions;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();function jo(e){return e.reduce(function(t,r){return t.concat(r instanceof ri?r.errors:r)},[])}var mi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),yt=function(e){Q(t,e);function t(r,n,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=pi;break;case 1:if(!r){s.destination=pi;break}if(typeof r=="object"){r instanceof t?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new zo(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new zo(s,r,n,i);break}return s}return t.prototype[mi]=function(){return this},t.create=function(r,n,i){var s=new t(r,n,i);return s.syncErrorThrowable=!1,s},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(te),zo=function(e){Q(t,e);function t(r,n,i,s){var a=e.call(this)||this;a._parentSubscriber=r;var o,l=a;return di(n)?o=n:n&&(o=n.next,i=n.error,s=n.complete,n!==pi&&(l=Object.create(n),di(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(a))),a._context=l,a._next=o,a._error=i,a._complete=s,a}return t.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!ae.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},t.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=ae.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):fr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;fr(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!ae.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),ae.useDeprecatedSynchronousErrorHandling)throw i;fr(i)}},t.prototype.__tryOrSetError=function(r,n,i){if(!ae.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return ae.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(fr(s),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(yt);function Tf(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;n&&n instanceof yt?e=n:e=null}return!0}function Ef(e,t,r){if(e){if(e instanceof yt)return e;if(e[mi])return e[mi]()}return!e&&!t&&!r?new yt(pi):new yt(e,t,r)}var yn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Wh(e){return e}function If(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xh(e)}function Xh(e){return e.length===0?Wh:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var it=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this.operator,s=Ef(t,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||ae.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),ae.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){ae.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),Tf(t)?t.error(r):console.warn(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Ho(r),new r(function(i,s){var a;a=n.subscribe(function(o){try{t(o)}catch(l){s(l),a&&a.unsubscribe()}},s,i)})},e.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},e.prototype[yn]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===0?this:Xh(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Ho(t),new t(function(n,i){var s;r.subscribe(function(a){return s=a},function(a){return i(a)},function(){return n(s)})})},e.create=function(t){return new e(t)},e}();function Ho(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var Af=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Re=Af,Yh=function(e){Q(t,e);function t(r,n){var i=e.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},t}(te),Cf=function(e){Q(t,e);function t(r){var n=e.call(this,r)||this;return n.destination=r,n}return t}(yt),Ir=function(e){Q(t,e);function t(){var r=e.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype[mi]=function(){return new Cf(this)},t.prototype.lift=function(r){var n=new Vo(this,this);return n.operator=r,n},t.prototype.next=function(r){if(this.closed)throw new Re;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),a=0;a<i;a++)s[a].next(r)},t.prototype.error=function(r){if(this.closed)throw new Re;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),a=0;a<i;a++)s[a].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Re;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(r){if(this.closed)throw new Re;return e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){if(this.closed)throw new Re;return this.hasError?(r.error(this.thrownError),te.EMPTY):this.isStopped?(r.complete(),te.EMPTY):(this.observers.push(r),new Yh(this,r))},t.prototype.asObservable=function(){var r=new it;return r.source=this,r},t.create=function(r,n){return new Vo(r,n)},t}(it),Vo=function(e){Q(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},t.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):te.EMPTY},t}(Ir),Rf=function(e){Q(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Re;return this._value},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Ir),Mf=function(e){Q(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(te),qh=function(e){Q(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(a){i=!0,s=!!a&&a||new Error(a)}if(i)return this.unsubscribe(),s},t.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},t}(Mf),kf=function(e){Q(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},t}(qh),Wo=function(){function e(t,r){r===void 0&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,t).schedule(n,r)},e.now=function(){return Date.now()},e}(),Jh=function(e){Q(t,e);function t(r,n){n===void 0&&(n=Wo.now);var i=e.call(this,r,function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return t.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(Wo),Pf=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Jh),Nf=new Pf(kf),Of=Nf,Ff=new it(function(e){return e.complete()});function Zh(e){return e?Lf(e):Ff}function Lf(e){return new it(function(t){return e.schedule(function(){return t.complete()})})}function Kh(e){return e&&typeof e.schedule=="function"}var Qh=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}};function $a(e,t){return new it(function(r){var n=new te,i=0;return n.add(t.schedule(function(){if(i===e.length){r.complete();return}r.next(e[i++]),r.closed||n.add(this.schedule())})),n})}function tu(e,t){return t?$a(e,t):new it(Qh(e))}function Df(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return Kh(r)?(e.pop(),$a(e,r)):tu(e)}function Bf(e,t){return t?new it(function(r){return t.schedule(Uf,0,{error:e,subscriber:r})}):new it(function(r){return r.error(e)})}function Uf(e){var t=e.error,r=e.subscriber;r.error(t)}var Yr=function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,r,n){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},e.prototype.accept=function(t,r,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return Df(this.value);case"E":return Bf(this.error);case"C":return Zh()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return typeof t<"u"?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Gf=function(e){Q(t,e);function t(r,n,i){i===void 0&&(i=0);var s=e.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return t.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},t.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new $f(r,this.destination)))},t.prototype._next=function(r){this.scheduleMessage(Yr.createNext(r))},t.prototype._error=function(r){this.scheduleMessage(Yr.createError(r)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Yr.createComplete()),this.unsubscribe()},t}(yt),$f=function(){function e(t,r){this.notification=t,this.destination=r}return e}(),es=function(e){Q(t,e);function t(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=e.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return t.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,r)},t.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new jf(this._getNow(),r)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,a=i.length,o;if(this.closed)throw new Re;if(this.isStopped||this.hasError?o=te.EMPTY:(this.observers.push(r),o=new Yh(this,r)),s&&r.add(r=new Gf(r,s)),n)for(var l=0;l<a&&!r.closed;l++)r.next(i[l]);else for(var l=0;l<a&&!r.closed;l++)r.next(i[l].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),o},t.prototype._getNow=function(){return(this.scheduler||Of).now()},t.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,a=s.length,o=0;o<a&&!(r-s[o].time<i);)o++;return a>n&&(o=Math.max(o,a-n)),o>0&&s.splice(0,o),s},t}(Ir),jf=function(){function e(t,r){this.time=t,this.value=r}return e}(),zf=new Jh(qh),Ws=zf;function Ee(){}var Hf=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),Vf=Hf,Wf=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),eu=Wf;function ct(e,t){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Xf(e,t))}}var Xf=function(){function e(t,r){this.project=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new Yf(t,this.project,this.thisArg))},e}(),Yf=function(e){Q(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return t.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(yt),qf=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(r,n,i,s,a){this.destination.next(n)},t.prototype.notifyError=function(r,n){this.destination.error(r)},t.prototype.notifyComplete=function(r){this.destination.complete()},t}(yt),Jf=function(e){Q(t,e);function t(r,n,i){var s=e.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return t.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},t.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(yt),Zf=function(e){return function(t){return e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,fr),t}};function Kf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fi=Kf(),Qf=function(e){return function(t){var r=e[Fi]();do{var n=void 0;try{n=r.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof r.return=="function"&&t.add(function(){r.return&&r.return()}),t}},td=function(e){return function(t){var r=e[yn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}},ru=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function nu(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var ja=function(e){if(e&&typeof e[yn]=="function")return td(e);if(ru(e))return Qh(e);if(nu(e))return Zf(e);if(e&&typeof e[Fi]=="function")return Qf(e);var t=Vh(e)?"an invalid object":"'"+e+"'",r="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function ed(e,t,r,n,i){if(i===void 0&&(i=new Jf(e,r,n)),!i.closed)return t instanceof it?t.subscribe(i):ja(t)(i)}var Xo={};function rd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=void 0,n=void 0;return Kh(e[e.length-1])&&(n=e.pop()),typeof e[e.length-1]=="function"&&(r=e.pop()),e.length===1&&Ga(e[0])&&(e=e[0]),tu(e,n).lift(new nd(r))}var nd=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new id(t,this.resultSelector))},e}(),id=function(e){Q(t,e);function t(r,n){var i=e.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return t.prototype._next=function(r){this.values.push(Xo),this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(ed(this,s,void 0,i))}}},t.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(r,n,i){var s=this.values,a=s[i],o=this.toRespond?a===Xo?--this.toRespond:this.toRespond:0;s[i]=n,o===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},t.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(qf);function sd(e,t){return new it(function(r){var n=new te;return n.add(t.schedule(function(){var i=e[yn]();n.add(i.subscribe({next:function(s){n.add(t.schedule(function(){return r.next(s)}))},error:function(s){n.add(t.schedule(function(){return r.error(s)}))},complete:function(){n.add(t.schedule(function(){return r.complete()}))}}))})),n})}function ad(e,t){return new it(function(r){var n=new te;return n.add(t.schedule(function(){return e.then(function(i){n.add(t.schedule(function(){r.next(i),n.add(t.schedule(function(){return r.complete()}))}))},function(i){n.add(t.schedule(function(){return r.error(i)}))})})),n})}function od(e,t){if(!e)throw new Error("Iterable cannot be null");return new it(function(r){var n=new te,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(t.schedule(function(){i=e[Fi](),n.add(t.schedule(function(){if(!r.closed){var s,a;try{var o=i.next();s=o.value,a=o.done}catch(l){r.error(l);return}a?r.complete():(r.next(s),this.schedule())}}))})),n})}function ld(e){return e&&typeof e[yn]=="function"}function hd(e){return e&&typeof e[Fi]=="function"}function ud(e,t){if(e!=null){if(ld(e))return sd(e,t);if(nu(e))return ad(e,t);if(ru(e))return $a(e,t);if(hd(e)||typeof e=="string")return od(e,t)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function cd(e,t){return t?ud(e,t):e instanceof it?e:new it(ja(e))}var fd=function(e){Q(t,e);function t(r){var n=e.call(this)||this;return n.parent=r,n}return t.prototype._next=function(r){this.parent.notifyNext(r)},t.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(yt),dd=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(r){this.destination.next(r)},t.prototype.notifyError=function(r){this.destination.error(r)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(yt);function pd(e,t){if(!t.closed){if(e instanceof it)return e.subscribe(t);var r;try{r=ja(e)(t)}catch(n){t.error(n)}return r}}function md(e){return!Ga(e)&&e-parseFloat(e)+1>=0}function gd(e,t){return e===void 0&&(e=0),t===void 0&&(t=Ws),(!md(e)||e<0)&&(e=0),(!t||typeof t.schedule!="function")&&(t=Ws),new it(function(r){return r.add(t.schedule(yd,e,{subscriber:r,counter:0,period:e})),r})}function yd(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}function vd(e,t){return function(n){return n.lift(new bd(e,t))}}var bd=function(){function e(t,r){this.predicate=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new _d(t,this.predicate,this.thisArg))},e}(),_d=function(e){Q(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return t.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},t}(yt);function xd(e){return e===void 0&&(e=null),function(t){return t.lift(new wd(e))}}var wd=function(){function e(t){this.defaultValue=t}return e.prototype.call=function(t,r){return r.subscribe(new Sd(t,this.defaultValue))},e}(),Sd=function(e){Q(t,e);function t(r,n){var i=e.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return t.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(yt);function Td(e){return e instanceof Date&&!isNaN(+e)}function Yo(e,t){t===void 0&&(t=Ws);var r=Td(e),n=r?+e-t.now():Math.abs(e);return function(i){return i.lift(new Ed(n,t))}}var Ed=function(){function e(t,r){this.delay=t,this.scheduler=r}return e.prototype.call=function(t,r){return r.subscribe(new Id(t,this.delay,this.scheduler))},e}(),Id=function(e){Q(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return t.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,a=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(a);if(i.length>0){var o=Math.max(0,i[0].time-s.now());this.schedule(r,o)}else this.unsubscribe(),n.active=!1},t.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},t.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Ad(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},t.prototype._next=function(r){this.scheduleNotification(Yr.createNext(r))},t.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Yr.createComplete()),this.unsubscribe()},t}(yt),Ad=function(){function e(t,r){this.time=t,this.notification=r}return e}();function Cd(e,t){return function(r){return r.lift(new Rd(e,t))}}var Rd=function(){function e(t,r){this.compare=t,this.keySelector=r}return e.prototype.call=function(t,r){return r.subscribe(new Md(t,this.compare,this.keySelector))},e}(),Md=function(e){Q(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return t.prototype.compare=function(r,n){return r===n},t.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(o){return this.destination.error(o)}var s=!1;if(this.hasKey)try{var a=this.compare;s=a(this.key,n)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},t}(yt);function kd(e){return e===void 0&&(e=Od),function(t){return t.lift(new Pd(e))}}var Pd=function(){function e(t){this.errorFactory=t}return e.prototype.call=function(t,r){return r.subscribe(new Nd(t,this.errorFactory))},e}(),Nd=function(e){Q(t,e);function t(r,n){var i=e.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return t.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},t}(yt);function Od(){return new eu}function Fd(e){return function(t){return e===0?Zh():t.lift(new Ld(e))}}var Ld=function(){function e(t){if(this.total=t,this.total<0)throw new Vf}return e.prototype.call=function(t,r){return r.subscribe(new Dd(t,this.total))},e}(),Dd=function(e){Q(t,e);function t(r,n){var i=e.call(this,r)||this;return i.total=n,i.count=0,i}return t.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},t}(yt);function iu(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?vd(function(i,s){return e(i,s,n)}):Wh,Fd(1),r?xd(t):kd(function(){return new eu}))}}function su(e,t){return typeof t=="function"?function(r){return r.pipe(su(function(n,i){return cd(e(n,i)).pipe(ct(function(s,a){return t(n,s,i,a)}))}))}:function(r){return r.lift(new Bd(e))}}var Bd=function(){function e(t){this.project=t}return e.prototype.call=function(t,r){return r.subscribe(new Ud(t,this.project))},e}(),Ud=function(e){Q(t,e);function t(r,n){var i=e.call(this,r)||this;return i.project=n,i.index=0,i}return t.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},t.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new fd(this),s=this.destination;s.add(i),this.innerSubscription=pd(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},t.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(r){this.destination.next(r)},t}(dd);function dr(e,t,r){return function(i){return i.lift(new Gd(e,t,r))}}var Gd=function(){function e(t,r,n){this.nextOrObserver=t,this.error=r,this.complete=n}return e.prototype.call=function(t,r){return r.subscribe(new $d(t,this.nextOrObserver,this.error,this.complete))},e}(),$d=function(e){Q(t,e);function t(r,n,i,s){var a=e.call(this,r)||this;return a._tapNext=Ee,a._tapError=Ee,a._tapComplete=Ee,a._tapError=i||Ee,a._tapComplete=s||Ee,di(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||Ee,a._tapError=n.error||Ee,a._tapComplete=n.complete||Ee),a}return t.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},t.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},t}(yt);/*!
 * easyhard-common v0.4.1
 * (c) 2019-2022 Vitaliy Stoliarov
 * Released under the MIT license.
 */var nr=function(e){return new Rf(e)},Xs=function(e,t){return Xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xs(e,t)},Ys=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();function Tn(e,t){var r;return Ys.__easyhardDebug&&((r=e.__debug)===null||r===void 0||r.nextBuffer.next({value:t,time:Date.now()})),t}function gi(e){return typeof e=="object"&&"id"in e?e.id:e}var jd=function(e){function t(r){var n,i,s=e.call(this)||this;return s._value=r,n=s,i="CollectionSubject",Ys.__easyhardDebug&&Object.defineProperty(n,"__debug",{value:{id:Li(),name:i,parent:[],nextBuffer:new es,subscribe:new es,unsubscribe:new es},writable:!1,configurable:!1}),s.subscriptionsCount=0,s}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}Xs(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=this,i=e.prototype._subscribe.call(this,r);return function(s,a,o){var l;Ys.__easyhardDebug&&(a.add(function(){var h;return(h=s.__debug)===null||h===void 0?void 0:h.unsubscribe.next(o(-1))}),(l=s.__debug)===null||l===void 0||l.subscribe.next(o(1)))}(this,i,function(s){return n.subscriptionsCount+=s}),i&&!i.closed&&(r.next(Tn(this,{initial:!0})),this._value.forEach(function(s){r.next(Tn(n,{insert:!0,item:s,batch:!0}))}),r.next(Tn(this,{idle:!0}))),i},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Re;return this._value},t.prototype.next=function(r){if(Tn(this,r),"insert"in r)return this.insert(r.item);if("remove"in r)return this.remove(r.item);throw new Error("Argument type is invalid")},t.prototype.insert=function(r){this._value.push(r),e.prototype.next.call(this,{item:r,insert:!0})},t.prototype.remove=function(r){var n=gi(r),i=typeof r=="object"&&"id"in r?this._value.findIndex(function(s){return gi(s)===n}):this._value.indexOf(r);i<0||(this._value.splice(i,1),e.prototype.next.call(this,{item:r,remove:!0}))},t.prototype.clear=function(){for(;this._value.length>0;)this.remove(this._value[0])},t}(Ir),zd=function(e){return new jd(e)};function Li(){return(Date.now()+Math.random()).toString(36).replace(".","")}/*!
 * easyhard v0.9.2
 * (c) 2019-2022 Vitaliy Stoliarov
 * Released under the MIT license.
 */function ni(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qo(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(o){i={error:o}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function rs(e,t,r){if(r||arguments.length===2)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function za(){return document.createTextNode("")}function Hd(e){return e&&"edge"in e&&e.edge||e}function au(e,t,r){r===void 0&&(r=null),t.insertBefore(e,r&&r.nextSibling)}function qs(e){return Array.from(e).reduce(function(t,r){return rs(rs(rs([],qo(t),!1),[r],!1),qo(qs(r.childNodes)),!1)},[])}var de=window;function Di(e){return de.__easyhardDebug&&Object.defineProperty(e,"__easyhard",{value:{id:Li(),attrs:{},parent:[]},writable:!1,configurable:!1}),e}function ii(e,t,r){if(de.__easyhardDebug){if(!e.__easyhard)throw new Error("element should have __debug property");r&&"destination"in r&&r.destination&&"__debug"in r.destination&&r.destination&&r.destination.__debug&&(r.destination.__debug.id=e.__easyhard.id),e.__easyhard.attrs[t]=r}}function Ha(e,t,r){var n,i,s,a,o,l,h,u;if(de.__easyhardDebug){var c=Li();if(r){if(!r.destination)throw new Error("should have destination");r.destination.__debug.id=c}var f=((s=(i=(n=r==null?void 0:r.__debug)===null||n===void 0?void 0:n.observable)===null||i===void 0?void 0:i.__debug)===null||s===void 0?void 0:s.fragment)||((u=(h=(l=(o=(a=r==null?void 0:r.__debug)===null||a===void 0?void 0:a.sources.snapshot()[0])===null||o===void 0?void 0:o.__debug)===null||l===void 0?void 0:l.observable)===null||h===void 0?void 0:h.__debug)===null||u===void 0?void 0:u.fragment);Object.defineProperty(e,"__easyhard",{value:{id:c,parent:r?[{type:"other",link:r}]:[],label:t||f||"",type:"fragment"},writable:!1,configurable:!1})}}function ou(e,t){if(de.__easyhardDebug){if(!e.__easyhard)throw new Error("anchor should have __debug propery");e.__easyhard.label=t}}function lu(e,t){if(de.__easyhardDebug){if(!e.__easyhard)throw new Error("anchor should have __debug propery");t&&"destination"in t&&t.destination&&"__debug"in t.destination&&t.destination&&t.destination.__debug&&(t.destination.__debug.id=e.__easyhard.id),e.__easyhard.parent.push({type:"other",link:t})}}function Va(e,t){if(de.__easyhardDebug){if(e===null)return;if(e.__easyhard||Di(e),!e.__easyhard)throw new Error("element should have __debug propery");e.__easyhard.parent.push({type:"other",link:t}),e.__easyhard.indirect=!0}}function hu(e,t){return de.__easyhardDebug&&(e.__debug.name=t),e}function uu(e){return de.__easyhardDebug&&(e.__debug.internal=!0),e}function cu(e,t){de.__easyhardDebug&&(e.destination=t,t.__debug.sources.next({add:e}))}function Vd(e){return de.__easyhardDebug?function(t){if(!t.__debug)throw new Error("source should have __debug propery");return t.__debug.fragment=e,t}:function(t){return t}}var qr=Object.freeze({__proto__:null,debugElement:Di,debugElementAttr:ii,debugFragment:Ha,debugFragmentLabel:ou,debugFragmentAddParent:lu,debugFragmentChild:Va,debugObservableName:hu,debugObservableInternal:uu,debugBindSubscribers:cu,debugFragmentOperator:Vd}),Jr=new WeakMap,Wa={connected:!1},fu=new MutationObserver(function(e){var t,r,n,i,s,a;try{for(var o=ni(e),l=o.next();!l.done;l=o.next()){var h=l.value;try{for(var u=(n=void 0,ni(qs(h.addedNodes))),c=u.next();!c.done;c=u.next()){var f=c.value;(g=Jr.get(f))&&g.forEach(function(b){return b.added()})}}catch(b){n={error:b}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}try{for(var p=(s=void 0,ni(qs(h.removedNodes))),d=p.next();!d.done;d=p.next()){var g,y=d.value;(g=Jr.get(y))&&(g.forEach(function(b){return b.removed()}),Jr.delete(y))}}catch(b){s={error:b}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}}}catch(b){t={error:b}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}});function Wd(){fu.disconnect(),Wa.connected=!1}function Xd(e){e===void 0&&(e=document.body),Wd(),fu.observe(e,{childList:!0,subtree:!0}),Wa.connected=!0}function Yd(e,t){Wa.connected||Xd();var r=Jr.get(e);r?r.push(t):Jr.set(e,[t])}function ce(e,t){return t===void 0&&(t=document.body),function(r){return uu(hu(new it(function(n){var i=[],s=function(){for(;i.length>0;)n.next(i.shift())};e&&Yd(e,{added:s,removed:function(){n.complete()}});var a=r.subscribe({next:function(o){i.push(o),e&&t.contains(e)&&s()},error:function(o){n.error(o)},complete:function(){n.complete()}});return cu(a,n),a}),"untilExist"))}}var D=function(e,t){for(var r,n,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=document.createElement(e);Di(a);var o=function(f){if(f&&t.hasOwnProperty(f))if("on".concat(f)in a){var p=f,d=t[p];if(d instanceof Ir)a.addEventListener(p,function(m){return d.next(m)}),ii(a,f,d.pipe(ce(a)).subscribe(function(){return 1}));else if(d){var g=new Ir,y=g.pipe(ce(a),d).subscribe();a.addEventListener(p,function(m){return g.next(m)}),ii(a,f,y)}}else{var b=f,v=t[b];v===!0?a[b]=!0:v instanceof it?(y=v.pipe(ce(a)).subscribe(function(m){a[b]=m}),ii(a,f,y)):v!==!1&&v!=null&&(a[b]=v)}};for(var l in t)o(l);try{for(var h=ni(i.flat(1/0)),u=h.next();!u.done;u=h.next()){var c=u.value;du(c,a)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return a};function du(e,t,r){r===void 0&&(r=null);var n=pu(e);return n&&au(n,t,r),n}function pu(e){if(e instanceof it){var t=za(),r=e.pipe(ce(t)).subscribe(function(n){if(typeof n!="object"&&t.edge instanceof Text)t.edge.textContent=n;else{if(t.edge&&t.edge.remove(),n instanceof Comment||n instanceof HTMLElement||n instanceof Text)t.edge=n;else if(n instanceof it){var i=pu(n);t.edge=i}else(i=Di(document.createTextNode(""))).textContent=n,t.edge=i;Va(t.edge,t),t.edge&&au(t.edge,t.parentNode,t)}},null,function(){t.edge&&t.edge.remove(),t.remove()});return Ha(t,"",r),t}return typeof e!="object"?document.createTextNode(String(e)):e}function qd(){var e=za(),t=[];return Ha(e,""),{anchor:e,insert:function(r,n){if(n===void 0&&(n=t.length),n<0)throw new Error("index is invalid");if(!e.parentElement)throw new Error("Attempt to add Child, but the anchor has been removed");var i=du(r,e.parentElement,Hd(t[n-1])||e);Va(i,e),t.splice(n,0,i),e.edge=t[t.length-1]},remove:function(r){var n=t[r];n&&"remove"in n&&n.remove(),r>=0&&t.splice(r,1),e.edge=t[t.length-1]},clear:function(){t.forEach(function(r){r&&"remove"in r&&r.remove()}),t.splice(0,t.length),e.edge=void 0}}}function Jd(e,t,r){var n=qd(),i=[];ou(n.anchor,"$for");var s=e.pipe(ce(n.anchor)).subscribe({next:function(a){if("insert"in a){if((o=r!=null&&r.comparator?function(l,h,u){for(var c=0;c<l.length;c++)if(u(h,l[c]))return c;return l.length}(i,a.item,r.comparator):i.length)<0)throw new Error("index is invalid");i.splice(o,0,a.item),n.insert(t(a.item),o)}else if("remove"in a){var o;if((o=i.map(function(l){return gi(l)}).indexOf(gi(a.item)))<0)return;i.splice(o,1),n.remove(o)}},complete:function(){n.clear(),n.anchor.remove()}});return lu(n.anchor,s),n.anchor}var Zd=function(){function e(){this.map=new WeakMap,this.list$=nr(null)}return e.prototype.observe=function(t){var r=this;return this.list$.pipe(ct(function(){return r.getNodeMap(t)}))},e.prototype.next=function(t,r,n){this.getNodeMap(t).set(r,n),this.list$.next(null)},e.prototype.getNodeMap=function(t){var r=this.map.get(t);return r||(r=new WeakMap,this.map.set(t,r)),r},e.find=function(t,r){return t?r.has(t)?{value:r.get(t)}:this.find(t.parentElement,r):null},e}();new Zd;function Kd(e,t){nr("").pipe(ce(e),iu()).subscribe({next:t})}function Qd(e,t){var r;nr("").pipe(ce(e)).subscribe({next:function(){r=t()},complete:function(){r&&r()}})}/*!
 * easyhard-styles v0.4.0
 * (c) 2019-2022 Vitaliy Stoliarov
 * Released under the MIT license.
 */function kt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(o){i={error:o}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function Lt(e,t,r){if(r||arguments.length===2)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Jo(e){return e.map(function(t){var r=kt(t,2),n=r[0],i=r[1];switch(n){case"maxWidth":return"(max-width: ".concat(i,")");case"minWidth":return"(min-width: ".concat(i,")");case"orientation":return"(orientation: ".concat(i,")");default:return i}}).join(" and ")}function Zo(e,t){return t?If(ce(e,document.head),ce(t)):ce(e,document.head)}function tp(e){return function(t){return"".concat(t).concat(e)}}function Ko(e){return e.replace(/([A-Z])/g,"-$1").toLocaleLowerCase()}function Qo(e){return typeof e=="number"?tp("px")(e):e}function tl(e,t,r){var n=t.join(" ");qr.debugElementAttr(e,n,r)}function Js(e,t,r,n,i,s,a){a===void 0&&(a=[]);var o=r.sheet,l=o.cssRules.length;o.insertRule(t.length>0?"@media {".concat(e," {}}"):"".concat(e," {}"),l);var h=o.cssRules[l],u=h instanceof CSSMediaRule?h.cssRules[0].style:h.style;if(h instanceof CSSMediaRule){var c=t.filter(function(g){var y=kt(g,2);return y[0],y[1]instanceof it}),f=t.filter(function(g){var y=kt(g,2);return y[0],!(y[1]instanceof it)});h.media.mediaText=Jo(f),c.filter(function(g){var y=kt(g,2);return y[0],y[1]instanceof it}).forEach(function(g){var y=kt(g,2),b=y[0],v=y[1];return tl(r,Lt(Lt([],kt(a),!1),["query",b],!1),v)}),rd.apply(void 0,Lt([],kt(c.map(function(g){var y=kt(g,2);return y[0],y[1]})),!1)).pipe(Zo(r,s)).subscribe(function(g){var y=g.map(function(b,v){return[c[v][0],b]});h.media.mediaText=Jo(Lt(Lt([],kt(y),!1),kt(f),!1))})}var p=function(g){var y=n[g];if(g==="@media"){var b=n[g],v=b.query,m=function(x,w){var T={};for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&w.indexOf(S)<0&&(T[S]=x[S]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function"){var I=0;for(S=Object.getOwnPropertySymbols(x);I<S.length;I++)w.indexOf(S[I])<0&&Object.prototype.propertyIsEnumerable.call(x,S[I])&&(T[S[I]]=x[S[I]])}return T}(b,["query"]),_=Lt(Lt([],kt(Object.entries(v)),!1),kt(t),!1);Js(e,_,r,m,i,s,Lt(Lt([],kt(a),!1),["@media"],!1))}else g==="@import"?o.insertRule("@import ".concat(y)):g.startsWith(":")?(m=n[g],Js("".concat(e).concat(g),t,r,m,i,s,Lt(Lt([],kt(a),!1),[g],!1))):y instanceof it?(tl(r,Lt(Lt([],kt(a),!1),[g],!1),y),y.pipe(Zo(r,s)).subscribe(function(x){return u.setProperty(Ko(g),Qo(x))})):y!==void 0&&u.setProperty(Ko(g),Qo(y))};for(var d in n)p(d)}function Dt(e,t){t===void 0&&(t=null);var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style"),i="eh_".concat(e.$name||"","_").concat(Li());return n.type="text/css",r.appendChild(n),qr.debugElement(n),Js(".".concat(i),[],n,e,r,t),{className:i,style:n}}function U(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=za();return qr.debugFragment(r,"$style"),Qd(r,function(){var n,i=r.parentNode,s=[],a=e.map(function(o){if("className"in o)return qr.debugFragmentAddParent(r,o.style),o.className;var l=Dt(o,r),h=l.className,u=l.style;return s.push(u),qr.debugFragmentAddParent(r,u),h});return(n=i.classList).add.apply(n,Lt([],kt(a),!1)),function(){s.slice().forEach(function(o){return o.remove()})}}),r}const ep=Dt({$name:"Page",minHeight:"100%",maxHeight:"100%",position:"relative",height:"100%",width:"100%",display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr",gap:"0.5em",gridTemplateAreas:'"title head" "content content"',boxSizing:"border-box",overflow:"hidden",zIndex:"1"});function rp(e,...t){return D("div",e,U(ep),...t)}function np(e){return e.split("").map(t=>t.charCodeAt(0).toString(2).padStart(8,"0")).join("").split("").map(Number)}const En=[14,10];function ip(e,t){const r=Math.ceil(t.height/t.fontSize*t.width/Math.min(En[0],En[1])/8),n=new Uint16Array(r*8),i=new Uint16Array(r*8),s=new Uint8Array(r*8),a=np(e);let o=0;for(let l=0,h=t.offset[0],u=t.offset[1];u<t.height;l++){const c=s[l]=a[l%a.length];h+En[c]>t.width&&(u+=t.lineHeight,h=t.offset[0]),n[l]=h,i[l]=u,h+=En[c],o=l}return{x:n.slice(0,o),y:i.slice(0,o),text:s.slice(0,o)}}var ir=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(ir||{}),mu=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(mu||{}),Zs=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(Zs||{}),L=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(L||{}),Me=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(Me||{}),C=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(C||{}),_r=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(_r||{}),X=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(X||{}),Ks=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(Ks||{}),ye=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(ye||{}),an=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(an||{}),Qe=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(Qe||{}),De=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(De||{}),$e=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))($e||{}),Xa=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(Xa||{}),jt=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(jt||{}),mt=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(mt||{}),dt=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(dt||{}),fe=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(fe||{});const sp={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")},B={ADAPTER:sp,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var ns=/iPhone/i,el=/iPod/i,rl=/iPad/i,nl=/\biOS-universal(?:.+)Mac\b/i,is=/\bAndroid(?:.+)Mobile\b/i,il=/Android/i,sr=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,In=/Silk/i,pe=/Windows Phone/i,sl=/\bWindows(?:.+)ARM\b/i,al=/BlackBerry/i,ol=/BB10/i,ll=/Opera Mini/i,hl=/\b(CriOS|Chrome)(?:.+)Mobile/i,ul=/Mobile(?:.+)Firefox\b/i,cl=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function ap(e){return function(t){return t.test(e)}}function fl(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=ap(r),s={apple:{phone:i(ns)&&!i(pe),ipod:i(el),tablet:!i(ns)&&(i(rl)||cl(t))&&!i(pe),universal:i(nl),device:(i(ns)||i(el)||i(rl)||i(nl)||cl(t))&&!i(pe)},amazon:{phone:i(sr),tablet:!i(sr)&&i(In),device:i(sr)||i(In)},android:{phone:!i(pe)&&i(sr)||!i(pe)&&i(is),tablet:!i(pe)&&!i(sr)&&!i(is)&&(i(In)||i(il)),device:!i(pe)&&(i(sr)||i(In)||i(is)||i(il))||i(/\bokhttp\b/i)},windows:{phone:i(pe),tablet:i(sl),device:i(pe)||i(sl)},other:{blackberry:i(al),blackberry10:i(ol),opera:i(ll),firefox:i(ul),chrome:i(hl),device:i(al)||i(ol)||i(ll)||i(ul)||i(hl)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const op=fl.default??fl,pr=op(globalThis.navigator);B.RETINA_PREFIX=/@([0-9\.]+)x/;B.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var yu={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,h,u){this.fn=l,this.context=h,this.once=u||!1}function s(l,h,u,c,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,c||l,f),d=r?r+h:h;return l._events[d]?l._events[d].fn?l._events[d]=[l._events[d],p]:l._events[d].push(p):(l._events[d]=p,l._eventsCount++),l}function a(l,h){--l._eventsCount===0?l._events=new n:delete l._events[h]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],u,c;if(this._eventsCount===0)return h;for(c in u=this._events)t.call(u,c)&&h.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(u)):h},o.prototype.listeners=function(h){var u=r?r+h:h,c=this._events[u];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,p=c.length,d=new Array(p);f<p;f++)d[f]=c[f].fn;return d},o.prototype.listenerCount=function(h){var u=r?r+h:h,c=this._events[u];return c?c.fn?1:c.length:0},o.prototype.emit=function(h,u,c,f,p,d){var g=r?r+h:h;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,v,m;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,c),!0;case 4:return y.fn.call(y.context,u,c,f),!0;case 5:return y.fn.call(y.context,u,c,f,p),!0;case 6:return y.fn.call(y.context,u,c,f,p,d),!0}for(m=1,v=new Array(b-1);m<b;m++)v[m-1]=arguments[m];y.fn.apply(y.context,v)}else{var _=y.length,x;for(m=0;m<_;m++)switch(y[m].once&&this.removeListener(h,y[m].fn,void 0,!0),b){case 1:y[m].fn.call(y[m].context);break;case 2:y[m].fn.call(y[m].context,u);break;case 3:y[m].fn.call(y[m].context,u,c);break;case 4:y[m].fn.call(y[m].context,u,c,f);break;default:if(!v)for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];y[m].fn.apply(y[m].context,v)}}return!0},o.prototype.on=function(h,u,c){return s(this,h,u,c,!1)},o.prototype.once=function(h,u,c){return s(this,h,u,c,!0)},o.prototype.removeListener=function(h,u,c,f){var p=r?r+h:h;if(!this._events[p])return this;if(!u)return a(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!f||d.once)&&(!c||d.context===c)&&a(this,p);else{for(var g=0,y=[],b=d.length;g<b;g++)(d[g].fn!==u||f&&!d[g].once||c&&d[g].context!==c)&&y.push(d[g]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},o.prototype.removeAllListeners=function(h){var u;return h?(u=r?r+h:h,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(yu);var hp=yu.exports;const Bi=gu(hp);var Ya={exports:{}};Ya.exports=Ui;Ya.exports.default=Ui;function Ui(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,s=vu(e,0,i,r,!0),a=[];if(!s||s.next===s.prev)return a;var o,l,h,u,c,f,p;if(n&&(s=pp(e,t,s,r)),e.length>80*r){o=h=e[0],l=u=e[1];for(var d=r;d<i;d+=r)c=e[d],f=e[d+1],c<o&&(o=c),f<l&&(l=f),c>h&&(h=c),f>u&&(u=f);p=Math.max(h-o,u-l),p=p!==0?32767/p:0}return on(s,a,r,o,l,p,0),a}function vu(e,t,r,n,i){var s,a;if(i===ea(e,t,r,n)>0)for(s=t;s<r;s+=n)a=dl(s,e[s],e[s+1],a);else for(s=r-n;s>=t;s-=n)a=dl(s,e[s],e[s+1],a);return a&&Gi(a,a.next)&&(hn(a),a=a.next),a}function tr(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(Gi(r,r.next)||at(r.prev,r,r.next)===0)){if(hn(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function on(e,t,r,n,i,s,a){if(e){!a&&s&&bp(e,n,i,s);for(var o=e,l,h;e.prev!==e.next;){if(l=e.prev,h=e.next,s?cp(e,n,i,s):up(e)){t.push(l.i/r|0),t.push(e.i/r|0),t.push(h.i/r|0),hn(e),e=h.next,o=h.next;continue}if(e=h,e===o){a?a===1?(e=fp(tr(e),t,r),on(e,t,r,n,i,s,2)):a===2&&dp(e,t,r,n,i,s):on(tr(e),t,r,n,i,s,1);break}}}}function up(e){var t=e.prev,r=e,n=e.next;if(at(t,r,n)>=0)return!1;for(var i=t.x,s=r.x,a=n.x,o=t.y,l=r.y,h=n.y,u=i<s?i<a?i:a:s<a?s:a,c=o<l?o<h?o:h:l<h?l:h,f=i>s?i>a?i:a:s>a?s:a,p=o>l?o>h?o:h:l>h?l:h,d=n.next;d!==t;){if(d.x>=u&&d.x<=f&&d.y>=c&&d.y<=p&&mr(i,o,s,l,a,h,d.x,d.y)&&at(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function cp(e,t,r,n){var i=e.prev,s=e,a=e.next;if(at(i,s,a)>=0)return!1;for(var o=i.x,l=s.x,h=a.x,u=i.y,c=s.y,f=a.y,p=o<l?o<h?o:h:l<h?l:h,d=u<c?u<f?u:f:c<f?c:f,g=o>l?o>h?o:h:l>h?l:h,y=u>c?u>f?u:f:c>f?c:f,b=Qs(p,d,t,r,n),v=Qs(g,y,t,r,n),m=e.prevZ,_=e.nextZ;m&&m.z>=b&&_&&_.z<=v;){if(m.x>=p&&m.x<=g&&m.y>=d&&m.y<=y&&m!==i&&m!==a&&mr(o,u,l,c,h,f,m.x,m.y)&&at(m.prev,m,m.next)>=0||(m=m.prevZ,_.x>=p&&_.x<=g&&_.y>=d&&_.y<=y&&_!==i&&_!==a&&mr(o,u,l,c,h,f,_.x,_.y)&&at(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;m&&m.z>=b;){if(m.x>=p&&m.x<=g&&m.y>=d&&m.y<=y&&m!==i&&m!==a&&mr(o,u,l,c,h,f,m.x,m.y)&&at(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;_&&_.z<=v;){if(_.x>=p&&_.x<=g&&_.y>=d&&_.y<=y&&_!==i&&_!==a&&mr(o,u,l,c,h,f,_.x,_.y)&&at(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function fp(e,t,r){var n=e;do{var i=n.prev,s=n.next.next;!Gi(i,s)&&bu(i,n,n.next,s)&&ln(i,s)&&ln(s,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(s.i/r|0),hn(n),hn(n.next),n=e=s),n=n.next}while(n!==e);return tr(n)}function dp(e,t,r,n,i,s){var a=e;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&wp(a,o)){var l=_u(a,o);a=tr(a,a.next),l=tr(l,l.next),on(a,t,r,n,i,s,0),on(l,t,r,n,i,s,0);return}o=o.next}a=a.next}while(a!==e)}function pp(e,t,r,n){var i=[],s,a,o,l,h;for(s=0,a=t.length;s<a;s++)o=t[s]*n,l=s<a-1?t[s+1]*n:e.length,h=vu(e,o,l,n,!1),h===h.next&&(h.steiner=!0),i.push(xp(h));for(i.sort(mp),s=0;s<i.length;s++)r=gp(i[s],r);return r}function mp(e,t){return e.x-t.x}function gp(e,t){var r=yp(e,t);if(!r)return t;var n=_u(r,e);return tr(n,n.next),tr(r,r.next)}function yp(e,t){var r=t,n=e.x,i=e.y,s=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>s&&(s=o,a=r.x<r.next.x?r:r.next,o===n))return a}r=r.next}while(r!==t);if(!a)return null;var l=a,h=a.x,u=a.y,c=1/0,f;r=a;do n>=r.x&&r.x>=h&&n!==r.x&&mr(i<u?n:s,i,h,u,i<u?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),ln(r,e)&&(f<c||f===c&&(r.x>a.x||r.x===a.x&&vp(a,r)))&&(a=r,c=f)),r=r.next;while(r!==l);return a}function vp(e,t){return at(e.prev,e,t.prev)<0&&at(t.next,e,e.next)<0}function bp(e,t,r,n){var i=e;do i.z===0&&(i.z=Qs(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,_p(i)}function _p(e){var t,r,n,i,s,a,o,l,h=1;do{for(r=e,e=null,s=null,a=0;r;){for(a++,n=r,o=0,t=0;t<h&&(o++,n=n.nextZ,!!n);t++);for(l=h;o>0||l>0&&n;)o!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,o--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(a>1);return e}function Qs(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function xp(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function mr(e,t,r,n,i,s,a,o){return(i-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(n-o)>=(r-a)*(t-o)&&(r-a)*(s-o)>=(i-a)*(n-o)}function wp(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Sp(e,t)&&(ln(e,t)&&ln(t,e)&&Tp(e,t)&&(at(e.prev,e,t.prev)||at(e,t.prev,t))||Gi(e,t)&&at(e.prev,e,e.next)>0&&at(t.prev,t,t.next)>0)}function at(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Gi(e,t){return e.x===t.x&&e.y===t.y}function bu(e,t,r,n){var i=Cn(at(e,t,r)),s=Cn(at(e,t,n)),a=Cn(at(r,n,e)),o=Cn(at(r,n,t));return!!(i!==s&&a!==o||i===0&&An(e,r,t)||s===0&&An(e,n,t)||a===0&&An(r,e,n)||o===0&&An(r,t,n))}function An(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Cn(e){return e>0?1:e<0?-1:0}function Sp(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&bu(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function ln(e,t){return at(e.prev,e,e.next)<0?at(e,t,e.next)>=0&&at(e,e.prev,t)>=0:at(e,t,e.prev)<0||at(e,e.next,t)<0}function Tp(e,t){var r=e,n=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function _u(e,t){var r=new ta(e.i,e.x,e.y),n=new ta(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function dl(e,t,r,n){var i=new ta(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function hn(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ta(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ui.deviation=function(e,t,r,n){var i=t&&t.length,s=i?t[0]*r:e.length,a=Math.abs(ea(e,0,s,r));if(i)for(var o=0,l=t.length;o<l;o++){var h=t[o]*r,u=o<l-1?t[o+1]*r:e.length;a-=Math.abs(ea(e,h,u,r))}var c=0;for(o=0;o<n.length;o+=3){var f=n[o]*r,p=n[o+1]*r,d=n[o+2]*r;c+=Math.abs((e[f]-e[d])*(e[p+1]-e[f+1])-(e[f]-e[p])*(e[d+1]-e[f+1]))}return a===0&&c===0?0:Math.abs((c-a)/a)};function ea(e,t,r,n){for(var i=0,s=t,a=r-n;s<r;s+=n)i+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return i}Ui.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var a=0;a<t;a++)r.vertices.push(e[i][s][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var Ep=Ya.exports;const Ip=gu(Ep);var yi={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */yi.exports;(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,s=typeof ss=="object"&&ss;(s.global===s||s.window===s||s.self===s)&&(r=s);var a,o=2147483647,l=36,h=1,u=26,c=38,f=700,p=72,d=128,g="-",y=/^xn--/,b=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-h,x=Math.floor,w=String.fromCharCode,T;function S(M){throw new RangeError(m[M])}function I(M,F){for(var G=M.length,W=[];G--;)W[G]=F(M[G]);return W}function A(M,F){var G=M.split("@"),W="";G.length>1&&(W=G[0]+"@",M=G[1]),M=M.replace(v,".");var J=M.split("."),ot=I(J,F).join(".");return W+ot}function V(M){for(var F=[],G=0,W=M.length,J,ot;G<W;)J=M.charCodeAt(G++),J>=55296&&J<=56319&&G<W?(ot=M.charCodeAt(G++),(ot&64512)==56320?F.push(((J&1023)<<10)+(ot&1023)+65536):(F.push(J),G--)):F.push(J);return F}function tt(M){return I(M,function(F){var G="";return F>65535&&(F-=65536,G+=w(F>>>10&1023|55296),F=56320|F&1023),G+=w(F),G}).join("")}function E(M){return M-48<10?M-22:M-65<26?M-65:M-97<26?M-97:l}function N(M,F){return M+22+75*(M<26)-((F!=0)<<5)}function Et(M,F,G){var W=0;for(M=G?x(M/f):M>>1,M+=x(M/F);M>_*u>>1;W+=l)M=x(M/_);return x(W+(_+1)*M/(M+c))}function _t(M){var F=[],G=M.length,W,J=0,ot=d,lt=p,xt,Mt,Ut,It,nt,ft,pt,ee,re;for(xt=M.lastIndexOf(g),xt<0&&(xt=0),Mt=0;Mt<xt;++Mt)M.charCodeAt(Mt)>=128&&S("not-basic"),F.push(M.charCodeAt(Mt));for(Ut=xt>0?xt+1:0;Ut<G;){for(It=J,nt=1,ft=l;Ut>=G&&S("invalid-input"),pt=E(M.charCodeAt(Ut++)),(pt>=l||pt>x((o-J)/nt))&&S("overflow"),J+=pt*nt,ee=ft<=lt?h:ft>=lt+u?u:ft-lt,!(pt<ee);ft+=l)re=l-ee,nt>x(o/re)&&S("overflow"),nt*=re;W=F.length+1,lt=Et(J-It,W,It==0),x(J/W)>o-ot&&S("overflow"),ot+=x(J/W),J%=W,F.splice(J++,0,ot)}return tt(F)}function H(M){var F,G,W,J,ot,lt,xt,Mt,Ut,It,nt,ft=[],pt,ee,re,Br;for(M=V(M),pt=M.length,F=d,G=0,ot=p,lt=0;lt<pt;++lt)nt=M[lt],nt<128&&ft.push(w(nt));for(W=J=ft.length,J&&ft.push(g);W<pt;){for(xt=o,lt=0;lt<pt;++lt)nt=M[lt],nt>=F&&nt<xt&&(xt=nt);for(ee=W+1,xt-F>x((o-G)/ee)&&S("overflow"),G+=(xt-F)*ee,F=xt,lt=0;lt<pt;++lt)if(nt=M[lt],nt<F&&++G>o&&S("overflow"),nt==F){for(Mt=G,Ut=l;It=Ut<=ot?h:Ut>=ot+u?u:Ut-ot,!(Mt<It);Ut+=l)Br=Mt-It,re=l-It,ft.push(w(N(It+Br%re,0))),Mt=x(Br/re);ft.push(w(N(Mt,0))),ot=Et(G,ee,W==J),G=0,++W}++G,++F}return ft.join("")}function Rt(M){return A(M,function(F){return y.test(F)?_t(F.slice(4).toLowerCase()):F})}function Bt(M){return A(M,function(F){return b.test(F)?"xn--"+H(F):F})}if(a={version:"1.4.1",ucs2:{decode:V,encode:tt},decode:_t,encode:H,toASCII:Bt,toUnicode:Rt},n&&i)if(e.exports==n)i.exports=a;else for(T in a)a.hasOwnProperty(T)&&(n[T]=a[T]);else r.punycode=a})(ss)})(yi,yi.exports);var Ap=yi.exports,Cp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},pl=typeof Symbol<"u"&&Symbol,Rp=Cp,Mp=function(){return typeof pl!="function"||typeof Symbol!="function"||typeof pl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Rp()},ml={foo:{}},kp=Object,Pp=function(){return{__proto__:ml}.foo===ml.foo&&!({__proto__:null}instanceof kp)},Np="Function.prototype.bind called on incompatible ",as=Array.prototype.slice,Op=Object.prototype.toString,Fp="[object Function]",Lp=function(t){var r=this;if(typeof r!="function"||Op.call(r)!==Fp)throw new TypeError(Np+r);for(var n=as.call(arguments,1),i,s=function(){if(this instanceof i){var u=r.apply(this,n.concat(as.call(arguments)));return Object(u)===u?u:this}else return r.apply(t,n.concat(as.call(arguments)))},a=Math.max(0,r.length-n.length),o=[],l=0;l<a;l++)o.push("$"+l);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},Dp=Lp,qa=Function.prototype.bind||Dp,Bp=qa,Up=Bp.call(Function.call,Object.prototype.hasOwnProperty),z,Ar=SyntaxError,xu=Function,xr=TypeError,os=function(e){try{return xu('"use strict"; return ('+e+").constructor;")()}catch{}},Ze=Object.getOwnPropertyDescriptor;if(Ze)try{Ze({},"")}catch{Ze=null}var ls=function(){throw new xr},Gp=Ze?function(){try{return arguments.callee,ls}catch{try{return Ze(arguments,"callee").get}catch{return ls}}}():ls,ar=Mp(),$p=Pp(),St=Object.getPrototypeOf||($p?function(e){return e.__proto__}:null),hr={},jp=typeof Uint8Array>"u"||!St?z:St(Uint8Array),Ke={"%AggregateError%":typeof AggregateError>"u"?z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?z:ArrayBuffer,"%ArrayIteratorPrototype%":ar&&St?St([][Symbol.iterator]()):z,"%AsyncFromSyncIteratorPrototype%":z,"%AsyncFunction%":hr,"%AsyncGenerator%":hr,"%AsyncGeneratorFunction%":hr,"%AsyncIteratorPrototype%":hr,"%Atomics%":typeof Atomics>"u"?z:Atomics,"%BigInt%":typeof BigInt>"u"?z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?z:FinalizationRegistry,"%Function%":xu,"%GeneratorFunction%":hr,"%Int8Array%":typeof Int8Array>"u"?z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ar&&St?St(St([][Symbol.iterator]())):z,"%JSON%":typeof JSON=="object"?JSON:z,"%Map%":typeof Map>"u"?z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ar||!St?z:St(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?z:Promise,"%Proxy%":typeof Proxy>"u"?z:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ar||!St?z:St(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ar&&St?St(""[Symbol.iterator]()):z,"%Symbol%":ar?Symbol:z,"%SyntaxError%":Ar,"%ThrowTypeError%":Gp,"%TypedArray%":jp,"%TypeError%":xr,"%Uint8Array%":typeof Uint8Array>"u"?z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?z:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?z:WeakSet};if(St)try{null.error}catch(e){var zp=St(St(e));Ke["%Error.prototype%"]=zp}var Hp=function e(t){var r;if(t==="%AsyncFunction%")r=os("async function () {}");else if(t==="%GeneratorFunction%")r=os("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=os("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&St&&(r=St(i.prototype))}return Ke[t]=r,r},gl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vn=qa,vi=Up,Vp=vn.call(Function.call,Array.prototype.concat),Wp=vn.call(Function.apply,Array.prototype.splice),yl=vn.call(Function.call,String.prototype.replace),bi=vn.call(Function.call,String.prototype.slice),Xp=vn.call(Function.call,RegExp.prototype.exec),Yp=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,qp=/\\(\\)?/g,Jp=function(t){var r=bi(t,0,1),n=bi(t,-1);if(r==="%"&&n!=="%")throw new Ar("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ar("invalid intrinsic syntax, expected opening `%`");var i=[];return yl(t,Yp,function(s,a,o,l){i[i.length]=o?yl(l,qp,"$1"):a||s}),i},Zp=function(t,r){var n=t,i;if(vi(gl,n)&&(i=gl[n],n="%"+i[0]+"%"),vi(Ke,n)){var s=Ke[n];if(s===hr&&(s=Hp(n)),typeof s>"u"&&!r)throw new xr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ar("intrinsic "+t+" does not exist!")},Ja=function(t,r){if(typeof t!="string"||t.length===0)throw new xr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new xr('"allowMissing" argument must be a boolean');if(Xp(/^%?[^%]*%?$/,t)===null)throw new Ar("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Jp(t),i=n.length>0?n[0]:"",s=Zp("%"+i+"%",r),a=s.name,o=s.value,l=!1,h=s.alias;h&&(i=h[0],Wp(n,Vp([0,1],h)));for(var u=1,c=!0;u<n.length;u+=1){var f=n[u],p=bi(f,0,1),d=bi(f,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new Ar("property names with quotes must have matching quotes");if((f==="constructor"||!c)&&(l=!0),i+="."+f,a="%"+i+"%",vi(Ke,a))o=Ke[a];else if(o!=null){if(!(f in o)){if(!r)throw new xr("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ze&&u+1>=n.length){var g=Ze(o,f);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?o=g.get:o=o[f]}else c=vi(o,f),o=o[f];c&&!l&&(Ke[a]=o)}}return o},wu={exports:{}};(function(e){var t=qa,r=Ja,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(i,n),a=r("%Object.getOwnPropertyDescriptor%",!0),o=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}e.exports=function(c){var f=s(t,i,arguments);if(a&&o){var p=a(f,"length");p.configurable&&o(f,"length",{value:1+l(0,c.length-(arguments.length-1))})}return f};var h=function(){return s(t,n,arguments)};o?o(e.exports,"apply",{value:h}):e.exports.apply=h})(wu);var Kp=wu.exports,Su=Ja,Tu=Kp,Qp=Tu(Su("String.prototype.indexOf")),tm=function(t,r){var n=Su(t,!!r);return typeof n=="function"&&Qp(t,".prototype.")>-1?Tu(n):n};const em={},rm=Object.freeze(Object.defineProperty({__proto__:null,default:em},Symbol.toStringTag,{value:"Module"})),nm=lp(rm);var Za=typeof Map=="function"&&Map.prototype,hs=Object.getOwnPropertyDescriptor&&Za?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,_i=Za&&hs&&typeof hs.get=="function"?hs.get:null,vl=Za&&Map.prototype.forEach,Ka=typeof Set=="function"&&Set.prototype,us=Object.getOwnPropertyDescriptor&&Ka?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,xi=Ka&&us&&typeof us.get=="function"?us.get:null,bl=Ka&&Set.prototype.forEach,im=typeof WeakMap=="function"&&WeakMap.prototype,Zr=im?WeakMap.prototype.has:null,sm=typeof WeakSet=="function"&&WeakSet.prototype,Kr=sm?WeakSet.prototype.has:null,am=typeof WeakRef=="function"&&WeakRef.prototype,_l=am?WeakRef.prototype.deref:null,om=Boolean.prototype.valueOf,lm=Object.prototype.toString,hm=Function.prototype.toString,um=String.prototype.match,Qa=String.prototype.slice,ke=String.prototype.replace,cm=String.prototype.toUpperCase,xl=String.prototype.toLowerCase,Eu=RegExp.prototype.test,wl=Array.prototype.concat,oe=Array.prototype.join,fm=Array.prototype.slice,Sl=Math.floor,ra=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cs=Object.getOwnPropertySymbols,na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Nt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Cr||"symbol")?Symbol.toStringTag:null,Iu=Object.prototype.propertyIsEnumerable,Tl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function El(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Eu.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-Sl(-e):Sl(e);if(n!==e){var i=String(n),s=Qa.call(t,i.length+1);return ke.call(i,r,"$&_")+"."+ke.call(ke.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ke.call(t,r,"$&_")}var ia=nm,Il=ia.custom,Al=Cu(Il)?Il:null,dm=function e(t,r,n,i){var s=r||{};if(Ce(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ce(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Ce(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ce(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ce(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=s.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Mu(t,s);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return o?El(t,l):l}if(typeof t=="bigint"){var h=String(t)+"n";return o?El(t,h):h}var u=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof t=="object")return sa(t)?"[Array]":"[Object]";var c=km(s,n);if(typeof i>"u")i=[];else if(Ru(i,t)>=0)return"[Circular]";function f(E,N,Et){if(N&&(i=fm.call(i),i.push(N)),Et){var _t={depth:s.depth};return Ce(s,"quoteStyle")&&(_t.quoteStyle=s.quoteStyle),e(E,_t,n+1,i)}return e(E,s,n+1,i)}if(typeof t=="function"&&!Cl(t)){var p=wm(t),d=Rn(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+oe.call(d,", ")+" }":"")}if(Cu(t)){var g=Cr?ke.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):na.call(t);return typeof t=="object"&&!Cr?Ur(g):g}if(Cm(t)){for(var y="<"+xl.call(String(t.nodeName)),b=t.attributes||[],v=0;v<b.length;v++)y+=" "+b[v].name+"="+Au(pm(b[v].value),"double",s);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+xl.call(String(t.nodeName))+">",y}if(sa(t)){if(t.length===0)return"[]";var m=Rn(t,f);return c&&!Mm(m)?"["+aa(m,c)+"]":"[ "+oe.call(m,", ")+" ]"}if(gm(t)){var _=Rn(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!Iu.call(t,"cause")?"{ ["+String(t)+"] "+oe.call(wl.call("[cause]: "+f(t.cause),_),", ")+" }":_.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+oe.call(_,", ")+" }"}if(typeof t=="object"&&a){if(Al&&typeof t[Al]=="function"&&ia)return ia(t,{depth:u-n});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Sm(t)){var x=[];return vl&&vl.call(t,function(E,N){x.push(f(N,t,!0)+" => "+f(E,t))}),Rl("Map",_i.call(t),x,c)}if(Im(t)){var w=[];return bl&&bl.call(t,function(E){w.push(f(E,t))}),Rl("Set",xi.call(t),w,c)}if(Tm(t))return fs("WeakMap");if(Am(t))return fs("WeakSet");if(Em(t))return fs("WeakRef");if(vm(t))return Ur(f(Number(t)));if(_m(t))return Ur(f(ra.call(t)));if(bm(t))return Ur(om.call(t));if(ym(t))return Ur(f(String(t)));if(!mm(t)&&!Cl(t)){var T=Rn(t,f),S=Tl?Tl(t)===Object.prototype:t instanceof Object||t.constructor===Object,I=t instanceof Object?"":"null prototype",A=!S&&Nt&&Object(t)===t&&Nt in t?Qa.call(Be(t),8,-1):I?"Object":"",V=S||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",tt=V+(A||I?"["+oe.call(wl.call([],A||[],I||[]),": ")+"] ":"");return T.length===0?tt+"{}":c?tt+"{"+aa(T,c)+"}":tt+"{ "+oe.call(T,", ")+" }"}return String(t)};function Au(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function pm(e){return ke.call(String(e),/"/g,"&quot;")}function sa(e){return Be(e)==="[object Array]"&&(!Nt||!(typeof e=="object"&&Nt in e))}function mm(e){return Be(e)==="[object Date]"&&(!Nt||!(typeof e=="object"&&Nt in e))}function Cl(e){return Be(e)==="[object RegExp]"&&(!Nt||!(typeof e=="object"&&Nt in e))}function gm(e){return Be(e)==="[object Error]"&&(!Nt||!(typeof e=="object"&&Nt in e))}function ym(e){return Be(e)==="[object String]"&&(!Nt||!(typeof e=="object"&&Nt in e))}function vm(e){return Be(e)==="[object Number]"&&(!Nt||!(typeof e=="object"&&Nt in e))}function bm(e){return Be(e)==="[object Boolean]"&&(!Nt||!(typeof e=="object"&&Nt in e))}function Cu(e){if(Cr)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!na)return!1;try{return na.call(e),!0}catch{}return!1}function _m(e){if(!e||typeof e!="object"||!ra)return!1;try{return ra.call(e),!0}catch{}return!1}var xm=Object.prototype.hasOwnProperty||function(e){return e in this};function Ce(e,t){return xm.call(e,t)}function Be(e){return lm.call(e)}function wm(e){if(e.name)return e.name;var t=um.call(hm.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Ru(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Sm(e){if(!_i||!e||typeof e!="object")return!1;try{_i.call(e);try{xi.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Tm(e){if(!Zr||!e||typeof e!="object")return!1;try{Zr.call(e,Zr);try{Kr.call(e,Kr)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Em(e){if(!_l||!e||typeof e!="object")return!1;try{return _l.call(e),!0}catch{}return!1}function Im(e){if(!xi||!e||typeof e!="object")return!1;try{xi.call(e);try{_i.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Am(e){if(!Kr||!e||typeof e!="object")return!1;try{Kr.call(e,Kr);try{Zr.call(e,Zr)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Cm(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Mu(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Mu(Qa.call(e,0,t.maxStringLength),t)+n}var i=ke.call(ke.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Rm);return Au(i,"single",t)}function Rm(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+cm.call(t.toString(16))}function Ur(e){return"Object("+e+")"}function fs(e){return e+" { ? }"}function Rl(e,t,r,n){var i=n?aa(r,n):oe.call(r,", ");return e+" ("+t+") {"+i+"}"}function Mm(e){for(var t=0;t<e.length;t++)if(Ru(e[t],`
`)>=0)return!1;return!0}function km(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=oe.call(Array(e.indent+1)," ");else return null;return{base:r,prev:oe.call(Array(t+1),r)}}function aa(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+oe.call(e,","+r)+`
`+t.prev}function Rn(e,t){var r=sa(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=Ce(e,i)?t(e[i],e):""}var s=typeof cs=="function"?cs(e):[],a;if(Cr){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=s[o]}for(var l in e)Ce(e,l)&&(r&&String(Number(l))===l&&l<e.length||Cr&&a["$"+l]instanceof Symbol||(Eu.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof cs=="function")for(var h=0;h<s.length;h++)Iu.call(e,s[h])&&n.push("["+t(s[h])+"]: "+t(e[s[h]],e));return n}var to=Ja,Or=tm,Pm=dm,Nm=to("%TypeError%"),Mn=to("%WeakMap%",!0),kn=to("%Map%",!0),Om=Or("WeakMap.prototype.get",!0),Fm=Or("WeakMap.prototype.set",!0),Lm=Or("WeakMap.prototype.has",!0),Dm=Or("Map.prototype.get",!0),Bm=Or("Map.prototype.set",!0),Um=Or("Map.prototype.has",!0),eo=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},Gm=function(e,t){var r=eo(e,t);return r&&r.value},$m=function(e,t,r){var n=eo(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},jm=function(e,t){return!!eo(e,t)},zm=function(){var t,r,n,i={assert:function(s){if(!i.has(s))throw new Nm("Side channel does not contain "+Pm(s))},get:function(s){if(Mn&&s&&(typeof s=="object"||typeof s=="function")){if(t)return Om(t,s)}else if(kn){if(r)return Dm(r,s)}else if(n)return Gm(n,s)},has:function(s){if(Mn&&s&&(typeof s=="object"||typeof s=="function")){if(t)return Lm(t,s)}else if(kn){if(r)return Um(r,s)}else if(n)return jm(n,s);return!1},set:function(s,a){Mn&&s&&(typeof s=="object"||typeof s=="function")?(t||(t=new Mn),Fm(t,s,a)):kn?(r||(r=new kn),Bm(r,s,a)):(n||(n={key:{},next:null}),$m(n,s,a))}};return i},Hm=String.prototype.replace,Vm=/%20/g,ds={RFC1738:"RFC1738",RFC3986:"RFC3986"},ro={default:ds.RFC3986,formatters:{RFC1738:function(e){return Hm.call(e,Vm,"+")},RFC3986:function(e){return String(e)}},RFC1738:ds.RFC1738,RFC3986:ds.RFC3986},Wm=ro,ps=Object.prototype.hasOwnProperty,We=Array.isArray,ne=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Xm=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(We(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},ku=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},Ym=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(We(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ps.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return We(t)&&!We(r)&&(i=ku(t,n)),We(t)&&We(r)?(r.forEach(function(s,a){if(ps.call(t,a)){var o=t[a];o&&typeof o=="object"&&s&&typeof s=="object"?t[a]=e(o,s,n):t.push(s)}else t[a]=s}),t):Object.keys(r).reduce(function(s,a){var o=r[a];return ps.call(s,a)?s[a]=e(s[a],o,n):s[a]=o,s},i)},qm=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},Jm=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Zm=function(t,r,n,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var o="",l=0;l<a.length;++l){var h=a.charCodeAt(l);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Wm.RFC1738&&(h===40||h===41)){o+=a.charAt(l);continue}if(h<128){o=o+ne[h];continue}if(h<2048){o=o+(ne[192|h>>6]+ne[128|h&63]);continue}if(h<55296||h>=57344){o=o+(ne[224|h>>12]+ne[128|h>>6&63]+ne[128|h&63]);continue}l+=1,h=65536+((h&1023)<<10|a.charCodeAt(l)&1023),o+=ne[240|h>>18]+ne[128|h>>12&63]+ne[128|h>>6&63]+ne[128|h&63]}return o},Km=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],a=s.obj[s.prop],o=Object.keys(a),l=0;l<o.length;++l){var h=o[l],u=a[h];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:a,prop:h}),n.push(u))}return Xm(r),t},Qm=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},tg=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},eg=function(t,r){return[].concat(t,r)},rg=function(t,r){if(We(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},Pu={arrayToObject:ku,assign:qm,combine:eg,compact:Km,decode:Jm,encode:Zm,isBuffer:tg,isRegExp:Qm,maybeMap:rg,merge:Ym},Nu=zm,si=Pu,Qr=ro,ng=Object.prototype.hasOwnProperty,Ml={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},ge=Array.isArray,ig=Array.prototype.push,Ou=function(e,t){ig.apply(e,ge(t)?t:[t])},sg=Date.prototype.toISOString,kl=Qr.default,Pt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:si.encode,encodeValuesOnly:!1,format:kl,formatter:Qr.formatters[kl],indices:!1,serializeDate:function(t){return sg.call(t)},skipNulls:!1,strictNullHandling:!1},ag=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},ms={},og=function e(t,r,n,i,s,a,o,l,h,u,c,f,p,d,g,y){for(var b=t,v=y,m=0,_=!1;(v=v.get(ms))!==void 0&&!_;){var x=v.get(t);if(m+=1,typeof x<"u"){if(x===m)throw new RangeError("Cyclic object value");_=!0}typeof v.get(ms)>"u"&&(m=0)}if(typeof l=="function"?b=l(r,b):b instanceof Date?b=c(b):n==="comma"&&ge(b)&&(b=si.maybeMap(b,function(_t){return _t instanceof Date?c(_t):_t})),b===null){if(s)return o&&!d?o(r,Pt.encoder,g,"key",f):r;b=""}if(ag(b)||si.isBuffer(b)){if(o){var w=d?r:o(r,Pt.encoder,g,"key",f);return[p(w)+"="+p(o(b,Pt.encoder,g,"value",f))]}return[p(r)+"="+p(String(b))]}var T=[];if(typeof b>"u")return T;var S;if(n==="comma"&&ge(b))d&&o&&(b=si.maybeMap(b,o)),S=[{value:b.length>0?b.join(",")||null:void 0}];else if(ge(l))S=l;else{var I=Object.keys(b);S=h?I.sort(h):I}for(var A=i&&ge(b)&&b.length===1?r+"[]":r,V=0;V<S.length;++V){var tt=S[V],E=typeof tt=="object"&&typeof tt.value<"u"?tt.value:b[tt];if(!(a&&E===null)){var N=ge(b)?typeof n=="function"?n(A,tt):A:A+(u?"."+tt:"["+tt+"]");y.set(t,m);var Et=Nu();Et.set(ms,y),Ou(T,e(E,N,n,i,s,a,n==="comma"&&d&&ge(b)?null:o,l,h,u,c,f,p,d,g,Et))}}return T},lg=function(t){if(!t)return Pt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Pt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Qr.default;if(typeof t.format<"u"){if(!ng.call(Qr.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=Qr.formatters[n],s=Pt.filter;return(typeof t.filter=="function"||ge(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Pt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Pt.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Pt.charsetSentinel,delimiter:typeof t.delimiter>"u"?Pt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Pt.encode,encoder:typeof t.encoder=="function"?t.encoder:Pt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Pt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Pt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Pt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Pt.strictNullHandling}},hg=function(e,t){var r=e,n=lg(t),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ge(n.filter)&&(s=n.filter,i=s);var a=[];if(typeof r!="object"||r===null)return"";var o;t&&t.arrayFormat in Ml?o=t.arrayFormat:t&&"indices"in t?o=t.indices?"indices":"repeat":o="indices";var l=Ml[o];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=l==="comma"&&t&&t.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Nu(),c=0;c<i.length;++c){var f=i[c];n.skipNulls&&r[f]===null||Ou(a,og(r[f],f,l,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var p=a.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),p.length>0?d+p:""},Rr=Pu,oa=Object.prototype.hasOwnProperty,ug=Array.isArray,wt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Rr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},cg=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Fu=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},fg="utf8=%26%2310003%3B",dg="utf8=%E2%9C%93",pg=function(t,r){var n={__proto__:null},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,s),o=-1,l,h=r.charset;if(r.charsetSentinel)for(l=0;l<a.length;++l)a[l].indexOf("utf8=")===0&&(a[l]===dg?h="utf-8":a[l]===fg&&(h="iso-8859-1"),o=l,l=a.length);for(l=0;l<a.length;++l)if(l!==o){var u=a[l],c=u.indexOf("]="),f=c===-1?u.indexOf("="):c+1,p,d;f===-1?(p=r.decoder(u,wt.decoder,h,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,f),wt.decoder,h,"key"),d=Rr.maybeMap(Fu(u.slice(f+1),r),function(g){return r.decoder(g,wt.decoder,h,"value")})),d&&r.interpretNumericEntities&&h==="iso-8859-1"&&(d=cg(d)),u.indexOf("[]=")>-1&&(d=ug(d)?[d]:d),oa.call(n,p)?n[p]=Rr.combine(n[p],d):n[p]=d}return n},mg=function(e,t,r,n){for(var i=n?t:Fu(t,r),s=e.length-1;s>=0;--s){var a,o=e[s];if(o==="[]"&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var l=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,h=parseInt(l,10);!r.parseArrays&&l===""?a={0:i}:!isNaN(h)&&o!==l&&String(h)===l&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(a=[],a[h]=i):l!=="__proto__"&&(a[l]=i)}i=a}return i},gg=function(t,r,n,i){if(t){var s=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=n.depth>0&&a.exec(s),h=l?s.slice(0,l.index):s,u=[];if(h){if(!n.plainObjects&&oa.call(Object.prototype,h)&&!n.allowPrototypes)return;u.push(h)}for(var c=0;n.depth>0&&(l=o.exec(s))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&oa.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+s.slice(l.index)+"]"),mg(u,r,n,i)}},yg=function(t){if(!t)return wt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?wt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?wt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:wt.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:wt.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:wt.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:wt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:wt.comma,decoder:typeof t.decoder=="function"?t.decoder:wt.decoder,delimiter:typeof t.delimiter=="string"||Rr.isRegExp(t.delimiter)?t.delimiter:wt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:wt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:wt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:wt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:wt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:wt.strictNullHandling}},vg=function(e,t){var r=yg(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?pg(e,r):e,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),a=0;a<s.length;++a){var o=s[a],l=gg(o,n[o],r,typeof e=="string");i=Rr.merge(i,l,r)}return r.allowSparse===!0?i:Rr.compact(i)},bg=hg,_g=vg,xg=ro,wg={formats:xg,parse:_g,stringify:bg},Sg=Ap;function Zt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Tg=/^([a-z0-9.+-]+:)/i,Eg=/:[0-9]*$/,Ig=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Ag=["<",">",'"',"`"," ","\r",`
`,"	"],Cg=["{","}","|","\\","^","`"].concat(Ag),la=["'"].concat(Cg),Pl=["%","/","?",";","#"].concat(la),Nl=["/","?","#"],Rg=255,Ol=/^[+a-z0-9A-Z_-]{0,63}$/,Mg=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kg={javascript:!0,"javascript:":!0},ha={javascript:!0,"javascript:":!0},wr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ua=wg;function $i(e,t,r){if(e&&typeof e=="object"&&e instanceof Zt)return e;var n=new Zt;return n.parse(e,t,r),n}Zt.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",s=e.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),e=s.join(i);var o=e;if(o=o.trim(),!r&&e.split("#").length===1){var l=Ig.exec(o);if(l)return this.path=o,this.href=o,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=ua.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=Tg.exec(o);if(h){h=h[0];var u=h.toLowerCase();this.protocol=u,o=o.substr(h.length)}if(r||h||o.match(/^\/\/[^@/]+@[^@/]+/)){var c=o.substr(0,2)==="//";c&&!(h&&ha[h])&&(o=o.substr(2),this.slashes=!0)}if(!ha[h]&&(c||h&&!wr[h])){for(var f=-1,p=0;p<Nl.length;p++){var d=o.indexOf(Nl[p]);d!==-1&&(f===-1||d<f)&&(f=d)}var g,y;f===-1?y=o.lastIndexOf("@"):y=o.lastIndexOf("@",f),y!==-1&&(g=o.slice(0,y),o=o.slice(y+1),this.auth=decodeURIComponent(g)),f=-1;for(var p=0;p<Pl.length;p++){var d=o.indexOf(Pl[p]);d!==-1&&(f===-1||d<f)&&(f=d)}f===-1&&(f=o.length),this.host=o.slice(0,f),o=o.slice(f),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var v=this.hostname.split(/\./),p=0,m=v.length;p<m;p++){var _=v[p];if(_&&!_.match(Ol)){for(var x="",w=0,T=_.length;w<T;w++)_.charCodeAt(w)>127?x+="x":x+=_[w];if(!x.match(Ol)){var S=v.slice(0,p),I=v.slice(p+1),A=_.match(Mg);A&&(S.push(A[1]),I.unshift(A[2])),I.length&&(o="/"+I.join(".")+o),this.hostname=S.join(".");break}}}this.hostname.length>Rg?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=Sg.toASCII(this.hostname));var V=this.port?":"+this.port:"",tt=this.hostname||"";this.host=tt+V,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!kg[u])for(var p=0,m=la.length;p<m;p++){var E=la[p];if(o.indexOf(E)!==-1){var N=encodeURIComponent(E);N===E&&(N=escape(E)),o=o.split(E).join(N)}}var Et=o.indexOf("#");Et!==-1&&(this.hash=o.substr(Et),o=o.slice(0,Et));var _t=o.indexOf("?");if(_t!==-1?(this.search=o.substr(_t),this.query=o.substr(_t+1),t&&(this.query=ua.parse(this.query)),o=o.slice(0,_t)):t&&(this.search="",this.query={}),o&&(this.pathname=o),wr[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var V=this.pathname||"",H=this.search||"";this.path=V+H}return this.href=this.format(),this};function Pg(e){return typeof e=="string"&&(e=$i(e)),e instanceof Zt?e.format():Zt.prototype.format.call(e)}Zt.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=ua.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||wr[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),a=a.replace("#","%23"),t+i+r+a+n};function Ng(e,t){return $i(e,!1,!0).resolve(t)}Zt.prototype.resolve=function(e){return this.resolveObject($i(e,!1,!0)).format()};Zt.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new Zt;t.parse(e,!1,!0),e=t}for(var r=new Zt,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),o=0;o<a.length;o++){var l=a[o];l!=="protocol"&&(r[l]=e[l])}return wr[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!wr[e.protocol]){for(var h=Object.keys(e),u=0;u<h.length;u++){var c=h[u];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!ha[e.protocol]){for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var f=r.pathname||"",p=r.search||"";r.path=f+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",y=g||d||r.host&&e.pathname,b=y,v=r.pathname&&r.pathname.split("/")||[],m=e.pathname&&e.pathname.split("/")||[],_=r.protocol&&!wr[r.protocol];if(_&&(r.hostname="",r.port=null,r.host&&(v[0]===""?v[0]=r.host:v.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(m[0]===""?m[0]=e.host:m.unshift(e.host)),e.host=null),y=y&&(m[0]===""||v[0]==="")),g)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,v=m;else if(m.length)v||(v=[]),v.pop(),v=v.concat(m),r.search=e.search,r.query=e.query;else if(e.search!=null){if(_){r.host=v.shift(),r.hostname=r.host;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=v.slice(-1)[0],T=(r.host||e.host||v.length>1)&&(w==="."||w==="..")||w==="",S=0,I=v.length;I>=0;I--)w=v[I],w==="."?v.splice(I,1):w===".."?(v.splice(I,1),S++):S&&(v.splice(I,1),S--);if(!y&&!b)for(;S--;S)v.unshift("..");y&&v[0]!==""&&(!v[0]||v[0].charAt(0)!=="/")&&v.unshift(""),T&&v.join("/").substr(-1)!=="/"&&v.push("");var A=v[0]===""||v[0]&&v[0].charAt(0)==="/";if(_){r.hostname=A?"":v.length?v.shift():"",r.host=r.hostname;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return y=y||r.host&&v.length,y&&!A&&v.unshift(""),v.length>0?r.pathname=v.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Zt.prototype.parseHost=function(){var e=this.host,t=Eg.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Og=$i,Fg=Ng,Lg=Pg;const Dg={parse:Og,format:Lg,resolve:Fg},Fl={};function Z(e,t,r=3){if(Fl[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(n))),Fl[t]=!0}let gs;function Bg(){return typeof gs>"u"&&(gs=function(){var r;const t={stencil:!0,failIfMajorPerformanceCaveat:B.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!B.ADAPTER.getWebGLRenderingContext())return!1;const n=B.ADAPTER.createCanvas();let i=n.getContext("webgl",t)||n.getContext("experimental-webgl",t);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const a=i.getExtension("WEBGL_lose_context");a&&a.loseContext()}return i=null,s}catch{return!1}}()),gs}var Ug={grad:.9,turn:360,rad:360/(2*Math.PI)},me=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Tt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},zt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},Lu=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Ll=function(e){return{r:zt(e.r,0,255),g:zt(e.g,0,255),b:zt(e.b,0,255),a:zt(e.a)}},ys=function(e){return{r:Tt(e.r),g:Tt(e.g),b:Tt(e.b),a:Tt(e.a,3)}},Gg=/^#([0-9a-f]{3,8})$/i,Pn=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Du=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=Math.max(t,r,n),a=s-Math.min(t,r,n),o=a?s===t?(r-n)/a:s===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:i}},Bu=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var s=Math.floor(t),a=n*(1-r),o=n*(1-(t-s)*r),l=n*(1-(1-t+s)*r),h=s%6;return{r:255*[n,o,a,a,l,n][h],g:255*[l,n,n,o,a,a][h],b:255*[a,a,l,n,n,o][h],a:i}},Dl=function(e){return{h:Lu(e.h),s:zt(e.s,0,100),l:zt(e.l,0,100),a:zt(e.a)}},Bl=function(e){return{h:Tt(e.h),s:Tt(e.s),l:Tt(e.l),a:Tt(e.a,3)}},Ul=function(e){return Bu((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},tn=function(e){return{h:(t=Du(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},$g=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jg=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zg=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hg=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ca={string:[[function(e){var t=Gg.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Tt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Tt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=zg.exec(e)||Hg.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Ll({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=$g.exec(e)||jg.exec(e);if(!t)return null;var r,n,i=Dl({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(Ug[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Ul(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=i===void 0?1:i;return me(t)&&me(r)&&me(n)?Ll({r:Number(t),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,s=i===void 0?1:i;if(!me(t)||!me(r)||!me(n))return null;var a=Dl({h:Number(t),s:Number(r),l:Number(n),a:Number(s)});return Ul(a)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,s=i===void 0?1:i;if(!me(t)||!me(r)||!me(n))return null;var a=function(o){return{h:Lu(o.h),s:zt(o.s,0,100),v:zt(o.v,0,100),a:zt(o.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(s)});return Bu(a)},"hsv"]]},Gl=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},Vg=function(e){return typeof e=="string"?Gl(e.trim(),ca.string):typeof e=="object"&&e!==null?Gl(e,ca.object):[null,void 0]},vs=function(e,t){var r=tn(e);return{h:r.h,s:zt(r.s+100*t,0,100),l:r.l,a:r.a}},bs=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},$l=function(e,t){var r=tn(e);return{h:r.h,s:r.s,l:zt(r.l+100*t,0,100),a:r.a}},fa=function(){function e(t){this.parsed=Vg(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Tt(bs(this.rgba),2)},e.prototype.isDark=function(){return bs(this.rgba)<.5},e.prototype.isLight=function(){return bs(this.rgba)>=.5},e.prototype.toHex=function(){return t=ys(this.rgba),r=t.r,n=t.g,i=t.b,a=(s=t.a)<1?Pn(Tt(255*s)):"","#"+Pn(r)+Pn(n)+Pn(i)+a;var t,r,n,i,s,a},e.prototype.toRgb=function(){return ys(this.rgba)},e.prototype.toRgbString=function(){return t=ys(this.rgba),r=t.r,n=t.g,i=t.b,(s=t.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var t,r,n,i,s},e.prototype.toHsl=function(){return Bl(tn(this.rgba))},e.prototype.toHslString=function(){return t=Bl(tn(this.rgba)),r=t.h,n=t.s,i=t.l,(s=t.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var t,r,n,i,s},e.prototype.toHsv=function(){return t=Du(this.rgba),{h:Tt(t.h),s:Tt(t.s),v:Tt(t.v),a:Tt(t.a,3)};var t},e.prototype.invert=function(){return ie({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),ie(vs(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),ie(vs(this.rgba,-t))},e.prototype.grayscale=function(){return ie(vs(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),ie($l(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),ie($l(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?ie({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):Tt(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=tn(this.rgba);return typeof t=="number"?ie({h:t,s:r.s,l:r.l,a:r.a}):Tt(r.h)},e.prototype.isEqual=function(t){return this.toHex()===ie(t).toHex()},e}(),ie=function(e){return e instanceof fa?e:new fa(e)},jl=[],Wg=function(e){e.forEach(function(t){jl.indexOf(t)<0&&(t(fa,ca),jl.push(t))})};function Xg(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};e.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,h=n[this.toHex()];if(h)return h;if(a!=null&&a.closest){var u=this.toRgb(),c=1/0,f="black";if(!s.length)for(var p in r)s[p]=new e(r[p]).toRgb();for(var d in r){var g=(o=u,l=s[d],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));g<c&&(c=g,f=d)}return f}},t.string.push([function(a){var o=a.toLowerCase(),l=o==="transparent"?"#0000":r[o];return l?new e(l).toRgb():null},"name"])}Wg([Xg]);const Sr=class{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Sr)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,s)=>i===t[s]);if(e!==null&&t!==null){const i=Object.keys(e),s=Object.keys(t);return i.length!==s.length?!1:i.every(a=>e[a]===t[a])}return e===t}toRgba(){const[e,t,r,n]=this._components;return{r:e,g:t,b:r,a:n}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,n]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(n*255),e}toRgbArray(e){e=e??[];const[t,r,n]=this._components;return e[0]=t,e[1]=r,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,n,i]=Sr.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return t&&(r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0),(e*255<<24)+(r<<16)+(n<<8)+i}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,n]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,n,i]=this._components;return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}normalize(e){let t,r,n,i;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const s=e;t=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,n,i=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,n,i=255]=e,t/=255,r/=255,n/=255,i/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Sr.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const s=ie(e);s.isValid()&&({r:t,g:r,b:n,a:i}=s.rgba,t/=255,r/=255,n/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((n,i)=>{e[i]=Math.min(Math.max(n,t),r)}),e)}};let At=Sr;At.shared=new Sr;At.temp=new Sr;At.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function Yg(){const e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[L.NORMAL_NPM]=L.NORMAL,e[L.ADD_NPM]=L.ADD,e[L.SCREEN_NPM]=L.SCREEN,t[L.NORMAL]=L.NORMAL_NPM,t[L.ADD]=L.ADD_NPM,t[L.SCREEN]=L.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}const qg=Yg();function Uu(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function wi(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function zl(e){return!(e&e-1)&&!!e}function Hl(e){let t=(e>65535?1:0)<<4;e>>>=t;let r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function ai(e,t,r){const n=e.length;let i;if(t>=n||r===0)return;r=t+r>n?n-t:r;const s=n-r;for(i=t;i<s;++i)e[i]=e[i+r];e.length=s}function gr(e){return e===0?0:e<0?-1:1}let Jg=0;function un(){return++Jg}const Gu=class{constructor(e,t,r,n){this.left=e,this.top=t,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let da=Gu;da.EMPTY=new Gu(0,0,0,0);const Vl={},se=Object.create(null),Ie=Object.create(null);function Wl(e,t,r){for(let n=0,i=4*r*t;n<t;++n,i+=4)if(e[i+3]!==0)return!1;return!0}function Xl(e,t,r,n,i){const s=4*t;for(let a=n,o=n*s+4*r;a<=i;++a,o+=s)if(e[o+3]!==0)return!1;return!0}function Zg(e){const{width:t,height:r}=e,n=e.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,t,r).data;let a=0,o=0,l=t-1,h=r-1;for(;o<r&&Wl(s,t,o);)++o;if(o===r)return da.EMPTY;for(;Wl(s,t,h);)--h;for(;Xl(s,t,a,o,h);)++a;for(;Xl(s,t,l,o,h);)--l;return++l,++h,new da(a,o,l,h)}function Kg(e){const t=Zg(e),{width:r,height:n}=t;let i=null;if(!t.isEmpty()){const s=e.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(t.left,t.top,r,n)}return{width:r,height:n,data:i}}let Nn;function Qg(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location,Nn||(Nn=document.createElement("a")),Nn.href=e;const r=Dg.parse(Nn.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function Yl(e,t=1){var n;const r=(n=B.RETINA_PREFIX)==null?void 0:n.exec(e);return r?parseFloat(r[1]):t}var j=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(j||{});const pa=e=>{if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={...typeof e.extension!="object"?{type:e.extension}:e.extension,ref:e}}if(typeof e=="object")e={...e};else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},ql=(e,t)=>pa(e).priority??t,q={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(pa).forEach(t=>{t.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,t)})}),this},add(...e){return e.map(pa).forEach(t=>{t.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](t):(i[r]=i[r]||[],i[r].push(t))})}),this},handle(e,t,r){const n=this._addHandlers,i=this._removeHandlers;if(n[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,i[e]=r;const s=this._queue;return s[e]&&(s[e].forEach(a=>t(a)),delete s[e]),this},handleByMap(e,t){return this.handle(e,r=>{t[r.name]=r.ref},r=>{delete t[r.name]})},handleByList(e,t,r=-1){return this.handle(e,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((i,s)=>ql(s,r)-ql(i,r)))},n=>{const i=t.indexOf(n.ref);i!==-1&&t.splice(i,1)})}};class ty{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const ey=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function ry(e){let t="";for(let r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}function ny(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=ey.replace(/%forloop%/gi,ry(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}const _s=0,xs=1,ws=2,Ss=3,Ts=4,Es=5;class Fr{constructor(){this.data=0,this.blendMode=L.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<_s)}set blend(t){!!(this.data&1<<_s)!==t&&(this.data^=1<<_s)}get offsets(){return!!(this.data&1<<xs)}set offsets(t){!!(this.data&1<<xs)!==t&&(this.data^=1<<xs)}get culling(){return!!(this.data&1<<ws)}set culling(t){!!(this.data&1<<ws)!==t&&(this.data^=1<<ws)}get depthTest(){return!!(this.data&1<<Ss)}set depthTest(t){!!(this.data&1<<Ss)!==t&&(this.data^=1<<Ss)}get depthMask(){return!!(this.data&1<<Es)}set depthMask(t){!!(this.data&1<<Es)!==t&&(this.data^=1<<Es)}get clockwiseFrontFace(){return!!(this.data&1<<Ts)}set clockwiseFrontFace(t){!!(this.data&1<<Ts)!==t&&(this.data^=1<<Ts)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==L.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new Fr;return t.depthTest=!1,t.blend=!0,t}}const ma=[];function $u(e,t){if(!e)return null;let r="";if(typeof e=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(let n=ma.length-1;n>=0;--n){const i=ma[n];if(i.test&&i.test(e,r))return new i(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Kt{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,r,n,i,s,a,o,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:u}=this;this._aliasCount++;for(let c=0,f=u.length;c<f;c++)u[c][h](t,r,n,i,s,a,o,l);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Kt.prototype,{dispatch:{value:Kt.prototype.emit},run:{value:Kt.prototype.emit}});class cn{constructor(t=0,r=0){this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Kt("setRealSize"),this.onUpdate=new Kt("update"),this.onError=new Kt("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,r){return!1}}class no extends cn{constructor(t,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=t}upload(t,r,n){const i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===De.UNPACK);const s=r.realWidth,a=r.realHeight;return n.width===s&&n.height===a?i.texSubImage2D(r.target,0,0,0,s,a,r.format,n.type,this.data):(n.width=s,n.height=a,i.texImage2D(r.target,0,n.internalFormat,s,a,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array}}const iy={scaleMode:ye.NEAREST,format:C.RGBA,alphaMode:De.NPM},ur=class extends Bi{constructor(e=null,t=null){super(),t=Object.assign({},ur.defaultOptions,t);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:a,height:o,wrapMode:l,format:h,type:u,target:c,resolution:f,resourceOptions:p}=t;e&&!(e instanceof cn)&&(e=$u(e,p),e.internal=!0),this.resolution=f||B.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((o||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=h,this.type=u,this.target=c,this.alphaMode=r,this.uid=un(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&o>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=zl(this.realWidth)&&zl(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ie[this.cacheId],delete se[this.cacheId],this.cacheId=null),this.dispose(),ur.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=B.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let i=null;if(n)i=e;else{if(!e._pixiId){const a=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${un()}`}i=e._pixiId}let s=Ie[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new ur(e,t),s.cacheId=i,ur.addToCache(s,i)),s}static fromBuffer(e,t,r,n){e=e||new Float32Array(t*r*4);const i=new no(e,{width:t,height:r}),s=e instanceof Float32Array?X.FLOAT:X.UNSIGNED_BYTE;return new ur(i,Object.assign({},iy,{type:s},n))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Ie[t]&&Ie[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),Ie[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Ie[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete Ie[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete Ie[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};let Y=ur;Y.defaultOptions={mipmap:Qe.POW2,anisotropicLevel:0,scaleMode:ye.LINEAR,wrapMode:an.CLAMP,alphaMode:De.UNPACK,target:_r.TEXTURE_2D,format:C.RGBA,type:X.UNSIGNED_BYTE};Y._globalBatch=0;class ga{constructor(){this.texArray=null,this.blend=0,this.type=Me.TRIANGLES,this.start=0,this.size=0,this.data=null}}let sy=0;class Ot{constructor(t,r=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=sy++,this.disposeRunner=new Kt("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?fe.ELEMENT_ARRAY_BUFFER:fe.ARRAY_BUFFER}get index(){return this.type===fe.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new Ot(t)}}class Si{constructor(t,r=0,n=!1,i=X.FLOAT,s,a,o,l=1){this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=a,this.instance=o,this.divisor=l}destroy(){this.buffer=null}static from(t,r,n,i,s){return new Si(t,r,n,i,s)}}const ay={Float32Array,Uint32Array,Int32Array,Uint8Array};function oy(e,t){let r=0,n=0;const i={};for(let l=0;l<e.length;l++)n+=t[l],r+=e[l].length;const s=new ArrayBuffer(r*4);let a=null,o=0;for(let l=0;l<e.length;l++){const h=t[l],u=e[l],c=Uu(u);i[c]||(i[c]=new ay[c](s)),a=i[c];for(let f=0;f<u.length;f++){const p=(f/h|0)*n+o,d=f%h;a[p+d]=u[f]}o+=h}return new Float32Array(s)}const Jl={5126:4,5123:2,5121:1};let ly=0;const hy={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Mr{constructor(t=[],r={}){this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=ly++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Kt("disposeGeometry"),this.refCount=0}addAttribute(t,r,n=0,i=!1,s,a,o,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ot||(r instanceof Array&&(r=new Float32Array(r)),r=new Ot(r));const h=t.split("|");if(h.length>1){for(let c=0;c<h.length;c++)this.addAttribute(h[c],r,n,i,s);return this}let u=this.buffers.indexOf(r);return u===-1&&(this.buffers.push(r),u=this.buffers.length-1),this.attributes[t]=new Si(u,n,i,s,a,o,l),this.instanced=this.instanced||l,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof Ot||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ot(t)),t.type=fe.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],r=[],n=new Ot;let i;for(i in this.attributes){const s=this.attributes[i],a=this.buffers[s.buffer];t.push(a.data),r.push(s.size*Jl[s.type]/4),s.buffer=0}for(n.data=oy(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const r=this.attributes[t];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new Mr;for(let r=0;r<this.buffers.length;r++)t.buffers[r]=new Ot(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];t.attributes[r]=new Si(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=fe.ELEMENT_ARRAY_BUFFER),t}static merge(t){const r=new Mr,n=[],i=[],s=[];let a;for(let o=0;o<t.length;o++){a=t[o];for(let l=0;l<a.buffers.length;l++)i[l]=i[l]||0,i[l]+=a.buffers[l].data.length,s[l]=0}for(let o=0;o<a.buffers.length;o++)n[o]=new hy[Uu(a.buffers[o].data)](i[o]),r.buffers[o]=new Ot(n[o]);for(let o=0;o<t.length;o++){a=t[o];for(let l=0;l<a.buffers.length;l++)n[l].set(a.buffers[l].data,s[l]),s[l]+=a.buffers[l].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=fe.ELEMENT_ARRAY_BUFFER;let o=0,l=0,h=0,u=0;for(let c=0;c<a.buffers.length;c++)if(a.buffers[c]!==a.indexBuffer){u=c;break}for(const c in a.attributes){const f=a.attributes[c];(f.buffer|0)===u&&(l+=f.size*Jl[f.type]/4)}for(let c=0;c<t.length;c++){const f=t[c].indexBuffer.data;for(let p=0;p<f.length;p++)r.indexBuffer.data[p+h]+=o;o+=t[c].buffers[u].data.length/l,h+=f.length}}return r}}class ju extends Mr{constructor(t=!1){super(),this._buffer=new Ot(null,t,!1),this._indexBuffer=new Ot(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,X.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,X.FLOAT).addAttribute("aColor",this._buffer,4,!0,X.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,X.FLOAT).addIndex(this._indexBuffer)}}const Ti=Math.PI*2,uy=180/Math.PI,cy=Math.PI/180;var Ct=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(Ct||{});class gt{constructor(t=0,r=0){this.x=0,this.y=0,this.x=t,this.y=r}clone(){return new gt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,r=t){return this.x=t,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const On=[new gt,new gt,new gt,new gt];class K{constructor(t=0,r=0,n=0,i=0){this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ct.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new K(0,0,0,0)}clone(){return new K(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(t,r){if(!r){const S=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=S)return!1;const A=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>A}const n=this.left,i=this.right,s=this.top,a=this.bottom;if(i<=n||a<=s)return!1;const o=On[0].set(t.left,t.top),l=On[1].set(t.left,t.bottom),h=On[2].set(t.right,t.top),u=On[3].set(t.right,t.bottom);if(h.x<=o.x||l.y<=o.y)return!1;const c=Math.sign(r.a*r.d-r.b*r.c);if(c===0||(r.apply(o,o),r.apply(l,l),r.apply(h,h),r.apply(u,u),Math.max(o.x,l.x,h.x,u.x)<=n||Math.min(o.x,l.x,h.x,u.x)>=i||Math.max(o.y,l.y,h.y,u.y)<=s||Math.min(o.y,l.y,h.y,u.y)>=a))return!1;const f=c*(l.y-o.y),p=c*(o.x-l.x),d=f*n+p*s,g=f*i+p*s,y=f*n+p*a,b=f*i+p*a;if(Math.max(d,g,y,b)<=f*o.x+p*o.y||Math.min(d,g,y,b)>=f*u.x+p*u.y)return!1;const v=c*(o.y-h.y),m=c*(h.x-o.x),_=v*n+m*s,x=v*i+m*s,w=v*n+m*a,T=v*i+m*a;return!(Math.max(_,x,w,T)<=v*o.x+m*o.y||Math.min(_,x,w,T)>=v*u.x+m*u.y)}pad(t=0,r=t){return this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this}fit(t){const r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(t=1,r=.001){const n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this}enlarge(t){const r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class io{constructor(t=0,r=0,n=0){this.x=t,this.y=r,this.radius=n,this.type=Ct.CIRC}clone(){return new io(this.x,this.y,this.radius)}contains(t,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-t,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new K(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class so{constructor(t=0,r=0,n=0,i=0){this.x=t,this.y=r,this.width=n,this.height=i,this.type=Ct.ELIP}clone(){return new so(this.x,this.y,this.width,this.height)}contains(t,r){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new K(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class en{constructor(...t){let r=Array.isArray(t[0])?t[0]:t;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Ct.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),r=new en(t);return r.closeStroke=this.closeStroke,r}contains(t,r){let n=!1;const i=this.points.length/2;for(let s=0,a=i-1;s<i;a=s++){const o=this.points[s*2],l=this.points[s*2+1],h=this.points[a*2],u=this.points[a*2+1];l>r!=u>r&&t<(h-o)*((r-l)/(u-l))+o&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,r)=>`${t}, ${r}`,"")}]`}}class ao{constructor(t=0,r=0,n=0,i=0,s=20){this.x=t,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Ct.RREC}clone(){return new ao(this.x,this.y,this.width,this.height,this.radius)}contains(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let i=t-(this.x+n),s=r-(this.y+n);const a=n*n;if(i*i+s*s<=a||(i=t-(this.x+this.width-n),i*i+s*s<=a)||(s=r-(this.y+this.height-n),i*i+s*s<=a)||(i=t-(this.x+n),i*i+s*s<=a))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class vt{constructor(t=1,r=0,n=0,i=1,s=0,a=0){this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,r,n,i,s,a){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a,this}toArray(t,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,r){r=r||new gt;const n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(t,r){r=r||new gt;const n=1/(this.a*this.d+this.c*-this.b),i=t.x,s=t.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(t,r){return this.tx+=t,this.ty+=r,this}scale(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this}rotate(t){const r=Math.cos(t),n=Math.sin(t),i=this.a,s=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this}append(t){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*s,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*s,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*s+this.ty,this}setTransform(t,r,n,i,s,a,o,l,h){return this.a=Math.cos(o+h)*s,this.b=Math.sin(o+h)*s,this.c=-Math.sin(o-l)*a,this.d=Math.cos(o-l)*a,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(t){const r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this}decompose(t){const r=this.a,n=this.b,i=this.c,s=this.d,a=t.pivot,o=-Math.atan2(-i,s),l=Math.atan2(n,r),h=Math.abs(o+l);return h<1e-5||Math.abs(Ti-h)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=l),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+s*s),t.position.x=this.tx+(a.x*r+a.y*i),t.position.y=this.ty+(a.x*n+a.y*s),t}invert(){const t=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,a=t*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*s)/a,this.ty=-(t*this.ty-r*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new vt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new vt}static get TEMP_MATRIX(){return new vt}}const je=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ze=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],He=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ve=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ya=[],zu=[],Fn=Math.sign;function fy(){for(let e=0;e<16;e++){const t=[];ya.push(t);for(let r=0;r<16;r++){const n=Fn(je[e]*je[r]+He[e]*ze[r]),i=Fn(ze[e]*je[r]+Ve[e]*ze[r]),s=Fn(je[e]*He[r]+He[e]*Ve[r]),a=Fn(ze[e]*He[r]+Ve[e]*Ve[r]);for(let o=0;o<16;o++)if(je[o]===n&&ze[o]===i&&He[o]===s&&Ve[o]===a){t.push(o);break}}}for(let e=0;e<16;e++){const t=new vt;t.set(je[e],ze[e],He[e],Ve[e],0,0),zu.push(t)}}fy();const st={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>je[e],uY:e=>ze[e],vX:e=>He[e],vY:e=>Ve[e],inv:e=>e&8?e&15:-e&7,add:(e,t)=>ya[e][t],sub:(e,t)=>ya[e][st.inv(t)],rotate180:e=>e^4,isVertical:e=>(e&3)===2,byDirection:(e,t)=>Math.abs(e)*2<=Math.abs(t)?t>=0?st.S:st.N:Math.abs(t)*2<=Math.abs(e)?e>0?st.E:st.W:t>0?e>0?st.SE:st.SW:e>0?st.NE:st.NW,matrixAppendRotationInv:(e,t,r=0,n=0)=>{const i=zu[st.inv(t)];i.tx=r,i.ty=n,e.append(i)}};class Xe{constructor(t,r,n=0,i=0){this._x=n,this._y=i,this.cb=t,this.scope=r}clone(t=this.cb,r=this.scope){return new Xe(t,r,this._x,this._y)}set(t=0,r=t){return(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}const Hu=class{constructor(){this.worldTransform=new vt,this.localTransform=new vt,this.position=new Xe(this.onChange,this,0,0),this.scale=new Xe(this.onChange,this,1,1),this.pivot=new Xe(this.onChange,this,0,0),this.skew=new Xe(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};let oo=Hu;oo.IDENTITY=new Hu;var dy=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,py=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Zl(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function Is(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=!1;return t}function Vu(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Is(2*t);case"bvec3":return Is(3*t);case"bvec4":return Is(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Tr=[{test:e=>e.type==="float"&&e.size===1&&!e.isArray,code:e=>`
            if(uv["${e}"] !== ud["${e}"].value)
            {
                ud["${e}"].value = uv["${e}"]
                gl.uniform1f(ud["${e}"].location, uv["${e}"])
            }
            `},{test:(e,t)=>(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray&&(t==null||t.castToBaseTexture!==void 0),code:e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${e}"], t);

            if(ud["${e}"].value !== t)
            {
                ud["${e}"].value = t;
                gl.uniform1i(ud["${e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(e,t)=>e.type==="mat3"&&e.size===1&&!e.isArray&&t.a!==void 0,code:e=>`
            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));
            `,codeUbo:e=>`
                var ${e}_matrix = uv.${e}.toArray(true);

                data[offset] = ${e}_matrix[0];
                data[offset+1] = ${e}_matrix[1];
                data[offset+2] = ${e}_matrix[2];
        
                data[offset + 4] = ${e}_matrix[3];
                data[offset + 5] = ${e}_matrix[4];
                data[offset + 6] = ${e}_matrix[5];
        
                data[offset + 8] = ${e}_matrix[6];
                data[offset + 9] = ${e}_matrix[7];
                data[offset + 10] = ${e}_matrix[8];
            `},{test:(e,t)=>e.type==="vec2"&&e.size===1&&!e.isArray&&t.x!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${e}"].location, v.x, v.y);
                }`,codeUbo:e=>`
                v = uv.${e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:e=>e.type==="vec2"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);
                }
            `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.width!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(e,t)=>e.type==="vec3"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:e=>e.type==="vec4"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])
                }`}],my={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},gy={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function yy(e,t){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in e.uniforms){const s=t[i];if(!s){(n=e.uniforms[i])!=null&&n.group&&(e.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const a=e.uniforms[i];let o=!1;for(let l=0;l<Tr.length;l++)if(Tr[l].test(s,a)){r.push(Tr[l].code(i,a)),o=!0;break}if(!o){const h=(s.size===1&&!s.isArray?my:gy)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Wu={};let or=Wu;function vy(){if(or===Wu||or!=null&&or.isContextLost()){const e=B.ADAPTER.createCanvas();let t;B.PREFER_ENV>=ir.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),or=t}return or}let Ln;function by(){if(!Ln){Ln=jt.MEDIUM;const e=vy();e&&e.getShaderPrecisionFormat&&(Ln=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision?jt.HIGH:jt.MEDIUM)}return Ln}function Kl(e,t){const r=e.getShaderSource(t).split(`
`).map((h,u)=>`${u}: ${h}`),n=e.getShaderInfoLog(t),i=n.split(`
`),s={},a=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),o=[""];a.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);o[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...o),console.groupEnd()}function _y(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||Kl(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||Kl(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}const xy={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Xu(e){return xy[e]}let Dn=null;const Ql={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Yu(e,t){if(!Dn){const r=Object.keys(Ql);Dn={};for(let n=0;n<r.length;++n){const i=r[n];Dn[e[i]]=Ql[i]}}return Dn[t]}function th(e,t,r){if(e.substring(0,9)!=="precision"){let n=t;return t===jt.HIGH&&r!==jt.HIGH&&(n=jt.MEDIUM),`precision ${n} float;
${e}`}else if(r!==jt.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}let Gr;function wy(){if(typeof Gr=="boolean")return Gr;try{Gr=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Gr=!1}return Gr}let Sy=0;const Bn={},cr=class{constructor(e,t,r="pixi-shader",n={}){this.extra={},this.id=Sy++,this.vertexSrc=e||cr.defaultVertexSrc,this.fragmentSrc=t||cr.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Bn[r]?(Bn[r]++,r+=`-${Bn[r]}`):Bn[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=th(this.vertexSrc,cr.defaultVertexPrecision,jt.HIGH),this.fragmentSrc=th(this.fragmentSrc,cr.defaultFragmentPrecision,by())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return py}static get defaultFragmentSrc(){return dy}static from(e,t,r){const n=e+t;let i=Vl[n];return i||(Vl[n]=i=new cr(e,t,r)),i}};let ve=cr;ve.defaultVertexPrecision=jt.HIGH;ve.defaultFragmentPrecision=pr.apple.device?jt.HIGH:jt.MEDIUM;let Ty=0;class Qt{constructor(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ty++,this.static=!!r,this.ubo=!!n,t instanceof Ot?(this.buffer=t,this.buffer.type=fe.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ot(new Float32Array(1)),this.buffer.type=fe.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,r,n){if(!this.ubo)this.uniforms[t]=new Qt(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,r,n){return new Qt(t,r,n)}static uboFrom(t,r){return new Qt(t,r??!0,!0)}}class bn{constructor(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof Qt?this.uniformGroup=r:this.uniformGroup=new Qt(r):this.uniformGroup=new Qt({}),this.disposeRunner=new Kt("disposeShader")}checkUniformExists(t,r){if(r.uniforms[t])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,r,n){const i=ve.from(t,r);return new bn(i,n)}}class Ey{constructor(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let s=0;s<t;s++)n[s]=s;this.defaultGroupCache[t]=Qt.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${t}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new ve(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new vt,default:this.defaultGroupCache[t]};return new bn(this.programCache[t],r)}generateSampleSrc(t){let r="";r+=`
`,r+=`
`;for(let n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class va{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function Iy(){return!pr.apple.device}function Ay(e){let t=!0;const r=B.ADAPTER.getNavigator();if(pr.tablet||pr.phone){if(pr.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(pr.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?e:4}class qu{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var Cy=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Ry=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ht=class extends qu{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=ju,this.vertexSize=6,this.state=Fr.for2d(),this.size=Ht.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Ay(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Iy(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Z("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Ry}static get defaultFragmentTemplate(){return Cy}setShaderGenerator({vertex:e=Ht.defaultVertexSrc,fragment:t=Ht.defaultFragmentTemplate}={}){this.shaderGenerator=new Ey(e,t)}contextChange(){const e=this.renderer.gl;B.PREFER_ENV===ir.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ht.defaultMaxTextures),this.maxTextures=ny(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Ht,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new ga);for(;t.length<n;)t.push(new va);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=Ht._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let a=++Y._globalBatch,o=0,l=r[0],h=0;n.copyBoundTextures(i,t);for(let u=0;u<this._bufferSize;++u){const c=e[u];e[u]=null,c._batchEnabled!==a&&(l.count>=t&&(n.boundArray(l,i,a,t),this.buildDrawCalls(l,h,u),h=u,l=r[++o],++a),c._batchEnabled=a,c.touched=s,l.elements[l.count++]=c)}l.count>0&&(n.boundArray(l,i,a,t),this.buildDrawCalls(l,h,this._bufferSize),++o,++a);for(let u=0;u<i.length;u++)i[u]=null;Y._globalBatch=a}buildDrawCalls(e,t,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:a}=this,o=Ht._drawCallPool;let l=this._dcIndex,h=this._aIndex,u=this._iIndex,c=o[l];c.start=this._iIndex,c.texArray=e;for(let f=t;f<r;++f){const p=n[f],d=p._texture.baseTexture,g=qg[d.alphaMode?1:0][p.blendMode];n[f]=null,t<f&&c.blend!==g&&(c.size=u-c.start,t=f,c=o[++l],c.texArray=e,c.start=u),this.packInterleavedGeometry(p,i,s,h,u),h+=p.vertexData.length/2*a,u+=p.indices.length,c.blend=g}t<r&&(c.size=u-c.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=u}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;Ht.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,n=Ht._drawCallPool;let i=null;for(let s=0;s<e;s++){const{texArray:a,type:o,size:l,start:h,blend:u}=n[s];i!==a&&(i=a,this.bindAndClearTexArray(a)),this.state.blendMode=u,r.set(this.state),t.drawElements(o,l,t.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ht.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=wi(Math.ceil(e/8)),r=Hl(t),n=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new ty(n*this.vertexSize*4)),i}getIndexBuffer(e){const t=wi(Math.ceil(e/12)),r=Hl(t),n=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(e,t,r,n,i){const{uint32View:s,float32View:a}=t,o=n/this.vertexSize,l=e.uvs,h=e.indices,u=e.vertexData,c=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=At.shared.setValue(e._tintRGB).toPremultiplied(f,e._texture.baseTexture.alphaMode>0);for(let d=0;d<u.length;d+=2)a[n++]=u[d],a[n++]=u[d+1],a[n++]=l[d],a[n++]=l[d+1],s[n++]=p,a[n++]=c;for(let d=0;d<h.length;d++)r[i++]=o+h[d]}};let Wt=Ht;Wt.defaultBatchSize=4096;Wt.extension={name:"batch",type:j.RendererPlugin};Wt._drawCallPool=[];Wt._textureArrayPool=[];q.add(Wt);var My=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,ky=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Hr=class extends bn{constructor(e,t,r){const n=ve.from(e||Hr.defaultVertexSrc,t||Hr.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Hr.defaultResolution,this.multisample=Hr.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Fr}apply(e,t,r,n,i){e.applyFilter(this,t,r,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return ky}static get defaultFragmentSrc(){return My}};let Pe=Hr;Pe.defaultResolution=1;Pe.defaultMultisample=dt.NONE;class ji{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new At(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=t,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}ji.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};ji.extension={type:[j.RendererSystem,j.CanvasRendererSystem],name:"background"};q.add(ji);class Ju{constructor(t){this.renderer=t,this.emptyRenderer=new qu(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)}boundArray(t,r,n,i){const{elements:s,ids:a,count:o}=t;let l=0;for(let h=0;h<o;h++){const u=s[h],c=u._batchLocation;if(c>=0&&c<i&&r[c]===u){a[h]=c;continue}for(;l<i;){const f=r[l];if(f&&f._batchEnabled===n&&f._batchLocation===l){l++;continue}a[h]=l,u._batchLocation=l,r[l]=u;break}}}destroy(){this.renderer=null}}Ju.extension={type:j.RendererSystem,name:"batch"};q.add(Ju);let eh=0;class zi{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=eh++}init(t){if(t.context)this.initFromContext(t.context);else{const r=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=eh++,this.renderer.runners.contextChange.emit(t);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const r=this.createContext(this.renderer.view,t);this.initFromContext(r)}createContext(t,r){let n;if(B.PREFER_ENV>=ir.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,r={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}zi.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};zi.extension={type:j.RendererSystem,name:"context"};q.add(zi);class Py extends no{upload(t,r,n){const i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===De.UNPACK);const s=r.realWidth,a=r.realHeight;return n.width===s&&n.height===a?i.texSubImage2D(r.target,0,0,0,s,a,r.format,n.type,this.data):(n.width=s,n.height=a,i.texImage2D(r.target,0,n.internalFormat,s,a,0,r.format,n.type,this.data)),!0}}class ba{constructor(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Kt("disposeFramebuffer"),this.multisample=dt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,r){return this.colorTextures[t]=r||new Y(null,{scaleMode:ye.NEAREST,resolution:1,mipmap:Qe.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new Y(new Py(null,{width:this.width,height:this.height}),{scaleMode:ye.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Qe.OFF,format:C.DEPTH_COMPONENT,type:X.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(t/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Zu extends Y{constructor(t={}){if(typeof t=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];t={width:r,height:n,scaleMode:i,resolution:s}}t.width=t.width||100,t.height=t.height||100,t.multisample??(t.multisample=dt.NONE),super(null,t),this.mipmap=Qe.OFF,this.valid=!0,this._clear=new At([0,0,0,0]),this.framebuffer=new ba(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(t,r){this.framebuffer.resize(t*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ne extends cn{constructor(t){const r=t,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=t,this.noSubImage=!1}static crossOrigin(t,r,n){n===void 0&&!r.startsWith("data:")?t.crossOrigin=Qg(r):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,r,n,i){const s=t.gl,a=r.realWidth,o=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===De.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===a&&n.height===o?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=a,n.height=o,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const t=this.source,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class Ku extends Ne{constructor(t,r){if(r=r||{},typeof t=="string"){const n=new Image;Ne.crossOrigin(n,t,r.crossorigin),n.src=t,t=n}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??B.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=a=>{n(a),this.onError.emit(a)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===De.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const a in s){const o=s[a];if(o!==n&&o.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class Qu{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,r,n){const i=r.width,s=r.height;if(n){const a=t.width/2/i,o=t.height/2/s,l=t.x/i+a,h=t.y/s+o;n=st.add(n,st.NW),this.x0=l+a*st.uX(n),this.y0=h+o*st.uY(n),n=st.add(n,2),this.x1=l+a*st.uX(n),this.y1=h+o*st.uY(n),n=st.add(n,2),this.x2=l+a*st.uX(n),this.y2=h+o*st.uY(n),n=st.add(n,2),this.x3=l+a*st.uX(n),this.y3=h+o*st.uY(n)}else this.x0=t.x/i,this.y0=t.y/s,this.x1=(t.x+t.width)/i,this.y1=t.y/s,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/s,this.x3=t.x/i,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const rh=new Qu;function Un(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class $ extends Bi{constructor(t,r,n,i,s,a,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new K(0,0,1,1)),t instanceof $&&(t=t.baseTexture),this.baseTexture=t,this._frame=r,this.trim=i,this.valid=!1,this._uvs=rh,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new gt(a.x,a.y):new gt(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=r:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:r}=this.baseTexture;r!=null&&r.url&&se[r.url]&&$.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,$.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),n=new $(this.baseTexture,!this.noFrame&&t,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===rh&&(this._uvs=new Qu),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,r={},n=B.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let s=null;if(i)s=t;else if(t instanceof Y){if(!t.cacheId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t.cacheId=`${o}-${un()}`,Y.addToCache(t,t.cacheId)}s=t.cacheId}else{if(!t._pixiId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${un()}`}s=t._pixiId}let a=se[s];if(i&&n&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(t instanceof Y)?(r.resolution||(r.resolution=Yl(t)),a=new $(new Y(t,r)),a.baseTexture.cacheId=s,Y.addToCache(a.baseTexture,s),$.addToCache(a,s)):!a&&t instanceof Y&&(a=new $(t),$.addToCache(a,s)),a}static fromURL(t,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=$.from(t,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(t,r,n,i){return new $(Y.fromBuffer(t,r,n,i))}static fromLoader(t,r,n,i){const s=new Y(t,Object.assign({scaleMode:Y.defaultOptions.scaleMode,resolution:Yl(r)},i)),{resource:a}=s;a instanceof Ku&&(a.url=r);const o=new $(s);return n||(n=r),Y.addToCache(o.baseTexture,n),$.addToCache(o,n),n!==r&&(Y.addToCache(o.baseTexture,r),$.addToCache(o,r)),o.baseTexture.valid?Promise.resolve(o):new Promise(l=>{o.baseTexture.once("loaded",()=>l(o))})}static addToCache(t,r){r&&(t.textureCacheIds.includes(r)||t.textureCacheIds.push(r),se[r]&&se[r]!==t&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),se[r]=t)}static removeFromCache(t){if(typeof t=="string"){const r=se[t];if(r){const n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete se[t],r}}else if(t!=null&&t.textureCacheIds){for(let r=0;r<t.textureCacheIds.length;++r)se[t.textureCacheIds[r]]===t&&delete se[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=t,a=r+i>this.baseTexture.width,o=n+s>this.baseTexture.height;if(a||o){const l=a&&o?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,u=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${l} ${u}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return $._EMPTY||($._EMPTY=new $(new Y),Un($._EMPTY),Un($._EMPTY.baseTexture)),$._EMPTY}static get WHITE(){if(!$._WHITE){const t=B.ADAPTER.createCanvas(16,16),r=t.getContext("2d");t.width=16,t.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),$._WHITE=new $(Y.from(t)),Un($._WHITE),Un($._WHITE.baseTexture)}return $._WHITE}}class Hi extends ${constructor(t,r){super(t,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(t*i)/i,a=Math.round(r*i)/i;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(t){const{baseTexture:r}=this;r.resolution!==t&&(r.setResolution(t),this.resize(r.width,r.height,!1))}static create(t){return new Hi(new Zu(t))}}class tc{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,r,n=dt.NONE){const i=new Zu(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new Hi(i)}getOptimalTexture(t,r,n=1,i=dt.NONE){let s;t=Math.ceil(t*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=wi(t),r=wi(r),s=((t&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let a=this.texturePool[s].pop();return a||(a=this.createTexture(t,r,i)),a.filterPoolKey=s,a.setResolution(n),a}getFilterTexture(t,r,n){const i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||dt.NONE);return i.filterFrame=t.filterFrame,i}returnTexture(t){const r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}tc.SCREEN_KEY=-1;class Ny extends Mr{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Oy extends Mr{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ot(this.vertices),this.uvBuffer=new Ot(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/t.width,this.uvs[3]=i,this.uvs[4]=n+r.width/t.width,this.uvs[5]=i+r.height/t.height,this.uvs[6]=n,this.uvs[7]=i+r.height/t.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Fy{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=dt.NONE,this.sourceFrame=new K,this.destinationFrame=new K,this.bindingSourceFrame=new K,this.bindingDestinationFrame=new K,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Gn=[new gt,new gt,new gt,new gt],As=new vt;class ec{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new tc,this.statePool=[],this.quad=new Ny,this.quadUv=new Oy,this.tempRect=new K,this.activeState={},this.globalUniforms=new Qt({outputFrame:new K,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Fy,a=this.renderer.renderTexture;let o=r[0].resolution,l=r[0].multisample,h=r[0].padding,u=r[0].autoFit,c=r[0].legacy??!0;for(let d=1;d<r.length;d++){const g=r[d];o=Math.min(o,g.resolution),l=Math.min(l,g.multisample),h=this.useMaxPadding?Math.max(h,g.padding):h+g.padding,u=u&&g.autoFit,c=c||(g.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),i.push(s),s.resolution=o,s.multisample=l,s.legacy=c,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(h);const f=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(As.copyFrom(n.projection.transform).invert(),f),u?(s.sourceFrame.fit(f),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(f)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,o,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=s.sourceFrame.width,p.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,p),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,a=i.inputPixel,o=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*r.resolution),a[1]=Math.round(s[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=r.sourceFrame.width*s[2]-.5*a[2],o[3]=r.sourceFrame.height*s[3]-.5*a[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,$e.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,u=this.getOptimalFilterTexture(h.width,h.height,r.resolution);u.filterFrame=h.filterFrame;let c=0;for(c=0;c<n.length-1;++c){c===1&&r.multisample>1&&(u=this.getOptimalFilterTexture(h.width,h.height,r.resolution),u.filterFrame=h.filterFrame),n[c].apply(this,h,u,$e.CLEAR,r);const f=h;h=u,u=f}n[c].apply(this,h,l.renderTexture,$e.BLEND,r),c>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(u)}r.clear(),this.statePool.push(r)}bindAndClear(t,r=$e.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t!=null&&t.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,n.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===$e.CLEAR||r===$e.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,r,n,i){const s=this.renderer;s.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Me.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Me.TRIANGLE_STRIP))}calculateSpriteMatrix(t,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,a=t.set(i.width,0,0,i.height,n.x,n.y),o=r.worldTransform.copyTo(vt.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/s.width,1/s.height),a.translate(r.anchor.x,r.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,r,n=1,i=dt.NONE){return this.texturePool.getOptimalTexture(t,r,n,i)}getFilterTexture(t,r,n){if(typeof t=="number"){const s=t;t=r,r=s}t=t||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||dt.NONE);return i.filterFrame=t.filterFrame,i}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,r){const n=Gn[0],i=Gn[1],s=Gn[2],a=Gn[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),a.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(s,s),t.apply(a,a);const o=Math.min(n.x,i.x,s.x,a.x),l=Math.min(n.y,i.y,s.y,a.y),h=Math.max(n.x,i.x,s.x,a.x),u=Math.max(n.y,i.y,s.y,a.y);r.x=o,r.y=l,r.width=h-o,r.height=u-l}roundFrame(t,r,n,i,s){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(s){const{a,b:o,c:l,d:h}=s;if((Math.abs(o)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(h)>1e-4))return}s=s?As.copyFrom(s):As.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,t),t.ceil(r),this.transformAABB(s.invert(),t)}}}ec.extension={type:j.RendererSystem,name:"filter"};q.add(ec);class Ly{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=dt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Dy=new K;class rc{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new ba(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new K,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;B.PREFER_ENV===ir.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,r,n=0){const{gl:i}=this;if(t){const s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=n),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let a=0;a<t.colorTextures.length;a++){const o=t.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){const a=r.width>>n,o=r.height>>n,l=a/r.width;this.setViewport(r.x*l,r.y*l,a,o)}else{const a=t.width>>n,o=t.height>>n;this.setViewport(0,0,a,o)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,r,n,i){const s=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==t||s.y!==r)&&(s.x=t,s.y=r,s.width=n,s.height=i,this.gl.viewport(t,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,r,n,i,s=Zs.COLOR|Zs.DEPTH){const{gl:a}=this;a.clearColor(t,r,n,i),a.clear(s)}initFramebuffer(t){const{gl:r}=this,n=new Ly(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:r}=this,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));const i=t.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){const o=i[a],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),a===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,r){const{gl:n}=this,i=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures;let a=s.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const o=[];for(let l=0;l<a;l++){const h=s[l],u=h.parentTextureArray||h;this.renderer.texture.bind(u,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,h.target,u._glTextures[this.CONTEXT_UID].texture,r),o.push(n.COLOR_ATTACHMENT0+l))}if(o.length>1&&n.drawBuffers(o),t.depthTexture&&this.writeDepthTexture){const h=t.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:r}=this;let n=dt.NONE;if(t<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=dt.NONE),n}blit(t,r,n){const{current:i,renderer:s,gl:a,CONTEXT_UID:o}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[o];if(!l)return;if(!t){if(!l.msaaBuffer)return;const u=i.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new ba(i.width,i.height),l.blitFramebuffer.addColorTexture(0,u)),t=l.blitFramebuffer,t.colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==i.width||t.height!==i.height)&&(t.width=i.width,t.height=i.height,t.dirtyId++,t.dirtySize++)}r||(r=Dy,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,h?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,r){const n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(t){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)}forceStencil(){const t=this.current;if(!t)return;const r=t.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;t.stencil=!0;const n=t.width,i=t.height,s=this.gl,a=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=a,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new K}destroy(){this.renderer=null}}rc.extension={type:j.RendererSystem,name:"framebuffer"};q.add(rc);const Cs={5126:4,5123:2,5121:1};class nc{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;B.PREFER_ENV===ir.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=i=>n.bindVertexArrayOES(i),t.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),t.drawElementsInstanced=(i,s,a,o,l)=>n.drawElementsInstancedANGLE(i,s,a,o,l),t.drawArraysInstanced=(i,s,a,o)=>n.drawArraysInstancedANGLE(i,s,a,o)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(t,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const a=i[r.program.id]||this.initGeometryVao(t,r,s);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const i=t.buffers[n];r.update(i)}}checkCompatibility(t,r){const n=t.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(t,r){const n=t.attributes,i=r.attributeData,s=["g",t.id];for(const a in n)i[a]&&s.push(a,i[a].location);return s.join("-")}initGeometryVao(t,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,o=r.program;o.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,o);const l=this.getSignature(t,o),h=t.glVertexArrayObjects[this.CONTEXT_UID];let u=h[l];if(u)return h[o.id]=u,u;const c=t.buffers,f=t.attributes,p={},d={};for(const g in c)p[g]=0,d[g]=0;for(const g in f)!f[g].size&&o.attributeData[g]?f[g].size=o.attributeData[g].size:f[g].size||console.warn(`PIXI Geometry attribute '${g}' size cannot be determined (likely the bound shader does not have the attribute)`),p[f[g].buffer]+=f[g].size*Cs[f[g].type];for(const g in f){const y=f[g],b=y.size;y.stride===void 0&&(p[y.buffer]===b*Cs[y.type]?y.stride=0:y.stride=p[y.buffer]),y.start===void 0&&(y.start=d[y.buffer],d[y.buffer]+=b*Cs[y.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(let g=0;g<c.length;g++){const y=c[g];a.bind(y),n&&y._glBuffers[s].refCount++}return this.activateVao(t,o),h[o.id]=u,h[l]=u,i.bindVertexArray(null),a.unbind(fe.ARRAY_BUFFER),u}disposeGeometry(t,r){var o;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=t.buffers,a=(o=this.renderer)==null?void 0:o.buffer;if(t.disposeRunner.remove(this),!!n){if(a)for(let l=0;l<s.length;l++){const h=s[l]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&a.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const h=n[l];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)}activateVao(t,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=t.buffers,o=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);let l=null;for(const h in o){const u=o[h],c=a[u.buffer],f=c._glBuffers[i];if(r.attributeData[h]){l!==f&&(s.bind(c),l=f);const p=r.attributeData[h].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,u.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,r,n,i){const{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){const o=a.indexBuffer.data.BYTES_PER_ELEMENT,l=o===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;o===2||o===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(t,r||a.indexBuffer.data.length,l,(n||0)*o,i||1):s.drawElements(t,r||a.indexBuffer.data.length,l,(n||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(t,n,r||a.getSize(),i||1):s.drawArrays(t,n,r||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}nc.extension={type:j.RendererSystem,name:"geometry"};q.add(nc);const nh=new vt;class By{constructor(t,r){this._texture=t,this.mapCoord=new vt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,r){r===void 0&&(r=t);const n=this.mapCoord;for(let i=0;i<t.length;i+=2){const s=t[i],a=t[i+1];r[i]=s*n.a+a*n.c+n.tx,r[i+1]=s*n.b+a*n.d+n.ty}return r}update(t){const r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(nh.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(nh));const a=r.baseTexture,o=this.uClampFrame,l=this.clampMargin/a.resolution,h=this.clampOffset;return o[0]=(r._frame.x+l+h)/a.width,o[1]=(r._frame.y+l+h)/a.height,o[2]=(r._frame.x+r._frame.width-l+h)/a.width,o[3]=(r._frame.y+r._frame.height-l+h)/a.height,this.uClampOffset[0]=h/a.realWidth,this.uClampOffset[1]=h/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0}}var Uy=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Gy=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class $y extends Pe{constructor(t,r,n){let i=null;typeof t!="string"&&r===void 0&&n===void 0&&(i=t,t=void 0,r=void 0,n=void 0),super(t||Gy,r||Uy,n),this.maskSprite=i,this.maskMatrix=new vt}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,r,n,i){const s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new By(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,t.applyFilter(this,r,n,i))}}class jy{constructor(t=null){this.type=mt.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Pe.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=mt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class ic{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new jy;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==mt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case mt.SCISSOR:this.renderer.scissor.push(n);break;case mt.STENCIL:this.renderer.stencil.push(n);break;case mt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case mt.COLOR:this.pushColorMask(n);break}n.type===mt.SPRITE&&this.maskStack.push(n)}pop(t){const r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case mt.SCISSOR:this.renderer.scissor.pop(r);break;case mt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case mt.SPRITE:this.popSpriteMask(r);break;case mt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===mt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const r=t.maskObject;r?r.isSprite?t.type=mt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=mt.SCISSOR:t.type=mt.STENCIL:t.type=mt.COLOR}pushSpriteMask(t){const{maskObject:r}=t,n=t._target;let i=t._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new $y]));const s=this.renderer,a=s.renderTexture;let o,l;if(a.current){const u=a.current;o=t.resolution||u.resolution,l=t.multisample??u.multisample}else o=t.resolution||s.resolution,l=t.multisample??s.multisample;i[0].resolution=o,i[0].multisample=l,i[0].maskSprite=r;const h=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=h,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const r=t._colorMask,n=t._colorMask=r&t.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const r=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}ic.extension={type:j.RendererSystem,name:"mask"};q.add(ic);class sc{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=t;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const ih=new vt,sh=[],oi=class extends sc{constructor(e){super(e),this.glConst=B.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,sh.pop()??new K);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),t&&s.fit(t),e._scissorRectLocal=s}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:n,d:i}=e;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||oi.isMatrixRotated(t.worldTransform)||oi.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,n,i){oi.isMatrixRotated(i)||(i=i?ih.copyFrom(i):ih.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,e),e.fit(n),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&sh.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};let ac=oi;ac.extension={type:j.RendererSystem,name:"scissor"};q.add(ac);class oc extends sc{constructor(t){super(t),this.glConst=B.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const r=t.maskObject,{gl:n}=this.renderer,i=t._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const s=t._colorMask;s!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(t._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(t){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}oc.extension={type:j.RendererSystem,name:"stencil"};q.add(oc);class lc{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Z("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return Z("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return Z("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const r in t)this.plugins[r]=new t[r](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}lc.extension={type:[j.RendererSystem,j.CanvasRendererSystem],name:"_plugin"};q.add(lc);class hc{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new vt,this.transform=null}update(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(t,r,n,i){const s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=a*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-a-r.y*s.d}setTransform(t){}destroy(){this.renderer=null}}hc.extension={type:j.RendererSystem,name:"projection"};q.add(hc);const zy=new oo;class uc{constructor(t){this.renderer=t,this._tempMatrix=new vt}generateTexture(t,r){const{region:n,...i}=r||{},s=n||t.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const a=Hi.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const o=t.transform;return t.transform=zy,this.renderer.render(t,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=o,a}destroy(){}}uc.extension={type:[j.RendererSystem,j.CanvasRendererSystem],name:"textureGenerator"};q.add(uc);const Ue=new K,$r=new K;class cc{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new K,this.destinationFrame=new K,this.viewportFrame=new K}contextChange(){var r;const t=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,r,n){const i=this.renderer;this.current=t;let s,a,o;t?(s=t.baseTexture,o=s.resolution,r||(Ue.width=t.frame.width,Ue.height=t.frame.height,r=Ue),n||($r.x=t.frame.x,$r.y=t.frame.y,$r.width=r.width,$r.height=r.height,n=$r),a=s.framebuffer):(o=i.resolution,r||(Ue.width=i._view.screen.width,Ue.height=i._view.screen.height,r=Ue),n||(n=Ue,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*o,l.y=n.y*o,l.width=n.width*o,l.height=n.height*o,t||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(n,r,o,!a),t?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(t,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=At.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,o=s.width!==a.width||s.height!==a.height;if(o){let{x:l,y:h,width:u,height:c}=this.viewportFrame;l=Math.round(l),h=Math.round(h),u=Math.round(u),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,h,u,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}cc.extension={type:j.RendererSystem,name:"renderTexture"};q.add(cc);class Hy{constructor(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Vy(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=t.getActiveAttrib(e,i);if(s.name.startsWith("gl_"))continue;const a=Yu(t,s.type),o={type:a,name:s.name,size:Xu(a),location:t.getAttribLocation(e,s.name)};r[s.name]=o}return r}function Wy(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=t.getActiveUniform(e,i),a=s.name.replace(/\[.*?\]$/,""),o=!!s.name.match(/\[.*?\]$/),l=Yu(t,s.type);r[a]={name:a,index:i,type:l,size:s.size,isArray:o,value:Vu(l,s.size)}}return r}function Xy(e,t){var l;const r=Zl(e,e.VERTEX_SHADER,t.vertexSrc),n=Zl(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();e.attachShader(i,r),e.attachShader(i,n);const s=(l=t.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof e.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||_y(e,i,r,n),t.attributeData=Vy(i,e),t.uniformData=Wy(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const h=Object.keys(t.attributeData);h.sort((u,c)=>u>c?1:-1);for(let u=0;u<h.length;u++)t.attributeData[h[u]].location=u,e.bindAttribLocation(i,u,h[u]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);const a={};for(const h in t.uniformData){const u=t.uniformData[h];a[h]={location:e.getUniformLocation(i,h),value:Vu(u.type,u.size)}}return new Hy(i,a)}function Yy(e,t,r,n,i){r.buffer.update(i)}const qy={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},fc={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Jy(e){const t=e.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<t.length;s++){const a=t[s];if(r=fc[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){const o=n%r%16;n+=o,i+=o}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function Zy(e,t){const r=[];for(const n in e)t[n]&&r.push(t[n]);return r.sort((n,i)=>n.index-i.index),r}function Ky(e,t){if(!e.autoManage)return{size:0,syncFunc:Yy};const r=Zy(e.uniforms,t),{uboElements:n,size:i}=Jy(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<n.length;a++){const o=n[a],l=e.uniforms[o.data.name],h=o.data.name;let u=!1;for(let c=0;c<Tr.length;c++){const f=Tr[c];if(f.codeUbo&&f.test(o.data,l)){s.push(`offset = ${o.offset/4};`,Tr[c].codeUbo(o.data.name,l)),u=!0;break}}if(!u)if(o.data.size>1){const c=Xu(o.data.type),f=Math.max(fc[o.data.type]/16,1),p=c/f,d=(4-p%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${o.offset/4};

                t = 0;

                for(var i=0; i < ${o.data.size*f}; i++)
                {
                    for(var j = 0; j < ${p}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${d};
                }

                `)}else{const c=qy[o.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${o.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Qy=0;const $n={textureCount:0,uboCount:0};class dc{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Qy++}systemCheck(){if(!wy())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,r){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||($n.textureCount=0,$n.uboCount=0,this.syncUniformGroup(t.uniformGroup,$n)),i}setUniforms(t){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,r){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))}syncUniforms(t,r,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(r.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=yy(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,r){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,$n,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(t,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(t.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(t,this.shader.program.uniformData,"ubo");let o=this._uboCache[a];if(o||(o=this._uboCache[a]=Ky(t,this.shader.program.uniformData)),t.autoManage){const l=new Float32Array(o.size/4);t.buffer.update(l)}return r.uniformGroups[t.id]=o.syncFunc,r.uniformGroups[t.id]}getSignature(t,r,n){const i=t.uniforms,s=[`${n}-`];for(const a in i)s.push(a),r[a]&&s.push(r[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const r=this.gl,n=t.program,i=Xy(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}dc.extension={type:j.RendererSystem,name:"shader"};q.add(dc);class Vi{constructor(t){this.renderer=t}run(t){const{renderer:r}=this;r.runners.init.emit(r.options),t.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Vi.defaultOptions={hello:!1};Vi.extension={type:[j.RendererSystem,j.CanvasRendererSystem],name:"startup"};q.add(Vi);function tv(e,t=[]){return t[L.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.ADD]=[e.ONE,e.ONE],t[L.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.NONE]=[0,0],t[L.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[L.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[L.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[L.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[L.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[L.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[L.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[L.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[L.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[L.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[L.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}const ev=0,rv=1,nv=2,iv=3,sv=4,av=5,_a=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=L.NONE,this._blendEq=!1,this.map=[],this.map[ev]=this.setBlend,this.map[rv]=this.setOffset,this.map[nv]=this.setCullFace,this.map[iv]=this.setDepthTest,this.map[sv]=this.setFrontFace,this.map[av]=this.setDepthMask,this.checks=[],this.defaultState=new Fr,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=tv(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(_a.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(_a.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};let pc=_a;pc.extension={type:j.RendererSystem,name:"state"};q.add(pc);class ov extends Bi{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const r=(t.priority??[]).filter(i=>t.systems[i]),n=[...r,...Object.keys(t.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(t.systems[i],i)}addRunners(...t){t.forEach(r=>{this.runners[r]=new Kt(r)})}addSystem(t,r){const n=new t(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(t,r){const n=Object.keys(this._systemsHash);t.items.forEach(i=>{const s=n.find(a=>this._systemsHash[a]===i);i[t.name](r[s])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const li=class{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=li.defaultMaxIdle,this.checkCountMax=li.defaultCheckCountMax,this.mode=li.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Xa.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let n=0;n<t.length;n++){const i=t[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<t.length;i++)t[i]!==null&&(t[n++]=t[i]);t.length=n}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};let Xt=li;Xt.defaultMode=Xa.AUTO;Xt.defaultMaxIdle=60*60;Xt.defaultCheckCountMax=60*10;Xt.extension={type:j.RendererSystem,name:"textureGC"};q.add(Xt);class Rs{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=X.UNSIGNED_BYTE,this.internalFormat=C.RGBA,this.samplerType=0}}function lv(e){let t;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?t={[X.UNSIGNED_BYTE]:{[C.RGBA]:e.RGBA8,[C.RGB]:e.RGB8,[C.RG]:e.RG8,[C.RED]:e.R8,[C.RGBA_INTEGER]:e.RGBA8UI,[C.RGB_INTEGER]:e.RGB8UI,[C.RG_INTEGER]:e.RG8UI,[C.RED_INTEGER]:e.R8UI,[C.ALPHA]:e.ALPHA,[C.LUMINANCE]:e.LUMINANCE,[C.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[X.BYTE]:{[C.RGBA]:e.RGBA8_SNORM,[C.RGB]:e.RGB8_SNORM,[C.RG]:e.RG8_SNORM,[C.RED]:e.R8_SNORM,[C.RGBA_INTEGER]:e.RGBA8I,[C.RGB_INTEGER]:e.RGB8I,[C.RG_INTEGER]:e.RG8I,[C.RED_INTEGER]:e.R8I},[X.UNSIGNED_SHORT]:{[C.RGBA_INTEGER]:e.RGBA16UI,[C.RGB_INTEGER]:e.RGB16UI,[C.RG_INTEGER]:e.RG16UI,[C.RED_INTEGER]:e.R16UI,[C.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[X.SHORT]:{[C.RGBA_INTEGER]:e.RGBA16I,[C.RGB_INTEGER]:e.RGB16I,[C.RG_INTEGER]:e.RG16I,[C.RED_INTEGER]:e.R16I},[X.UNSIGNED_INT]:{[C.RGBA_INTEGER]:e.RGBA32UI,[C.RGB_INTEGER]:e.RGB32UI,[C.RG_INTEGER]:e.RG32UI,[C.RED_INTEGER]:e.R32UI,[C.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[X.INT]:{[C.RGBA_INTEGER]:e.RGBA32I,[C.RGB_INTEGER]:e.RGB32I,[C.RG_INTEGER]:e.RG32I,[C.RED_INTEGER]:e.R32I},[X.FLOAT]:{[C.RGBA]:e.RGBA32F,[C.RGB]:e.RGB32F,[C.RG]:e.RG32F,[C.RED]:e.R32F,[C.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[X.HALF_FLOAT]:{[C.RGBA]:e.RGBA16F,[C.RGB]:e.RGB16F,[C.RG]:e.RG16F,[C.RED]:e.R16F},[X.UNSIGNED_SHORT_5_6_5]:{[C.RGB]:e.RGB565},[X.UNSIGNED_SHORT_4_4_4_4]:{[C.RGBA]:e.RGBA4},[X.UNSIGNED_SHORT_5_5_5_1]:{[C.RGBA]:e.RGB5_A1},[X.UNSIGNED_INT_2_10_10_10_REV]:{[C.RGBA]:e.RGB10_A2,[C.RGBA_INTEGER]:e.RGB10_A2UI},[X.UNSIGNED_INT_10F_11F_11F_REV]:{[C.RGB]:e.R11F_G11F_B10F},[X.UNSIGNED_INT_5_9_9_9_REV]:{[C.RGB]:e.RGB9_E5},[X.UNSIGNED_INT_24_8]:{[C.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[X.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[C.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:t={[X.UNSIGNED_BYTE]:{[C.RGBA]:e.RGBA,[C.RGB]:e.RGB,[C.ALPHA]:e.ALPHA,[C.LUMINANCE]:e.LUMINANCE,[C.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[X.UNSIGNED_SHORT_5_6_5]:{[C.RGB]:e.RGB},[X.UNSIGNED_SHORT_4_4_4_4]:{[C.RGBA]:e.RGBA},[X.UNSIGNED_SHORT_5_5_5_1]:{[C.RGBA]:e.RGBA}},t}class mc{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Y,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=lv(t);const r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Rs(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Rs(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(t,r=0){const{gl:n}=this;if(t=t==null?void 0:t.castToBaseTexture(),t!=null&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===t&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(t.target,this.emptyTextures[t.target].texture),n[i]=null)}ensureSamplerType(t){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=t-1;s>=0;--s){const a=r[s];a&&a._glTextures[i].samplerType!==Ks.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(t){const r=new Rs(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r}initTextureType(t,r){var n;r.internalFormat=((n=this.internalFormats[t.type])==null?void 0:n[t.format])??t.format,this.webGLVersion===2&&t.type===X.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type}updateTexture(t){var i;const r=t._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(t,r),(i=t.resource)!=null&&i.upload(n,t,r))r.samplerType!==Ks.FLOAT&&(this.hasIntegerTextures=!0);else{const s=t.realWidth,a=t.realHeight,o=n.gl;(r.width!==s||r.height!==a||r.dirtyId<0)&&(r.width=s,r.height=a,o.texImage2D(t.target,0,r.internalFormat,s,a,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}destroyTexture(t,r){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(t);i!==-1&&ai(this.managedTextures,i,1)}}updateTextureStyle(t){var n;const r=t._glTextures[this.CONTEXT_UID];r&&((t.mipmap===Qe.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=an.CLAMP:r.wrapMode=t.wrapMode,(n=t.resource)!=null&&n.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)}setStyle(t,r){const n=this.gl;if(r.mipmap&&t.mipmap!==Qe.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===ye.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===ye.LINEAR){const s=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===ye.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===ye.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}mc.extension={type:j.RendererSystem,name:"texture"};q.add(mc);class gc{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();t._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let a=0;a<t.buffers.length;a++){const o=t.buffers[a];o&&(n.buffer.update(o),o._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,a,o._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),s}disposeTransformFeedback(t,r){const n=t._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let a=0;a<t.buffers.length;a++){const o=t.buffers[a];if(!o)continue;const l=o._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o,r))}n&&(r||i.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}gc.extension={type:j.RendererSystem,name:"transformFeedback"};q.add(gc);class Wi{constructor(t){this.renderer=t}init(t){this.screen=new K(0,0,t.width,t.height),this.element=t.view||B.ADAPTER.createCanvas(),this.resolution=t.resolution||B.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,r){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var r;t&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Wi.defaultOptions={width:800,height:600,resolution:B.RESOLUTION,autoDensity:!1};Wi.extension={type:[j.RendererSystem,j.CanvasRendererSystem],name:"_view"};q.add(Wi);B.PREFER_ENV=ir.WEBGL2;B.STRICT_TEXTURE_CACHE=!1;B.RENDER_OPTIONS={...zi.defaultOptions,...ji.defaultOptions,...Wi.defaultOptions,...Vi.defaultOptions};Object.defineProperties(B,{WRAP_MODE:{get(){return Y.defaultOptions.wrapMode},set(e){Z("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Y.defaultOptions.wrapMode=e}},SCALE_MODE:{get(){return Y.defaultOptions.scaleMode},set(e){Z("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Y.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get(){return Y.defaultOptions.mipmap},set(e){Z("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Y.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get(){return Y.defaultOptions.anisotropicLevel},set(e){Z("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Y.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get(){return Z("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Pe.defaultResolution},set(e){Pe.defaultResolution=e}},FILTER_MULTISAMPLE:{get(){return Z("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Pe.defaultMultisample},set(e){Pe.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get(){return Wt.defaultMaxTextures},set(e){Z("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Wt.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get(){return Wt.defaultBatchSize},set(e){Z("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Wt.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get(){return Wt.canUploadSameBuffer},set(e){Z("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Wt.canUploadSameBuffer=e}},GC_MODE:{get(){return Xt.defaultMode},set(e){Z("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Xt.defaultMode=e}},GC_MAX_IDLE:{get(){return Xt.defaultMaxIdle},set(e){Z("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Xt.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get(){return Xt.defaultCheckCountMax},set(e){Z("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Xt.defaultCheckCountMax=e}},PRECISION_VERTEX:{get(){return ve.defaultVertexPrecision},set(e){Z("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ve.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get(){return ve.defaultFragmentPrecision},set(e){Z("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ve.defaultFragmentPrecision=e}}});var Ei=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(Ei||{});class Ms{constructor(t,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}match(t,r=null){return this.fn===t&&this.context===r}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=t?null:r,this.previous=null,r}}const Gt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ms(null,null,1/0),this.deltaMS=1/Gt.targetFPMS,this.elapsedMS=1/Gt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=Ei.NORMAL){return this._addListener(new Ms(e,t,r))}addOnce(e,t,r=Ei.NORMAL){return this._addListener(new Ms(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Gt.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Gt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Gt._shared){const e=Gt._shared=new Gt;e.autoStart=!0,e._protected=!0}return Gt._shared}static get system(){if(!Gt._system){const e=Gt._system=new Gt;e.autoStart=!0,e._protected=!0}return Gt._system}};let Yt=Gt;Yt.targetFPMS=.06;Object.defineProperties(B,{TARGET_FPMS:{get(){return Yt.targetFPMS},set(e){Z("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Yt.targetFPMS=e}}});class yc{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Ei.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Yt.shared:new Yt,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}yc.extension=j.Application;q.add(yc);const vc=[];q.handleByList(j.Renderer,vc);function hv(e){for(const t of vc)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}class bc{constructor(t){this.renderer=t}contextChange(t){let r;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}r>=dt.HIGH?this.multisample=dt.HIGH:r>=dt.MEDIUM?this.multisample=dt.MEDIUM:r>=dt.LOW?this.multisample=dt.LOW:this.multisample=dt.NONE}destroy(){}}bc.extension={type:j.RendererSystem,name:"_multisample"};q.add(bc);class uv{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class _c{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);r.bindBuffer(t.type,i.buffer)}unbind(t){const{gl:r}=this;r.bindBuffer(t,null)}bindBufferBase(t,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==t){const s=t._glBuffers[i]||this.createGLBuffer(t);this.boundBufferBases[r]=t,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(t,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const a=t._glBuffers[s]||this.createGLBuffer(t);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)}update(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==i.updateID)if(i.updateID=t._updateID,r.bindBuffer(t.type,i.buffer),i.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{const s=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,s)}}dispose(t,r){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)}createGLBuffer(t){const{CONTEXT_UID:r,gl:n}=this;return t._glBuffers[r]=new uv(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]}}_c.extension={type:j.RendererSystem,name:"buffer"};q.add(_c);class xc{constructor(t){this.renderer=t}render(t,r){const n=this.renderer;let i,s,a,o;if(r&&(i=r.renderTexture,s=r.clear,a=r.transform,o=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=a,!n.context.isLost){if(i||(this.lastObjectRendered=t),!o){const l=t.enableTempParent();t.updateTransform(),t.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}xc.extension={type:j.RendererSystem,name:"objectRenderer"};q.add(xc);const xa=class extends ov{constructor(e){super(),this.type=mu.WEBGL,e=Object.assign({},B.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Qt({projectionMatrix:new vt},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:xa.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(Z("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=xa.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Bg()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Z("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Z("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Z("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Z("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Z("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Z("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Z("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Z("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};let Lr=xa;Lr.extension={type:j.Renderer,priority:1};Lr.__plugins={};Lr.__systems={};q.handleByMap(j.RendererPlugin,Lr.__plugins);q.handleByMap(j.RendererSystem,Lr.__systems);q.add(Lr);class wc extends cn{constructor(t,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<t;s++){const a=new Y;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,r){for(let n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof cn?this.addResourceAt(t[n],n):this.addResourceAt($u(t[n],r),n))}dispose(){for(let t=0,r=this.length;t<r;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[r].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)}unbind(t){super.unbind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class cv extends wc{constructor(t,r){const{width:n,height:i}=r||{};let s,a;Array.isArray(t)?(s=t,a=t.length):a=t,super(a,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(t,r){if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=_r.TEXTURE_2D_ARRAY}upload(t,r,n){const{length:i,itemDirtyIds:s,items:a}=this,{gl:o}=t;n.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const h=a[l];s[l]<h.dirtyId&&(s[l]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class fv extends Ne{constructor(t){super(t)}static test(t){const{OffscreenCanvas:r}=globalThis;return r&&t instanceof r?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const Vr=class extends wc{constructor(e,t){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=t||{};if(e&&e.length!==Vr.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:n});for(let a=0;a<Vr.SIDES;a++)this.items[a].target=_r.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=s!==!1,e&&this.initFromArray(e,t),i!==!1&&this.load()}bind(e){super.bind(e),e.target=_r.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=_r.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const n=this.itemDirtyIds;for(let i=0;i<Vr.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<t.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(e,s,r),n[i]=s.dirtyId):n[i]<-1&&(e.gl.texImage2D(s.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),n[i]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Vr.SIDES}};let Sc=Vr;Sc.SIDES=6;class yr extends Ne{constructor(t,r){r=r||{};let n,i;typeof t=="string"?(n=yr.EMPTY,i=t):(n=t,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,r)=>{if(this.url===null){t(this);return}try{const n=await B.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===De.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),t(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(t,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(t,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return yr._EMPTY=yr._EMPTY??B.ADAPTER.createCanvas(0,0),yr._EMPTY}}const hi=class extends Ne{constructor(e,t){t=t||{},super(B.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),e(this)},hi.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Ne.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=t*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*t,i=this._overrideHeight||this._overrideWidth/t*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${un()}`,s.getContext("2d").drawImage(e,0,0,t,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(e){const t=hi.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&hi.SVG_XML.test(e)}};let lo=hi;lo.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;lo.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const wa=class extends Ne{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);const n=e[0].src||e[0];Ne.crossOrigin(r,n,t.crossorigin);for(let i=0;i<e.length;++i){const s=document.createElement("source");let{src:a,mime:o}=e[i];a=a||e[i];const l=a.split("?").shift().toLowerCase(),h=l.slice(l.lastIndexOf(".")+1);o=o||wa.MIME_TYPES[h]||`video/${h}`,s.src=a,s.type=o,r.appendChild(s)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){const t=Yt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(t=>{this.valid?t(this):(this._resolve=t,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e)}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||wa.TYPES.includes(t)}};let ho=wa;ho.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];ho.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};ma.push(yr,Ku,fv,ho,lo,no,Sc,cv);class Ii{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?K.EMPTY:(t=t||new K(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,r){const{a:n,b:i,c:s,d:a,tx:o,ty:l}=t,h=n*r.x+s*r.y+o,u=i*r.x+a*r.y+l;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(t){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,a=t[0],o=t[1];r=a<r?a:r,n=o<n?o:n,i=a>i?a:i,s=o>s?o:s,a=t[2],o=t[3],r=a<r?a:r,n=o<n?o:n,i=a>i?a:i,s=o>s?o:s,a=t[4],o=t[5],r=a<r?a:r,n=o<n?o:n,i=a>i?a:i,s=o>s?o:s,a=t[6],o=t[7],r=a<r?a:r,n=o<n?o:n,i=a>i?a:i,s=o>s?o:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(t,r,n,i,s){this.addFrameMatrix(t.worldTransform,r,n,i,s)}addFrameMatrix(t,r,n,i,s){const a=t.a,o=t.b,l=t.c,h=t.d,u=t.tx,c=t.ty;let f=this.minX,p=this.minY,d=this.maxX,g=this.maxY,y=a*r+l*n+u,b=o*r+h*n+c;f=y<f?y:f,p=b<p?b:p,d=y>d?y:d,g=b>g?b:g,y=a*i+l*n+u,b=o*i+h*n+c,f=y<f?y:f,p=b<p?b:p,d=y>d?y:d,g=b>g?b:g,y=a*r+l*s+u,b=o*r+h*s+c,f=y<f?y:f,p=b<p?b:p,d=y>d?y:d,g=b>g?b:g,y=a*i+l*s+u,b=o*i+h*s+c,f=y<f?y:f,p=b<p?b:p,d=y>d?y:d,g=b>g?b:g,this.minX=f,this.minY=p,this.maxX=d,this.maxY=g}addVertexData(t,r,n){let i=this.minX,s=this.minY,a=this.maxX,o=this.maxY;for(let l=r;l<n;l+=2){const h=t[l],u=t[l+1];i=h<i?h:i,s=u<s?u:s,a=h>a?h:a,o=u>o?u:o}this.minX=i,this.minY=s,this.maxX=a,this.maxY=o}addVertices(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)}addVerticesMatrix(t,r,n,i,s=0,a=s){const o=t.a,l=t.b,h=t.c,u=t.d,c=t.tx,f=t.ty;let p=this.minX,d=this.minY,g=this.maxX,y=this.maxY;for(let b=n;b<i;b+=2){const v=r[b],m=r[b+1],_=o*v+h*m+c,x=u*m+l*v+f;p=Math.min(p,_-s),g=Math.max(g,_+s),d=Math.min(d,x-a),y=Math.max(y,x+a)}this.minX=p,this.minY=d,this.maxX=g,this.maxY=y}addBounds(t){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>s?t.maxY:s}addBoundsMask(t,r){const n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,s=t.maxX<r.maxX?t.maxX:r.maxX,a=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=s&&i<=a){const o=this.minX,l=this.minY,h=this.maxX,u=this.maxY;this.minX=n<o?n:o,this.minY=i<l?i:l,this.maxX=s>h?s:h,this.maxY=a>u?a:u}}addBoundsMatrix(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,r){const n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,s=t.maxX<r.x+r.width?t.maxX:r.x+r.width,a=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=s&&i<=a){const o=this.minX,l=this.minY,h=this.maxX,u=this.maxY;this.minX=n<o?n:o,this.minY=i<l?i:l,this.maxX=s>h?s:h,this.maxY=a>u?a:u}}pad(t=0,r=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)}addFramePad(t,r,n,i,s,a){t-=s,r-=a,n+=s,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class kr extends Bi{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new oo,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ii,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const r=Object.keys(t);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(kr.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,r){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new K),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new K),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Ii);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,t);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,a}toGlobal(t,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,r)}toLocal(t,r,n,i){return r&&(t=r.toGlobal(t,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,r=0,n=1,i=1,s=0,a=0,o=0,l=0,h=0){return this.position.x=t,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=a,this.skew.y=o,this.pivot.x=l,this.pivot.y=h,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new dv),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*uy}set angle(t){this.transform.rotation=t*cy}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=t,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class dv extends kr{constructor(){super(...arguments),this.sortDirty=null}}kr.prototype.displayObjectUpdateTransform=kr.prototype.updateTransform;const pv=new vt;function mv(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const Sa=class extends kr{constructor(){super(),this.children=[],this.sortableChildren=Sa.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);ai(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,ai(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,ai(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,n=t,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let a=0;a<s.length;++a)s[a].parent=null,s[a].transform&&(s[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<s.length;++a)s[a].emit("removed",this),this.emit("childRemoved",s[a],this,a);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const n=this.children[t];n._lastSortedIndex=t,!e&&n.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(mv),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==Sa.prototype._render&&(r=this.getBounds(!0));const i=e.projection.transform;if(i&&(n?(n=pv.copyFrom(n),n.prepend(i)):n=i),r&&t.intersects(r,n))this._render(e);else if(this.cullArea)return;for(let s=0,a=this.children.length;s<a;++s){const o=this.children[s],l=o.cullable;o.cullable=l||!this.cullArea,o.render(e),o.cullable=l}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(e)}}renderAdvanced(e){var i,s,a;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let o=0;o<t.length;o++)t[o].enabled&&this._enabledFilters.push(t[o])}const n=t&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==mt.NONE));if(n&&e.batch.flush(),t&&((s=this._enabledFilters)!=null&&s.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let o=0,l=this.children.length;o<l;++o)this.children[o].render(e)}n&&e.batch.flush(),r&&e.mask.pop(this),t&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let n=0;n<r.length;++n)r[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};let _e=Sa;_e.defaultSortableChildren=!1;_e.prototype.containerUpdateTransform=_e.prototype.updateTransform;Object.defineProperties(B,{SORTABLE_CHILDREN:{get(){return _e.defaultSortableChildren},set(e){Z("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),_e.defaultSortableChildren=e}}});const Ta=class{constructor(e){this.stage=new _e,e=Object.assign({forceCanvas:!1},e),this.renderer=hv(e),Ta._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(e,t){const r=Ta._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};let uo=Ta;uo._plugins=[];q.handleByList(j.Application,uo._plugins);class Tc{static init(t){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Tc.extension=j.Application;q.add(Tc);var co=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(co||{});const jr=new gt,gv=new Uint16Array([0,1,2,0,2,3]);class fo extends _e{constructor(t){super(),this._anchor=new Xe(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new At(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=L.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||$.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=gv,this.pluginName="batch",this.isSprite=!0,this._roundPixels=B.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=gr(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=gr(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,a=r.d,o=r.tx,l=r.ty,h=this.vertexData,u=t.trim,c=t.orig,f=this._anchor;let p=0,d=0,g=0,y=0;if(u?(d=u.x-f._x*c.width,p=d+u.width,y=u.y-f._y*c.height,g=y+u.height):(d=-f._x*c.width,p=d+c.width,y=-f._y*c.height,g=y+c.height),h[0]=n*d+s*y+o,h[1]=a*y+i*d+l,h[2]=n*p+s*y+o,h[3]=a*y+i*p+l,h[4]=n*p+s*g+o,h[5]=a*g+i*p+l,h[6]=n*d+s*g+o,h[7]=a*g+i*d+l,this._roundPixels){const b=B.RESOLUTION;for(let v=0;v<h.length;++v)h[v]=Math.round(h[v]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,r=this.vertexTrimmedData,n=t.orig,i=this._anchor,s=this.transform.worldTransform,a=s.a,o=s.b,l=s.c,h=s.d,u=s.tx,c=s.ty,f=-i._x*n.width,p=f+n.width,d=-i._y*n.height,g=d+n.height;r[0]=a*f+l*d+u,r[1]=h*d+o*f+c,r[2]=a*p+l*d+u,r[3]=h*d+o*p+c,r[4]=a*p+l*g+u,r[5]=h*g+o*p+c,r[6]=a*f+l*g+u,r[7]=h*g+o*f+c}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,r=this._texture.orig;!t||t.width===r.width&&t.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new Ii),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new K),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,jr);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return jr.x>=i&&jr.x<i+r&&(s=-n*this.anchor.y,jr.y>=s&&jr.y<s+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const n=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(t,r){const n=t instanceof $?t:$.from(t,r);return new fo(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const r=gr(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const r=gr(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||$.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const jn={willReadFrequently:!0},k=class{static get experimentalLetterSpacingSupported(){let e=k._experimentalLetterSpacingSupported;if(e!==void 0){const t=B.ADAPTER.getCanvasRenderingContext2D().prototype;e=k._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,n,i,s,a,o,l){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=l}static measureText(e,t,r,n=k._canvas){r=r??t.wordWrap;const i=t.toFontString(),s=k.measureFont(i);s.fontSize===0&&(s.fontSize=t.fontSize,s.ascent=t.fontSize);const a=n.getContext("2d",jn);a.font=i;const l=(r?k.wordWrap(e,t,n):e).split(/(?:\r\n|\r|\n)/),h=new Array(l.length);let u=0;for(let d=0;d<l.length;d++){const g=k._measureText(l[d],t.letterSpacing,a);h[d]=g,u=Math.max(u,g)}let c=u+t.strokeThickness;t.dropShadow&&(c+=t.dropShadowDistance);const f=t.lineHeight||s.fontSize+t.strokeThickness;let p=Math.max(f,s.fontSize+t.strokeThickness*2)+(l.length-1)*(f+t.leading);return t.dropShadow&&(p+=t.dropShadowDistance),new k(e,t,c,p,l,h,f+t.leading,u,s)}static _measureText(e,t,r){let n=!1;k.experimentalLetterSpacingSupported&&(k.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(e).width;return i>0&&(n?i-=t:i+=(k.graphemeSegmenter(e).length-1)*t),i}static wordWrap(e,t,r=k._canvas){const n=r.getContext("2d",jn);let i=0,s="",a="";const o=Object.create(null),{letterSpacing:l,whiteSpace:h}=t,u=k.collapseSpaces(h),c=k.collapseNewlines(h);let f=!u;const p=t.wordWrapWidth+l,d=k.tokenize(e);for(let g=0;g<d.length;g++){let y=d[g];if(k.isNewline(y)){if(!c){a+=k.addLine(s),f=!u,s="",i=0;continue}y=" "}if(u){const v=k.isBreakingSpace(y),m=k.isBreakingSpace(s[s.length-1]);if(v&&m)continue}const b=k.getFromCache(y,l,o,n);if(b>p)if(s!==""&&(a+=k.addLine(s),s="",i=0),k.canBreakWords(y,t.breakWords)){const v=k.wordWrapSplit(y);for(let m=0;m<v.length;m++){let _=v[m],x=_,w=1;for(;v[m+w];){const S=v[m+w];if(!k.canBreakChars(x,S,y,m,t.breakWords))_+=S;else break;x=S,w++}m+=w-1;const T=k.getFromCache(_,l,o,n);T+i>p&&(a+=k.addLine(s),f=!1,s="",i=0),s+=_,i+=T}}else{s.length>0&&(a+=k.addLine(s),s="",i=0);const v=g===d.length-1;a+=k.addLine(y,!v),f=!1,s="",i=0}else b+i>p&&(f=!1,a+=k.addLine(s),s="",i=0),(s.length>0||!k.isBreakingSpace(y)||f)&&(s+=y,i+=b)}return a+=k.addLine(s,!1),a}static addLine(e,t=!0){return e=k.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,n){let i=r[e];return typeof i!="number"&&(i=k._measureText(e,t,n)+t,r[e]=i),i}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!k.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:k._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:k._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let n=0;n<e.length;n++){const i=e[n],s=e[n+1];if(k.isBreakingSpace(i,s)||k.isNewline(i)){r!==""&&(t.push(r),r=""),t.push(i);continue}r+=i}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,n,i){return!0}static wordWrapSplit(e){return k.graphemeSegmenter(e)}static measureFont(e){if(k._fonts[e])return k._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=k._canvas,n=k._context;n.font=e;const i=k.METRICS_STRING+k.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let a=Math.ceil(n.measureText(k.BASELINE_SYMBOL).width);const o=Math.ceil(k.HEIGHT_MULTIPLIER*a);if(a=a*k.BASELINE_MULTIPLIER|0,s===0||o===0)return k._fonts[e]=t,t;r.width=s,r.height=o,n.fillStyle="#f00",n.fillRect(0,0,s,o),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,a);const l=n.getImageData(0,0,s,o).data,h=l.length,u=s*4;let c=0,f=0,p=!1;for(c=0;c<a;++c){for(let d=0;d<u;d+=4)if(l[f+d]!==255){p=!0;break}if(!p)f+=u;else break}for(t.ascent=a-c,f=h-u,p=!1,c=o;c>a;--c){for(let d=0;d<u;d+=4)if(l[f+d]!==255){p=!0;break}if(!p)f-=u;else break}return t.descent=c-a,t.fontSize=t.ascent+t.descent,k._fonts[e]=t,t}static clearMetrics(e=""){e?delete k._fonts[e]:k._fonts={}}static get _canvas(){if(!k.__canvas){let e;try{const t=new OffscreenCanvas(0,0),r=t.getContext("2d",jn);if(r!=null&&r.measureText)return k.__canvas=t,t;e=B.ADAPTER.createCanvas()}catch{e=B.ADAPTER.createCanvas()}e.width=e.height=10,k.__canvas=e}return k.__canvas}static get _context(){return k.__context||(k.__context=k._canvas.getContext("2d",jn)),k.__context}};let Ft=k;Ft.METRICS_STRING="|q";Ft.BASELINE_SYMBOL="M";Ft.BASELINE_MULTIPLIER=1.4;Ft.HEIGHT_MULTIPLIER=2;Ft.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map(r=>r.segment)}return e=>[...e]})();Ft.experimentalLetterSpacing=!1;Ft._fonts={};Ft._newlines=[10,13];Ft._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const yv=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Wr=class{constructor(e){this.styleID=0,this.reset(),Ps(this,e,e)}clone(){const e={};return Ps(e,this,Wr.defaultStyle),new Wr(e)}reset(){Ps(this,Wr.defaultStyle,Wr.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=ks(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=ks(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){vv(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=ks(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let n=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!yv.includes(n)&&(n=`"${n}"`),t[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};let Ai=Wr;Ai.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:co.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function ks(e){const t=At.shared;return Array.isArray(e)?e.map(r=>t.setValue(r).toHex()):t.setValue(e).toHex()}function vv(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function Ps(e,t,r){for(const n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}const bv={texture:!0,children:!1,baseTexture:!0},Ea=class extends fo{constructor(e,t,r){let n=!1;r||(r=B.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=$.from(r);i.orig=new K,i.trim=new K,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Ea.defaultResolution??B.RESOLUTION,this._autoResolution=Ea.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ft.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Z("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ft.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,n=Ft.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,a=n.lines,o=n.lineHeight,l=n.lineWidths,h=n.maxLineWidth,u=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let c,f;const p=t.dropShadow?2:1;for(let d=0;d<p;++d){const g=t.dropShadow&&d===0,y=g?Math.ceil(Math.max(1,s)+t.padding*2):0,b=y*this._resolution;if(g){r.fillStyle="black",r.strokeStyle="black";const m=t.dropShadowColor,_=t.dropShadowBlur*this._resolution,x=t.dropShadowDistance*this._resolution;r.shadowColor=At.shared.setValue(m).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=_,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*x,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*x+b}else r.fillStyle=this._generateFillStyle(t,a,n),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let v=(o-u.fontSize)/2;o-u.fontSize<0&&(v=0);for(let m=0;m<a.length;m++)c=t.strokeThickness/2,f=t.strokeThickness/2+m*o+u.ascent+v,t.align==="right"?c+=h-l[m]:t.align==="center"&&(c+=(h-l[m])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(a[m],c+t.padding,f+t.padding-y,!0),t.fill&&this.drawLetterSpacing(a[m],c+t.padding,f+t.padding-y)}this.updateTexture()}drawLetterSpacing(e,t,r,n=!1){const s=this._style.letterSpacing;let a=!1;if(Ft.experimentalLetterSpacingSupported&&(Ft.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||a){n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let o=t;const l=Ft.graphemeSegmenter(e);let h=this.context.measureText(e).width,u=0;for(let c=0;c<l.length;++c){const f=l[c];n?this.context.strokeText(f,o,r):this.context.fillText(f,o,r);let p="";for(let d=c+1;d<l.length;++d)p+=l[d];u=this.context.measureText(p).width,o+=h-u+s,h=u}}updateTexture(){const e=this.canvas;if(this._style.trim){const s=Kg(e);s.data&&(e.width=s.width,e.height=s.height,this.context.putImageData(s.data,0,0))}const t=this._texture,r=this._style,n=r.trim?0:r.padding,i=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-n*2,t.orig.height=t._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const n=e.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,o=this.canvas.width/this._resolution-s-a*2,l=this.canvas.height/this._resolution-s-a*2,h=n.slice(),u=e.fillGradientStops.slice();if(!u.length){const c=h.length+1;for(let f=1;f<c;++f)u.push(f/c)}if(h.unshift(n[0]),u.unshift(0),h.push(n[n.length-1]),u.push(1),e.fillGradientType===co.LINEAR_VERTICAL){i=this.context.createLinearGradient(o/2,a,o/2,l+a);const c=r.fontProperties.fontSize+e.strokeThickness;for(let f=0;f<t.length;f++){const p=r.lineHeight*(f-1)+c,d=r.lineHeight*f;let g=d;f>0&&p>d&&(g=(d+p)/2);const y=d+c,b=r.lineHeight*(f+1);let v=y;f+1<t.length&&b<y&&(v=(y+b)/2);const m=(v-g)/l;for(let _=0;_<h.length;_++){let x=0;typeof u[_]=="number"?x=u[_]:x=_/h.length;let w=Math.min(1,Math.max(0,g/l+x*m));w=Number(w.toFixed(5)),i.addColorStop(w,h[_])}}}else{i=this.context.createLinearGradient(a,l/2,o+a,l/2);const c=h.length+1;let f=1;for(let p=0;p<h.length;p++){let d;typeof u[p]=="number"?d=u[p]:d=f/c,i.addColorStop(d,h[p]),f++}}return i}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},bv,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=gr(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=gr(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Ai?this._style=e:this._style=new Ai(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};let Ec=Ea;Ec.defaultAutoResolution=!0;const Ci={build(e){const t=e.points;let r,n,i,s,a,o;if(e.type===Ct.CIRC){const d=e.shape;r=d.x,n=d.y,a=o=d.radius,i=s=0}else if(e.type===Ct.ELIP){const d=e.shape;r=d.x,n=d.y,a=d.width,o=d.height,i=s=0}else{const d=e.shape,g=d.width/2,y=d.height/2;r=d.x+g,n=d.y+y,a=o=Math.max(0,Math.min(d.radius,Math.min(g,y))),i=g-a,s=y-o}if(!(a>=0&&o>=0&&i>=0&&s>=0)){t.length=0;return}const l=Math.ceil(2.3*Math.sqrt(a+o)),h=l*8+(i?4:0)+(s?4:0);if(t.length=h,h===0)return;if(l===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+s,t[2]=t[4]=r-i,t[5]=t[7]=n-s;return}let u=0,c=l*4+(i?2:0)+2,f=c,p=h;{const d=i+a,g=s,y=r+d,b=r-d,v=n+g;if(t[u++]=y,t[u++]=v,t[--c]=v,t[--c]=b,s){const m=n-g;t[f++]=b,t[f++]=m,t[--p]=m,t[--p]=y}}for(let d=1;d<l;d++){const g=Math.PI/2*(d/l),y=i+Math.cos(g)*a,b=s+Math.sin(g)*o,v=r+y,m=r-y,_=n+b,x=n-b;t[u++]=v,t[u++]=_,t[--c]=_,t[--c]=m,t[f++]=m,t[f++]=x,t[--p]=x,t[--p]=v}{const d=i,g=s+o,y=r+d,b=r-d,v=n+g,m=n-g;t[u++]=y,t[u++]=v,t[--p]=m,t[--p]=y,i&&(t[u++]=b,t[u++]=v,t[--p]=m,t[--p]=b)}},triangulate(e,t){const r=e.points,n=t.points,i=t.indices;if(r.length===0)return;let s=n.length/2;const a=s;let o,l;if(e.type!==Ct.RREC){const u=e.shape;o=u.x,l=u.y}else{const u=e.shape;o=u.x+u.width/2,l=u.y+u.height/2}const h=e.matrix;n.push(e.matrix?h.a*o+h.c*l+h.tx:o,e.matrix?h.b*o+h.d*l+h.ty:l),s++,n.push(r[0],r[1]);for(let u=2;u<r.length;u+=2)n.push(r[u],r[u+1]),i.push(s++,a,s);i.push(a+1,a,s)}};function ah(e,t=!1){const r=e.length;if(r<6)return;let n=0;for(let i=0,s=e[r-2],a=e[r-1];i<r;i+=2){const o=e[i],l=e[i+1];n+=(o-s)*(l+a),s=o,a=l}if(!t&&n>0||t&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const a=r-s-2,o=r-s-1,l=s,h=s+1;[e[a],e[l]]=[e[l],e[a]],[e[o],e[h]]=[e[h],e[o]]}}}const Ic={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points;const n=e.holes,i=t.points,s=t.indices;if(r.length>=6){ah(r,!1);const a=[];for(let h=0;h<n.length;h++){const u=n[h];ah(u.points,!0),a.push(r.length/2),r=r.concat(u.points)}const o=Ip(r,a,2);if(!o)return;const l=i.length/2;for(let h=0;h<o.length;h+=3)s.push(o[h]+l),s.push(o[h+1]+l),s.push(o[h+2]+l);for(let h=0;h<r.length;h++)i.push(r[h])}}},_v={build(e){const t=e.shape,r=t.x,n=t.y,i=t.width,s=t.height,a=e.points;a.length=0,i>=0&&s>=0&&a.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(e,t){const r=e.points,n=t.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},xv={build(e){Ci.build(e)},triangulate(e,t){Ci.triangulate(e,t)}};var Vt=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(Vt||{}),Ye=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(Ye||{});const Pr={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class oh{static curveTo(t,r,n,i,s,a){const o=a[a.length-2],h=a[a.length-1]-r,u=o-t,c=i-r,f=n-t,p=Math.abs(h*f-u*c);if(p<1e-8||s===0)return(a[a.length-2]!==t||a[a.length-1]!==r)&&a.push(t,r),null;const d=h*h+u*u,g=c*c+f*f,y=h*c+u*f,b=s*Math.sqrt(d)/p,v=s*Math.sqrt(g)/p,m=b*y/d,_=v*y/g,x=b*f+v*u,w=b*c+v*h,T=u*(v+m),S=h*(v+m),I=f*(b+_),A=c*(b+_),V=Math.atan2(S-w,T-x),tt=Math.atan2(A-w,I-x);return{cx:x+t,cy:w+r,radius:s,startAngle:V,endAngle:tt,anticlockwise:u*c>f*h}}static arc(t,r,n,i,s,a,o,l,h){const u=o-a,c=Pr._segmentsCount(Math.abs(u)*s,Math.ceil(Math.abs(u)/Ti)*40),f=u/(c*2),p=f*2,d=Math.cos(f),g=Math.sin(f),y=c-1,b=y%1/y;for(let v=0;v<=y;++v){const m=v+b*v,_=f+a+p*m,x=Math.cos(_),w=-Math.sin(_);h.push((d*x+g*w)*s+n,(d*-w+g*x)*s+i)}}}class wv{constructor(){this.reset()}begin(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n}end(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class po{static curveLength(t,r,n,i,s,a,o,l){let u=0,c=0,f=0,p=0,d=0,g=0,y=0,b=0,v=0,m=0,_=0,x=t,w=r;for(let T=1;T<=10;++T)c=T/10,f=c*c,p=f*c,d=1-c,g=d*d,y=g*d,b=y*t+3*g*c*n+3*d*f*s+p*o,v=y*r+3*g*c*i+3*d*f*a+p*l,m=x-b,_=w-v,x=b,w=v,u+=Math.sqrt(m*m+_*_);return u}static curveTo(t,r,n,i,s,a,o){const l=o[o.length-2],h=o[o.length-1];o.length-=2;const u=Pr._segmentsCount(po.curveLength(l,h,t,r,n,i,s,a));let c=0,f=0,p=0,d=0,g=0;o.push(l,h);for(let y=1,b=0;y<=u;++y)b=y/u,c=1-b,f=c*c,p=f*c,d=b*b,g=d*b,o.push(p*l+3*f*b*t+3*c*d*n+g*s,p*h+3*f*b*r+3*c*d*i+g*a)}}function lh(e,t,r,n,i,s,a,o){const l=e-r*i,h=t-n*i,u=e+r*s,c=t+n*s;let f,p;a?(f=n,p=-r):(f=-n,p=r);const d=l+f,g=h+p,y=u+f,b=c+p;return o.push(d,g,y,b),2}function Ge(e,t,r,n,i,s,a,o){const l=r-e,h=n-t;let u=Math.atan2(l,h),c=Math.atan2(i-e,s-t);o&&u<c?u+=Math.PI*2:!o&&u>c&&(c+=Math.PI*2);let f=u;const p=c-u,d=Math.abs(p),g=Math.sqrt(l*l+h*h),y=(15*d*Math.sqrt(g)/Math.PI>>0)+1,b=p/y;if(f+=b,o){a.push(e,t,r,n);for(let v=1,m=f;v<y;v++,m+=b)a.push(e,t,e+Math.sin(m)*g,t+Math.cos(m)*g);a.push(e,t,i,s)}else{a.push(r,n,e,t);for(let v=1,m=f;v<y;v++,m+=b)a.push(e+Math.sin(m)*g,t+Math.cos(m)*g,e,t);a.push(i,s,e,t)}return y*2}function Sv(e,t){const r=e.shape;let n=e.points||r.points.slice();const i=t.closePointEps;if(n.length===0)return;const s=e.lineStyle,a=new gt(n[0],n[1]),o=new gt(n[n.length-2],n[n.length-1]),l=r.type!==Ct.POLY||r.closeStroke,h=Math.abs(a.x-o.x)<i&&Math.abs(a.y-o.y)<i;if(l){n=n.slice(),h&&(n.pop(),n.pop(),o.set(n[n.length-2],n[n.length-1]));const H=(a.x+o.x)*.5,Rt=(o.y+a.y)*.5;n.unshift(H,Rt),n.push(H,Rt)}const u=t.points,c=n.length/2;let f=n.length;const p=u.length/2,d=s.width/2,g=d*d,y=s.miterLimit*s.miterLimit;let b=n[0],v=n[1],m=n[2],_=n[3],x=0,w=0,T=-(v-_),S=b-m,I=0,A=0,V=Math.sqrt(T*T+S*S);T/=V,S/=V,T*=d,S*=d;const tt=s.alignment,E=(1-tt)*2,N=tt*2;l||(s.cap===Ye.ROUND?f+=Ge(b-T*(E-N)*.5,v-S*(E-N)*.5,b-T*E,v-S*E,b+T*N,v+S*N,u,!0)+2:s.cap===Ye.SQUARE&&(f+=lh(b,v,T,S,E,N,!0,u))),u.push(b-T*E,v-S*E,b+T*N,v+S*N);for(let H=1;H<c-1;++H){b=n[(H-1)*2],v=n[(H-1)*2+1],m=n[H*2],_=n[H*2+1],x=n[(H+1)*2],w=n[(H+1)*2+1],T=-(v-_),S=b-m,V=Math.sqrt(T*T+S*S),T/=V,S/=V,T*=d,S*=d,I=-(_-w),A=m-x,V=Math.sqrt(I*I+A*A),I/=V,A/=V,I*=d,A*=d;const Rt=m-b,Bt=v-_,M=m-x,F=w-_,G=Rt*M+Bt*F,W=Bt*M-F*Rt,J=W<0;if(Math.abs(W)<.001*Math.abs(G)){u.push(m-T*E,_-S*E,m+T*N,_+S*N),G>=0&&(s.join===Vt.ROUND?f+=Ge(m,_,m-T*E,_-S*E,m-I*E,_-A*E,u,!1)+4:f+=2,u.push(m-I*N,_-A*N,m+I*E,_+A*E));continue}const ot=(-T+b)*(-S+_)-(-T+m)*(-S+v),lt=(-I+x)*(-A+_)-(-I+m)*(-A+w),xt=(Rt*lt-M*ot)/W,Mt=(F*ot-Bt*lt)/W,Ut=(xt-m)*(xt-m)+(Mt-_)*(Mt-_),It=m+(xt-m)*E,nt=_+(Mt-_)*E,ft=m-(xt-m)*N,pt=_-(Mt-_)*N,ee=Math.min(Rt*Rt+Bt*Bt,M*M+F*F),re=J?E:N,Br=ee+re*re*g,wf=Ut<=Br;let Sn=s.join;if(Sn===Vt.MITER&&Ut/g>y&&(Sn=Vt.BEVEL),wf)switch(Sn){case Vt.MITER:{u.push(It,nt,ft,pt);break}case Vt.BEVEL:{J?u.push(It,nt,m+T*N,_+S*N,It,nt,m+I*N,_+A*N):u.push(m-T*E,_-S*E,ft,pt,m-I*E,_-A*E,ft,pt),f+=2;break}case Vt.ROUND:{J?(u.push(It,nt,m+T*N,_+S*N),f+=Ge(m,_,m+T*N,_+S*N,m+I*N,_+A*N,u,!0)+4,u.push(It,nt,m+I*N,_+A*N)):(u.push(m-T*E,_-S*E,ft,pt),f+=Ge(m,_,m-T*E,_-S*E,m-I*E,_-A*E,u,!1)+4,u.push(m-I*E,_-A*E,ft,pt));break}}else{switch(u.push(m-T*E,_-S*E,m+T*N,_+S*N),Sn){case Vt.MITER:{J?u.push(ft,pt,ft,pt):u.push(It,nt,It,nt),f+=2;break}case Vt.ROUND:{J?f+=Ge(m,_,m+T*N,_+S*N,m+I*N,_+A*N,u,!0)+2:f+=Ge(m,_,m-T*E,_-S*E,m-I*E,_-A*E,u,!1)+2;break}}u.push(m-I*E,_-A*E,m+I*N,_+A*N),f+=2}}b=n[(c-2)*2],v=n[(c-2)*2+1],m=n[(c-1)*2],_=n[(c-1)*2+1],T=-(v-_),S=b-m,V=Math.sqrt(T*T+S*S),T/=V,S/=V,T*=d,S*=d,u.push(m-T*E,_-S*E,m+T*N,_+S*N),l||(s.cap===Ye.ROUND?f+=Ge(m-T*(E-N)*.5,_-S*(E-N)*.5,m-T*E,_-S*E,m+T*N,_+S*N,u,!1)+2:s.cap===Ye.SQUARE&&(f+=lh(m,_,T,S,E,N,!1,u)));const Et=t.indices,_t=Pr.epsilon*Pr.epsilon;for(let H=p;H<f+p-2;++H)b=u[H*2],v=u[H*2+1],m=u[(H+1)*2],_=u[(H+1)*2+1],x=u[(H+2)*2],w=u[(H+2)*2+1],!(Math.abs(b*(_-w)+m*(w-v)+x*(v-_))<_t)&&Et.push(H,H+1,H+2)}function Tv(e,t){let r=0;const n=e.shape,i=e.points||n.points,s=n.type!==Ct.POLY||n.closeStroke;if(i.length===0)return;const a=t.points,o=t.indices,l=i.length/2,h=a.length/2;let u=h;for(a.push(i[0],i[1]),r=1;r<l;r++)a.push(i[r*2],i[r*2+1]),o.push(u,u+1),u++;s&&o.push(u,h)}function hh(e,t){e.lineStyle.native?Tv(e,t):Sv(e,t)}class mo{static curveLength(t,r,n,i,s,a){const o=t-2*n+s,l=r-2*i+a,h=2*n-2*t,u=2*i-2*r,c=4*(o*o+l*l),f=4*(o*h+l*u),p=h*h+u*u,d=2*Math.sqrt(c+f+p),g=Math.sqrt(c),y=2*c*g,b=2*Math.sqrt(p),v=f/g;return(y*d+g*f*(d-b)+(4*p*c-f*f)*Math.log((2*g+v+d)/(v+b)))/(4*y)}static curveTo(t,r,n,i,s){const a=s[s.length-2],o=s[s.length-1],l=Pr._segmentsCount(mo.curveLength(a,o,t,r,n,i));let h=0,u=0;for(let c=1;c<=l;++c){const f=c/l;h=a+(t-a)*f,u=o+(r-o)*f,s.push(h+(t+(n-t)*f-h)*f,u+(r+(i-r)*f-u)*f)}}}const Ns={[Ct.POLY]:Ic,[Ct.CIRC]:Ci,[Ct.ELIP]:Ci,[Ct.RECT]:_v,[Ct.RREC]:xv},uh=[],zn=[];class Ri{constructor(t,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}clone(){return new Ri(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const lr=new gt,Ac=class extends ju{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Ii,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),zn.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),uh.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,n=null){const i=new Ri(e,t,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new Ri(e,null,null,t),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const n=t[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,lr):lr.copyFrom(e),n.shape.contains(lr.x,lr.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(lr.x,lr.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let o=this.shapeIndex;o<t.length;o++){this.shapeIndex++;const l=t[o],h=l.fillStyle,u=l.lineStyle;Ns[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(h.visible||u.visible)&&this.processHoles(l.holes);for(let f=0;f<2;f++){const p=f===0?h:u;if(!p.visible)continue;const d=p.texture.baseTexture,g=this.indices.length,y=this.points.length/2;d.wrapMode=an.REPEAT,f===0?this.processFill(l):this.processLine(l);const b=this.points.length/2-y;b!==0&&(r&&!this._compareStyles(n,p)&&(r.end(g,y),r=null),r||(r=uh.pop()||new wv,r.begin(p,g,y),this.batches.push(r),n=p),this.addUvs(this.points,e,p.texture,y,b,p.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const a=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const n=e[t];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<Ac.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Y._globalBatch;for(let u=0;u<this.drawCalls.length;u++)this.drawCalls[u].texArray.clear(),zn.push(this.drawCalls[u]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let n=zn.pop();n||(n=new ga,n.texArray=new va),n.texArray.count=0,n.start=0,n.size=0,n.type=Me.TRIANGLES;let i=0,s=null,a=0,o=!1,l=Me.TRIANGLES,h=0;this.drawCalls.push(n);for(let u=0;u<this.batches.length;u++){const c=this.batches[u],f=8,p=c.style,d=p.texture.baseTexture;o!==!!p.native&&(o=!!p.native,l=o?Me.LINES:Me.TRIANGLES,s=null,i=f,e++),s!==d&&(s=d,d._batchEnabled!==e&&(i===f&&(e++,i=0,n.size>0&&(n=zn.pop(),n||(n=new ga,n.texArray=new va),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=l),d.touched=1,d._batchEnabled=e,d._batchLocation=i,d.wrapMode=an.REPEAT,n.texArray.elements[n.texArray.count++]=d,i++)),n.size+=c.size,h+=c.size,a=d._batchLocation,this.addColors(t,p.color,p.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,a,c.attribSize,c.attribStart)}Y._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(e.length*3*4),s=new Float32Array(i),a=new Uint32Array(i);let o=0;for(let l=0;l<e.length/2;l++)s[o++]=e[l*2],s[o++]=e[l*2+1],s[o++]=t[l*2],s[o++]=t[l*2+1],a[o++]=r[l],s[o++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?Ic.triangulate(e,this):Ns[e.type].triangulate(e,this)}processLine(e){hh(e,this);for(let t=0;t<e.holes.length;t++)hh(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];Ns[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const n=e[r*2],i=e[r*2+1];e[r*2]=t.a*n+t.c*i+t.tx,e[r*2+1]=t.b*n+t.d*i+t.ty}}addColors(e,t,r,n,i=0){const s=At.shared.setValue(t).toLittleEndianNumber(),a=At.shared.setValue(s).toPremultiplied(r);e.length=Math.max(e.length,i+n);for(let o=0;o<n;o++)e[i+o]=a}addTextureIds(e,t,r,n=0){e.length=Math.max(e.length,n+r);for(let i=0;i<r;i++)e[n+i]=t}addUvs(e,t,r,n,i,s=null){let a=0;const o=t.length,l=r.frame;for(;a<i;){let u=e[(n+a)*2],c=e[(n+a)*2+1];if(s){const f=s.a*u+s.c*c+s.tx;c=s.b*u+s.d*c+s.ty,u=f}a++,t.push(u/l.width,c/l.height)}const h=r.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(t,r,o,i)}adjustUvs(e,t,r,n){const i=t.baseTexture,s=1e-6,a=r+n*2,o=t.frame,l=o.width/i.width,h=o.height/i.height;let u=o.x/o.width,c=o.y/o.height,f=Math.floor(e[r]+s),p=Math.floor(e[r+1]+s);for(let d=r+2;d<a;d+=2)f=Math.min(f,Math.floor(e[d]+s)),p=Math.min(p,Math.floor(e[d+1]+s));u-=f,c-=p;for(let d=r;d<a;d+=2)e[d]=(e[d]+u)*l,e[d+1]=(e[d+1]+c)*h}};let Cc=Ac;Cc.BATCHABLE_SIZE=100;class Xi{constructor(){this.color=16777215,this.alpha=1,this.texture=$.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Xi;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=$.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class go extends Xi{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ye.BUTT,this.join=Vt.MITER,this.miterLimit=10}clone(){const t=new go;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Os={},ui=class extends _e{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Xi,this._lineStyle=new go,this._matrix=null,this._holeMode=!1,this.state=Fr.for2d(),this._geometry=e||new Cc,this._geometry.refCount++,this._transformID=-1,this._tintColor=new At(16777215),this.blendMode=L.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new ui(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,n=.5,i=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:n,native:i}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:$.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ye.BUTT,join:Vt.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new en,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new en,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==e||i!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),mo.curveTo(e,t,r,n,i),this}bezierCurveTo(e,t,r,n,i,s){return this._initCurve(),po.curveTo(e,t,r,n,i,s,this.currentPath.points),this}arcTo(e,t,r,n,i){this._initCurve(e,t);const s=this.currentPath.points,a=oh.curveTo(e,t,r,n,i,s);if(a){const{cx:o,cy:l,radius:h,startAngle:u,endAngle:c,anticlockwise:f}=a;this.arc(o,l,h,u,c,f)}return this}arc(e,t,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=Ti:s&&n<=i&&(n+=Ti),i-n===0)return this;const o=e+Math.cos(n)*r,l=t+Math.sin(n)*r,h=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const c=Math.abs(u[u.length-2]-o),f=Math.abs(u[u.length-1]-l);c<h&&f<h||u.push(o,l)}else this.moveTo(o,l),u=this.currentPath.points;return oh.arc(o,l,e,t,r,n,i,s,u),this}beginFill(e=0,t){return this.beginTextureFill({texture:$.WHITE,color:e,alpha:t})}normalizeColor(e){const t=At.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:$.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,n){return this.drawShape(new K(e,t,r,n))}drawRoundedRect(e,t,r,n,i){return this.drawShape(new ao(e,t,r,n,i))}drawCircle(e,t,r){return this.drawShape(new io(e,t,r))}drawEllipse(e,t,r,n){return this.drawShape(new so(e,t,r,n))}drawPolygon(...e){let t,r=!0;const n=e[0];n.points?(r=n.closeStroke,t=n.points):Array.isArray(e[0])?t=e[0]:t=e;const i=new en(t);return i.closeStroke=r,this.drawShape(i),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Ct.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let n=0;n<r;n++){const i=e.batches[n],s=i.style.color,a=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),o=new Float32Array(e.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(e.indicesUint16.buffer,i.start*2,i.size),h={vertexData:a,blendMode:t,indices:l,uvs:o,_batchRGB:At.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const n=this.batches[t];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,n=this.worldAlpha,i=t.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,At.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let a=0,o=s.length;a<o;a++)this._renderDrawCallDirect(e,r.drawCalls[a])}_renderDrawCallDirect(e,t){const{texArray:r,type:n,size:i,start:s}=t,a=r.count;for(let o=0;o<a;o++)e.texture.bind(r.elements[o],o);e.geometry.draw(n,i,s)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!Os[r]){const{maxTextures:n}=e.plugins[r],i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=o;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new vt,default:Qt.from({uSamplers:i},!0)},a=e.plugins[r]._shader.program;Os[r]=new bn(a,s)}t=Os[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:n,maxY:i}=e.bounds;this._bounds.addFrame(this.transform,t,r,n,i)}containsPoint(e){return this.worldTransform.applyInverse(e,ui._TEMP_POINT),this._geometry.containsPoint(ui._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=At.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,s=t.d,a=t.tx,o=t.ty,l=this._geometry.points,h=this.vertexData;let u=0;for(let c=0;c<l.length;c+=2){const f=l[c],p=l[c+1];h[u++]=r*f+i*p+a,h[u++]=s*p+n*f+o}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};let yo=ui;yo.curves=Pr;yo._TEMP_POINT=new gt;var Rc={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},vo={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Ev=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Mi={CSS:{},springs:{}};function le(e,t,r){return Math.min(Math.max(e,t),r)}function rn(e,t){return e.indexOf(t)>-1}function Fs(e,t){return e.apply(null,t)}var O={arr:function(e){return Array.isArray(e)},obj:function(e){return rn(Object.prototype.toString.call(e),"Object")},pth:function(e){return O.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||O.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return O.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return O.hex(e)||O.rgb(e)||O.hsl(e)},key:function(e){return!Rc.hasOwnProperty(e)&&!vo.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function Mc(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function kc(e,t){var r=Mc(e),n=le(O.und(r[0])?1:r[0],.1,100),i=le(O.und(r[1])?100:r[1],.1,100),s=le(O.und(r[2])?10:r[2],.1,100),a=le(O.und(r[3])?0:r[3],.1,100),o=Math.sqrt(i/n),l=s/(2*Math.sqrt(i*n)),h=l<1?o*Math.sqrt(1-l*l):0,u=1,c=l<1?(l*o+-a)/h:-a+o;function f(d){var g=t?t*d/1e3:d;return l<1?g=Math.exp(-g*l*o)*(u*Math.cos(h*g)+c*Math.sin(h*g)):g=(u+c*g)*Math.exp(-g*o),d===0||d===1?d:1-g}function p(){var d=Mi.springs[e];if(d)return d;for(var g=1/6,y=0,b=0;;)if(y+=g,f(y)===1){if(b++,b>=16)break}else b=0;var v=y*g*1e3;return Mi.springs[e]=v,v}return t?f:p}function Iv(e){return e===void 0&&(e=10),function(t){return Math.ceil(le(t,1e-6,1)*e)*(1/e)}}var Av=function(){var e=11,t=1/(e-1);function r(u,c){return 1-3*c+3*u}function n(u,c){return 3*c-6*u}function i(u){return 3*u}function s(u,c,f){return((r(c,f)*u+n(c,f))*u+i(c))*u}function a(u,c,f){return 3*r(c,f)*u*u+2*n(c,f)*u+i(c)}function o(u,c,f,p,d){var g,y,b=0;do y=c+(f-c)/2,g=s(y,p,d)-u,g>0?f=y:c=y;while(Math.abs(g)>1e-7&&++b<10);return y}function l(u,c,f,p){for(var d=0;d<4;++d){var g=a(c,f,p);if(g===0)return c;var y=s(c,f,p)-u;c-=y/g}return c}function h(u,c,f,p){if(!(0<=u&&u<=1&&0<=f&&f<=1))return;var d=new Float32Array(e);if(u!==c||f!==p)for(var g=0;g<e;++g)d[g]=s(g*t,u,f);function y(b){for(var v=0,m=1,_=e-1;m!==_&&d[m]<=b;++m)v+=t;--m;var x=(b-d[m])/(d[m+1]-d[m]),w=v+x*t,T=a(w,u,f);return T>=.001?l(b,w,u,f):T===0?w:o(b,v,v+t,u,f)}return function(b){return u===c&&f===p||b===0||b===1?b:s(y(b),c,p)}}return h}(),Pc=function(){var e={linear:function(){return function(n){return n}}},t={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var i,s=4;n<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-n,2)}},Elastic:function(n,i){n===void 0&&(n=1),i===void 0&&(i=.5);var s=le(n,1,10),a=le(i,.1,2);return function(o){return o===0||o===1?o:-s*Math.pow(2,10*(o-1))*Math.sin((o-1-a/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/a)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(n,i){t[n]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(t).forEach(function(n){var i=t[n];e["easeIn"+n]=i,e["easeOut"+n]=function(s,a){return function(o){return 1-i(s,a)(1-o)}},e["easeInOut"+n]=function(s,a){return function(o){return o<.5?i(s,a)(o*2)/2:1-i(s,a)(o*-2+2)/2}},e["easeOutIn"+n]=function(s,a){return function(o){return o<.5?(1-i(s,a)(1-o*2))/2:(i(s,a)(o*2-1)+1)/2}}}),e}();function bo(e,t){if(O.fnc(e))return e;var r=e.split("(")[0],n=Pc[r],i=Mc(e);switch(r){case"spring":return kc(e,t);case"cubicBezier":return Fs(Av,i);case"steps":return Fs(Iv,i);default:return Fs(n,i)}}function Nc(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Yi(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<r;s++)if(s in e){var a=e[s];t.call(n,a,s,e)&&i.push(a)}return i}function qi(e){return e.reduce(function(t,r){return t.concat(O.arr(r)?qi(r):r)},[])}function ch(e){return O.arr(e)?e:(O.str(e)&&(e=Nc(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function _o(e,t){return e.some(function(r){return r===t})}function xo(e){var t={};for(var r in e)t[r]=e[r];return t}function Ia(e,t){var r=xo(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function Ji(e,t){var r=xo(e);for(var n in t)r[n]=O.und(e[n])?t[n]:e[n];return r}function Cv(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function Rv(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(o,l,h,u){return l+l+h+h+u+u}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),i=parseInt(n[1],16),s=parseInt(n[2],16),a=parseInt(n[3],16);return"rgba("+i+","+s+","+a+",1)"}function Mv(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,n=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,s=t[4]||1;function a(f,p,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?f+(p-f)*6*d:d<1/2?p:d<2/3?f+(p-f)*(2/3-d)*6:f}var o,l,h;if(n==0)o=l=h=i;else{var u=i<.5?i*(1+n):i+n-i*n,c=2*i-u;o=a(c,u,r+1/3),l=a(c,u,r),h=a(c,u,r-1/3)}return"rgba("+o*255+","+l*255+","+h*255+","+s+")"}function kv(e){if(O.rgb(e))return Cv(e);if(O.hex(e))return Rv(e);if(O.hsl(e))return Mv(e)}function be(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Pv(e){if(rn(e,"translate")||e==="perspective")return"px";if(rn(e,"rotate")||rn(e,"skew"))return"deg"}function Aa(e,t){return O.fnc(e)?e(t.target,t.id,t.total):e}function he(e,t){return e.getAttribute(t)}function wo(e,t,r){var n=be(t);if(_o([r,"deg","rad","turn"],n))return t;var i=Mi.CSS[t+r];if(!O.und(i))return i;var s=100,a=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(a),a.style.position="absolute",a.style.width=s+r;var l=s/a.offsetWidth;o.removeChild(a);var h=l*parseFloat(t);return Mi.CSS[t+r]=h,h}function Oc(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?wo(e,i,r):i}}function So(e,t){if(O.dom(e)&&!O.inp(e)&&(!O.nil(he(e,t))||O.svg(e)&&e[t]))return"attribute";if(O.dom(e)&&_o(Ev,t))return"transform";if(O.dom(e)&&t!=="transform"&&Oc(e,t))return"css";if(e[t]!=null)return"object"}function Fc(e){if(O.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,n=new Map,i;i=r.exec(t);)n.set(i[1],i[2]);return n}}function Nv(e,t,r,n){var i=rn(t,"scale")?1:0+Pv(t),s=Fc(e).get(t)||i;return r&&(r.transforms.list.set(t,s),r.transforms.last=t),n?wo(e,s,n):s}function To(e,t,r,n){switch(So(e,t)){case"transform":return Nv(e,t,n,r);case"css":return Oc(e,t,r);case"attribute":return he(e,t);default:return e[t]||0}}function Eo(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=be(e)||0,i=parseFloat(t),s=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return i+s+n;case"-":return i-s+n;case"*":return i*s+n}}function Lc(e,t){if(O.col(e))return kv(e);if(/\s/g.test(e))return e;var r=be(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function Io(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ov(e){return Math.PI*2*he(e,"r")}function Fv(e){return he(e,"width")*2+he(e,"height")*2}function Lv(e){return Io({x:he(e,"x1"),y:he(e,"y1")},{x:he(e,"x2"),y:he(e,"y2")})}function Dc(e){for(var t=e.points,r=0,n,i=0;i<t.numberOfItems;i++){var s=t.getItem(i);i>0&&(r+=Io(n,s)),n=s}return r}function Dv(e){var t=e.points;return Dc(e)+Io(t.getItem(t.numberOfItems-1),t.getItem(0))}function Bc(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return Ov(e);case"rect":return Fv(e);case"line":return Lv(e);case"polyline":return Dc(e);case"polygon":return Dv(e)}}function Bv(e){var t=Bc(e);return e.setAttribute("stroke-dasharray",t),t}function Uv(e){for(var t=e.parentNode;O.svg(t)&&O.svg(t.parentNode);)t=t.parentNode;return t}function Uc(e,t){var r=t||{},n=r.el||Uv(e),i=n.getBoundingClientRect(),s=he(n,"viewBox"),a=i.width,o=i.height,l=r.viewBox||(s?s.split(" "):[0,0,a,o]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:a,h:o,vW:l[2],vH:l[3]}}function Gv(e,t){var r=O.str(e)?Nc(e)[0]:e,n=t||100;return function(i){return{property:i,el:r,svg:Uc(r),totalLength:Bc(r)*(n/100)}}}function $v(e,t,r){function n(u){u===void 0&&(u=0);var c=t+u>=1?t+u:0;return e.el.getPointAtLength(c)}var i=Uc(e.el,e.svg),s=n(),a=n(-1),o=n(1),l=r?1:i.w/i.vW,h=r?1:i.h/i.vH;switch(e.property){case"x":return(s.x-i.x)*l;case"y":return(s.y-i.y)*h;case"angle":return Math.atan2(o.y-a.y,o.x-a.x)*180/Math.PI}}function fh(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=Lc(O.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:O.str(e)||t?n.split(r):[]}}function Ao(e){var t=e?qi(O.arr(e)?e.map(ch):ch(e)):[];return Yi(t,function(r,n,i){return i.indexOf(r)===n})}function Gc(e){var t=Ao(e);return t.map(function(r,n){return{target:r,id:n,total:t.length,transforms:{list:Fc(r)}}})}function jv(e,t){var r=xo(t);if(/^spring/.test(r.easing)&&(r.duration=kc(r.easing)),O.arr(e)){var n=e.length,i=n===2&&!O.obj(e[0]);i?e={value:e}:O.fnc(t.duration)||(r.duration=t.duration/n)}var s=O.arr(e)?e:[e];return s.map(function(a,o){var l=O.obj(a)&&!O.pth(a)?a:{value:a};return O.und(l.delay)&&(l.delay=o?0:t.delay),O.und(l.endDelay)&&(l.endDelay=o===s.length-1?t.endDelay:0),l}).map(function(a){return Ji(a,r)})}function zv(e){for(var t=Yi(qi(e.map(function(s){return Object.keys(s)})),function(s){return O.key(s)}).reduce(function(s,a){return s.indexOf(a)<0&&s.push(a),s},[]),r={},n=function(s){var a=t[s];r[a]=e.map(function(o){var l={};for(var h in o)O.key(h)?h==a&&(l.value=o[h]):l[h]=o[h];return l})},i=0;i<t.length;i++)n(i);return r}function Hv(e,t){var r=[],n=t.keyframes;n&&(t=Ji(zv(n),t));for(var i in t)O.key(i)&&r.push({name:i,tweens:jv(t[i],e)});return r}function Vv(e,t){var r={};for(var n in e){var i=Aa(e[n],t);O.arr(i)&&(i=i.map(function(s){return Aa(s,t)}),i.length===1&&(i=i[0])),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function Wv(e,t){var r;return e.tweens.map(function(n){var i=Vv(n,t),s=i.value,a=O.arr(s)?s[1]:s,o=be(a),l=To(t.target,e.name,o,t),h=r?r.to.original:l,u=O.arr(s)?s[0]:h,c=be(u)||be(l),f=o||c;return O.und(a)&&(a=h),i.from=fh(u,f),i.to=fh(Eo(a,u),f),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=bo(i.easing,i.duration),i.isPath=O.pth(s),i.isPathTargetInsideSVG=i.isPath&&O.svg(t.target),i.isColor=O.col(i.from.original),i.isColor&&(i.round=1),r=i,i})}var $c={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,i){if(n.list.set(t,r),t===n.last||i){var s="";n.list.forEach(function(a,o){s+=o+"("+a+") "}),e.style.transform=s}}};function jc(e,t){var r=Gc(e);r.forEach(function(n){for(var i in t){var s=Aa(t[i],n),a=n.target,o=be(s),l=To(a,i,o,n),h=o||be(l),u=Eo(Lc(s,h),l),c=So(a,i);$c[c](a,i,u,n.transforms,!0)}})}function Xv(e,t){var r=So(e.target,t.name);if(r){var n=Wv(t,e),i=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}function Yv(e,t){return Yi(qi(e.map(function(r){return t.map(function(n){return Xv(r,n)})})),function(r){return!O.und(r)})}function zc(e,t){var r=e.length,n=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,e.map(function(s){return n(s)+s.duration})):t.duration,i.delay=r?Math.min.apply(Math,e.map(function(s){return n(s)+s.delay})):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map(function(s){return n(s)+s.duration-s.endDelay})):t.endDelay,i}var dh=0;function qv(e){var t=Ia(Rc,e),r=Ia(vo,e),n=Hv(r,e),i=Gc(e.targets),s=Yv(i,n),a=zc(s,r),o=dh;return dh++,Ji(t,{id:o,children:[],animatables:i,animations:s,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var qt=[],Hc=function(){var e;function t(){!e&&(!ph()||!ut.suspendWhenDocumentHidden)&&qt.length>0&&(e=requestAnimationFrame(r))}function r(i){for(var s=qt.length,a=0;a<s;){var o=qt[a];o.paused?(qt.splice(a,1),s--):(o.tick(i),a++)}e=a>0?requestAnimationFrame(r):void 0}function n(){ut.suspendWhenDocumentHidden&&(ph()?e=cancelAnimationFrame(e):(qt.forEach(function(i){return i._onDocumentVisibility()}),Hc()))}return typeof document<"u"&&document.addEventListener("visibilitychange",n),t}();function ph(){return!!document&&document.hidden}function ut(e){e===void 0&&(e={});var t=0,r=0,n=0,i,s=0,a=null;function o(v){var m=window.Promise&&new Promise(function(_){return a=_});return v.finished=m,m}var l=qv(e);o(l);function h(){var v=l.direction;v!=="alternate"&&(l.direction=v!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,i.forEach(function(m){return m.reversed=l.reversed})}function u(v){return l.reversed?l.duration-v:v}function c(){t=0,r=u(l.currentTime)*(1/ut.speed)}function f(v,m){m&&m.seek(v-m.timelineOffset)}function p(v){if(l.reversePlayback)for(var _=s;_--;)f(v,i[_]);else for(var m=0;m<s;m++)f(v,i[m])}function d(v){for(var m=0,_=l.animations,x=_.length;m<x;){var w=_[m],T=w.animatable,S=w.tweens,I=S.length-1,A=S[I];I&&(A=Yi(S,function(lt){return v<lt.end})[0]||A);for(var V=le(v-A.start-A.delay,0,A.duration)/A.duration,tt=isNaN(V)?1:A.easing(V),E=A.to.strings,N=A.round,Et=[],_t=A.to.numbers.length,H=void 0,Rt=0;Rt<_t;Rt++){var Bt=void 0,M=A.to.numbers[Rt],F=A.from.numbers[Rt]||0;A.isPath?Bt=$v(A.value,tt*M,A.isPathTargetInsideSVG):Bt=F+tt*(M-F),N&&(A.isColor&&Rt>2||(Bt=Math.round(Bt*N)/N)),Et.push(Bt)}var G=E.length;if(!G)H=Et[0];else{H=E[0];for(var W=0;W<G;W++){E[W];var J=E[W+1],ot=Et[W];isNaN(ot)||(J?H+=ot+J:H+=ot+" ")}}$c[w.type](T.target,w.property,H,T.transforms),w.currentValue=H,m++}}function g(v){l[v]&&!l.passThrough&&l[v](l)}function y(){l.remaining&&l.remaining!==!0&&l.remaining--}function b(v){var m=l.duration,_=l.delay,x=m-l.endDelay,w=u(v);l.progress=le(w/m*100,0,100),l.reversePlayback=w<l.currentTime,i&&p(w),!l.began&&l.currentTime>0&&(l.began=!0,g("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,g("loopBegin")),w<=_&&l.currentTime!==0&&d(0),(w>=x&&l.currentTime!==m||!m)&&d(m),w>_&&w<x?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,g("changeBegin")),g("change"),d(w)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,g("changeComplete")),l.currentTime=le(w,0,m),l.began&&g("update"),v>=m&&(r=0,y(),l.remaining?(t=n,g("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&h()):(l.paused=!0,l.completed||(l.completed=!0,g("loopComplete"),g("complete"),!l.passThrough&&"Promise"in window&&(a(),o(l)))))}return l.reset=function(){var v=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=v==="reverse",l.remaining=l.loop,i=l.children,s=i.length;for(var m=s;m--;)l.children[m].reset();(l.reversed&&l.loop!==!0||v==="alternate"&&l.loop===1)&&l.remaining++,d(l.reversed?l.duration:0)},l._onDocumentVisibility=c,l.set=function(v,m){return jc(v,m),l},l.tick=function(v){n=v,t||(t=n),b((n+(r-t))*ut.speed)},l.seek=function(v){b(u(v))},l.pause=function(){l.paused=!0,c()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,qt.push(l),c(),Hc())},l.reverse=function(){h(),l.completed=!l.reversed,c()},l.restart=function(){l.reset(),l.play()},l.remove=function(v){var m=Ao(v);Vc(m,l)},l.reset(),l.autoplay&&l.play(),l}function mh(e,t){for(var r=t.length;r--;)_o(e,t[r].animatable.target)&&t.splice(r,1)}function Vc(e,t){var r=t.animations,n=t.children;mh(e,r);for(var i=n.length;i--;){var s=n[i],a=s.animations;mh(e,a),!a.length&&!s.children.length&&n.splice(i,1)}!r.length&&!n.length&&t.pause()}function Jv(e){for(var t=Ao(e),r=qt.length;r--;){var n=qt[r];Vc(t,n)}}function Zv(e,t){t===void 0&&(t={});var r=t.direction||"normal",n=t.easing?bo(t.easing):null,i=t.grid,s=t.axis,a=t.from||0,o=a==="first",l=a==="center",h=a==="last",u=O.arr(e),c=parseFloat(u?e[0]:e),f=u?parseFloat(e[1]):0,p=be(u?e[1]:e)||0,d=t.start||0+(u?c:0),g=[],y=0;return function(b,v,m){if(o&&(a=0),l&&(a=(m-1)/2),h&&(a=m-1),!g.length){for(var _=0;_<m;_++){if(!i)g.push(Math.abs(a-_));else{var x=l?(i[0]-1)/2:a%i[0],w=l?(i[1]-1)/2:Math.floor(a/i[0]),T=_%i[0],S=Math.floor(_/i[0]),I=x-T,A=w-S,V=Math.sqrt(I*I+A*A);s==="x"&&(V=-I),s==="y"&&(V=-A),g.push(V)}y=Math.max.apply(Math,g)}n&&(g=g.map(function(E){return n(E/y)*y})),r==="reverse"&&(g=g.map(function(E){return s?E<0?E*-1:-E:Math.abs(y-E)}))}var tt=u?(f-c)/y:c;return d+tt*(Math.round(g[v]*100)/100)+p}}function Kv(e){e===void 0&&(e={});var t=ut(e);return t.duration=0,t.add=function(r,n){var i=qt.indexOf(t),s=t.children;i>-1&&qt.splice(i,1);function a(f){f.passThrough=!0}for(var o=0;o<s.length;o++)a(s[o]);var l=Ji(r,Ia(vo,e));l.targets=l.targets||e.targets;var h=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=O.und(n)?h:Eo(n,h),a(t),t.seek(l.timelineOffset);var u=ut(l);a(u),s.push(u);var c=zc(s,e);return t.delay=c.delay,t.endDelay=c.endDelay,t.duration=c.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}ut.version="3.2.1";ut.speed=1;ut.suspendWhenDocumentHidden=!0;ut.running=qt;ut.remove=Jv;ut.get=To;ut.set=jc;ut.convertPx=wo;ut.path=Gv;ut.setDashoffset=Bv;ut.stagger=Zv;ut.timeline=Kv;ut.easing=bo;ut.penner=Pc;ut.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};function Qv(){return D("div",{},U({position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:"linear-gradient(-65deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 50%, rgba(255,255,255,0) 100%)",zIndex:"10"}))}var t0=typeof global=="object"&&global&&global.Object===Object&&global;const e0=t0;var r0=typeof self=="object"&&self&&self.Object===Object&&self,n0=e0||r0||Function("return this")();const Wc=n0;var i0=Wc.Symbol;const ki=i0;var Xc=Object.prototype,s0=Xc.hasOwnProperty,a0=Xc.toString,zr=ki?ki.toStringTag:void 0;function o0(e){var t=s0.call(e,zr),r=e[zr];try{e[zr]=void 0;var n=!0}catch{}var i=a0.call(e);return n&&(t?e[zr]=r:delete e[zr]),i}var l0=Object.prototype,h0=l0.toString;function u0(e){return h0.call(e)}var c0="[object Null]",f0="[object Undefined]",gh=ki?ki.toStringTag:void 0;function d0(e){return e==null?e===void 0?f0:c0:gh&&gh in Object(e)?o0(e):u0(e)}function p0(e){return e!=null&&typeof e=="object"}var m0="[object Symbol]";function g0(e){return typeof e=="symbol"||p0(e)&&d0(e)==m0}var y0=/\s/;function v0(e){for(var t=e.length;t--&&y0.test(e.charAt(t)););return t}var b0=/^\s+/;function _0(e){return e&&e.slice(0,v0(e)+1).replace(b0,"")}function Ca(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var yh=0/0,x0=/^[-+]0x[0-9a-f]+$/i,w0=/^0b[01]+$/i,S0=/^0o[0-7]+$/i,T0=parseInt;function vh(e){if(typeof e=="number")return e;if(g0(e))return yh;if(Ca(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ca(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_0(e);var r=w0.test(e);return r||S0.test(e)?T0(e.slice(2),r?2:8):x0.test(e)?yh:+e}var E0=function(){return Wc.Date.now()};const Ls=E0;var I0="Expected a function",A0=Math.max,C0=Math.min;function R0(e,t,r){var n,i,s,a,o,l,h=0,u=!1,c=!1,f=!0;if(typeof e!="function")throw new TypeError(I0);t=vh(t)||0,Ca(r)&&(u=!!r.leading,c="maxWait"in r,s=c?A0(vh(r.maxWait)||0,t):s,f="trailing"in r?!!r.trailing:f);function p(w){var T=n,S=i;return n=i=void 0,h=w,a=e.apply(S,T),a}function d(w){return h=w,o=setTimeout(b,t),u?p(w):a}function g(w){var T=w-l,S=w-h,I=t-T;return c?C0(I,s-S):I}function y(w){var T=w-l,S=w-h;return l===void 0||T>=t||T<0||c&&S>=s}function b(){var w=Ls();if(y(w))return v(w);o=setTimeout(b,g(w))}function v(w){return o=void 0,f&&n?p(w):(n=i=void 0,a)}function m(){o!==void 0&&clearTimeout(o),h=0,n=l=i=o=void 0}function _(){return o===void 0?a:v(Ls())}function x(){var w=Ls(),T=y(w);if(n=arguments,i=this,l=w,T){if(o===void 0)return d(l);if(c)return clearTimeout(o),o=setTimeout(b,t),p(l)}return o===void 0&&(o=setTimeout(b,t)),a}return x.cancel=m,x.flush=_,x}function M0({text:e,opacity:t,duration:r}){const n=document.createElement("div");Kd(n,()=>{const f=R0(()=>{s.renderer.resize(window.innerWidth,window.innerHeight),h()},500);return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)});const i=D("canvas",{},U({position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"4"})),s=new uo({view:i,backgroundAlpha:0,width:window.innerWidth,height:window.innerHeight,antialias:!0}),a=new _e;a.zIndex=4,s.stage.sortableChildren=!0,s.stage.addChild(a),new yo().endFill();let l;async function h(f){a.removeChildren();const p=20,d=new Ai({fontSize:p+"px",fill:"rgb(207 207 207)",fontFamily:"serif"}),g={background:null,indices:null};if(!f){l&&l.pause(),b(),v(1);return}if(l){l.duration=r,l.restart();return}const y={t:0};function b(){g.background=ip(e,{width:window.innerWidth,height:window.innerHeight,offset:[5,5],lineHeight:22,fontSize:p}),g.indices=new Array(g.background.text.length).fill(0).map((m,_)=>_)}function v(m){const{background:_,indices:x}=g;if(!_||!x)return;const w=1-x.length/_.text.length,T=Math.floor((m-w)*_.text.length),S=new Array(T).fill(null).map(()=>x.splice(Math.floor(Math.random()*x.length),1)[0]);for(const I of S){const A=new Ec(_.text[I],d);A.x=_.x[I],A.y=_.y[I],a.addChild(A)}}l=ut({targets:y,t:1,duration:r,easing:"easeInCubic",loopBegin(){b()},begin(){b()},update(){v(y.t)}})}h(!0),n.appendChild(i),n.appendChild(Qv());const u=D("div",{style:`
                -webkit-mask-image: url(mask.svg?q=${Math.random()});
                -webkit-mask-size: 100%;
                -webkit-mask-repeat: no-repeat;
                -webkit-mask-position: center;
            `},U({$name:"Masked",position:"relative",width:"21.6em",height:"21.6em",transform:"scale(0.7)",transition:"opacity 0.4s ease-out",opacity:t.pipe(ct(String))}),D("div",{},U({display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxSizing:"border-box",width:"85.9%",height:"85.9%",borderRadius:"100%",border:"1.95em solid white"})),D("div",{},U({display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxSizing:"border-box",width:"83.2%",height:"83.2%",borderRadius:"100%",border:"1.3em solid #6b6b6b"})),D("div",{style:"-webkit-text-stroke: 0.1em white"},U({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"Berlin",fontSize:"6.3em",fontStyle:"normal",pointerEvents:"none"}),"Ni55aN"),D("div",{},U({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"Berlin",fontSize:"6.3em",fontStyle:"normal",pointerEvents:"none"}),D("span",{},U({color:"#6b6b6b"}),"Ni"),D("span",{},U({color:"#f98000"}),"55"),D("span",{},U({color:"#6b6b6b"}),"aN"))),c=D("div",{style:""},U({position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"15"}),u);return n.appendChild(c),n}const k0="radial-gradient(at 50% 0%, rgb(255, 255, 255) 0%, rgba(255, 255, 255, 0) 70%)",P0=Dt({width:"6em",padding:"0.1em 0.2em 0.6em",fontSize:"2.2em",background:new Array(4).fill(k0).join(", "),animation:"fadeIn 3s ease-in-out",animationIterationCount:"1",textAlign:"center","@media":{query:{maxWidth:"500px"},fontSize:"1.9em"}}),N0=Dt({cursor:"pointer",border:"none",fontFamily:"Amplify",fontStyle:"normal",width:"100%",color:"rgb(90, 90, 90)",transition:"transform  0.4s ease-in-out, color 0.4s ease-in-out",transformOrigin:"center top",display:"inline-block",pointerEvents:"all",":hover":{color:"orange",transform:"scale(1.2)"}}),Hn=(e,t,r)=>D("div",{},U(P0),D("a",{click:dr(r),style:t.pipe(ct(n=>n?"color: orange;":""))},U(N0),e));function O0(e){return D("div",{},U({position:"absolute",top:"0",left:"0",width:"100%",zIndex:"15",display:"flex",justifyContent:"space-around",padding:"0 10vw",boxSizing:"border-box",pointerEvents:"none","@media":{query:{maxWidth:"500px"},padding:"0 5vw"}}),Hn("About",e.active.pipe(ct(t=>t==="about")),()=>e.select("about")),Hn("Skills",e.active.pipe(ct(t=>t==="skills")),()=>e.select("skills")),Hn("Resume",e.active.pipe(ct(t=>t==="resume")),()=>e.select("resume")),Hn("Contact",e.active.pipe(ct(t=>t==="contact")),()=>e.select("contact")))}const F0={"1 Jan 2011":{Photoshop:.2},"15 Jan 2011":{"HTML/CSS":0},"5 Apr 2011":{"HTML/CSS":.2,JavaScript:0,PHP:0},"10 Nov 2011":{"C++":0,SQL:0,MySQL:0,JavaScript:.2,PHP:.2},"5 Feb 2012":{SQL:.12,MySQL:.1111,"C++":.1},"21 May 2012":{Photoshop:.3},"10 Sep 2012":{"C#":0,".NET/WPF":0},"30 Dec 2012":{"C#":.15,".NET/WPF":.1,"Android SDK":0},"20 Apr 2013":{"Android SDK":.3,"C#":.3,".NET/WPF":.35},"20 Aug 2013":{"HTML/CSS":.4,MySQL:.4},"6 Feb 2014":{"Android SDK":.4,Java:0,MySQL:.5},"6 Mar 2014":{Java:.1},"6 Aug 2014":{JavaScript:.4,OpenGL:0,WebGL:0,"three.js":0},"10 Sep 2014":{Photoshop:.6},"25 Dec 2014":{OpenGL:.25,WebGL:.25,"three.js":.3,Blender:0},"10 Feb 2015":{Blender:.15},"10 Jul 2015":{"HTML/CSS":.7,OpenGL:.45,WebGL:.45,"three.js":.5,JavaScript:.5},"5 Sep 2015":{Photoshop:.65,Cmake:0,Git:0,".NET/WPF":.4,Emscripten:0},"25 Nov 2015":{Git:.25,"C++":.5,Cmake:.3,UML:0,Java:.5,SQL:.4,MySQL:.5,JavaScript:.6,Emscripten:.2,SCSS:0},"8 Feb 2016":{Lua:0,UML:.2,MySQL:.55,"HTML/CSS":.75,SCSS:.2},"5 Mar 2016":{Lua:.22,"Node.js":0},"30 Mar 2016":{Photoshop:.65},"25 May 2016":{OpenGL:.55,WebGL:.55,"three.js":.6,Blender:.35,SCSS:.45,Cmake:.45,Emscripten:.4},"10 Jun 2016":{UML:.35,"Node.js":.2},"20 Jul 2016":{Blender:.45,"Node.js":.3},"19 Oct 2016":{JavaScript:.65,SCSS:.55},"28 Nov 2016":{Cmake:.5,Emscripten:.5},"24 Dec 2016":{"Angular Light":.4,Java:.6,Git:.4,SQL:.5,Chai:0,Mocha:0},"22 Feb 2017":{Docker:0,Chai:.3,Mocha:.3},"15 Mar 2017":{Docker:.2},"20 Jun 2017":{Docker:.4,"Node.js":.35},"30 Aug 2017":{JavaScript:.7,"Vue.js":.2,Git:.6,UML:.45,Blender:.55,"C++":.5},"15 Sep 2017":{Angular:0,TypeScript:0,"Node.js":.35},"1 Dec 2017":{OpenGL:.35,WebGL:.35,"three.js":.5,Azure:0},"3 Jan 2018":{Angular:.2,TypeScript:.2},"1 Apr 2018":{JavaScript:.7,TypeScript:.35,Docker:.35,"Docker Compose":0,"Vue.js":.4,"React.js":0,"Node.js":.3,PostgreSQL:0,"Sequelize.js":0,Jest:0},"15 May 2018":{Git:.6,Angular:.4},"1 Jun 2018":{"Docker Compose":.2,SQL:.55,Azure:.25},"1 Nov 2018":{Docker:.45,"Docker Swarm":0,SQL:.6,"Vue.js":.5,PostgreSQL:.3,"Sequelize.js":.4,Jest:.4},"1 Dec 2018":{"Docker Swarm":.15},"1 Mar 2019":{Git:.65,SQL:.65,"React.js":.6,"Node.js":.6,PostgreSQL:.4,"Sequelize.js":.5},"1 Jul 2019":{Angular:.35,Cypress:.2},"1 Feb 2020":{OpenGL:.45,WebGL:.45,"three.js":.6,"Vue.js":.65,Angular:.7,"Node.js":.55},"1 Mar 2020":{"React.js":.6,"GitHub Actions":.3,"CSS-in-JS":0},"24 May 2020":{JavaScript:.7,TypeScript:.5,Kubernetes:0,SQL:.65,PostgreSQL:.5},"25 Jun 2020":{Docker:.5,Pulumi:0,Git:.7,"Node.js":.7,Neo4j:0,Cypher:0},"15 Jul 2020":{Pulumi:.3,Kubernetes:.2,"React.js":.7,"CSS-in-JS":.3,Git:.8,"HTML/CSS":.72,Neo4j:.2,Cypher:.2,GraphQL:.1,Jest:.5,Cypress:.3},"1 Oct 2021":{GraphQL:.4,Neo4j:.5,Cypher:.5,SQL:.7,PostgreSQL:.6,Docker:.6},"5 May 2022":{JavaScript:.75,"Node.js":.75,Jest:.55,"CSS-in-JS":.5},"15 Feb 2023":{Playwright:0},"20 May 2023":{"three.js":.65,WebGL:.45,"HTML/CSS":.72},"1 Jul 2023":{JavaScript:.75,TypeScript:.75,"GitHub Actions":.6,Angular:.7,"React.js":.8,"Vue.js":.7,"Node.js":.75,Git:.7,Playwright:.4,Jest:.6}},Ds={languages:{names:["HTML/CSS","JavaScript","PHP","TypeScript","C++","C#","Java","SQL","SCSS","Cypher"],threshold:.2},techs:{names:["Node.js","OpenGL","WebGL","three.js","Vue.js","Angular","WebAssembly","React.js","Redux","MobX","MySQL","GraphQL","MongoDB","PostgreSQL","Sequelize.js","Neo4j","CSS-in-JS",".NET/WPF","Nuxt"],threshold:.2},tools:{names:["Git","UML","Blender","Emscripten","Photoshop","Jest","Mocha","Chai","Cypress","Playwright","fast-check","Docker","Docker Compose","Docker Swarm","AWS","Kubernetes","Pulumi","GitHub Actions","Travis","GitLab CI","Azure","Digital Ocean"],threshold:.2}};function L0(e){return D("input",{className:"range",type:"range",...e})}const D0=Dt({marginTop:"1em"}),B0=Dt({$name:"TimingLabels",display:"flex",justifyContent:"space-around",color:"grey",fontSize:"0.8em",transition:".8s"});function U0({from:e,until:t,value:r,labels:n,change:i}){const s=nr(!1),a=Dt({"@media":{query:{maxWidth:"500px"},display:"none"}});return D("div",{pointerenter:dr(()=>{s.next(!0)}),pointerleave:dr(()=>{s.next(!1)})},U(D0),L0({min:e,max:t,value:r,change:dr(o=>{i(o.target.value)}),mousemove:dr(o=>{o.buttons>0&&i(o.target.value)})}),D("div",{style:s.pipe(ct(o=>`opacity: ${o?"1":"0.5"}`))},U(B0),n.map((o,l)=>D("div",{},l%2!==0?U(a):null,o))))}const G0=function(){function e(t,r){var n,i,s,a,o,l,h,u,c,f,p,d,g,y,b,v,m;for(h=t.length,s=[],l=[],n=[],i=[],a=[],u=[],o=0,y=h-1;0<=y?o<y:o>y;0<=y?o+=1:o-=1)s[o]=(r[o+1]-r[o])/(t[o+1]-t[o]),o>0&&(l[o]=(s[o-1]+s[o])/2);for(l[0]=s[0],l[h-1]=s[h-2],c=[],o=0,b=h-1;0<=b?o<b:o>b;0<=b?o+=1:o-=1)s[o]===0&&c.push(o);for(f=0,d=c.length;f<d;f++)o=c[f],l[o]=l[o+1]=0;for(o=0,v=h-1;0<=v?o<v:o>v;0<=v?o+=1:o-=1)n[o]=l[o]/s[o],i[o]=l[o+1]/s[o],a[o]=Math.pow(n[o],2)+Math.pow(i[o],2),u[o]=3/Math.sqrt(a[o]);for(c=[],o=0,m=h-1;0<=m?o<m:o>m;0<=m?o+=1:o-=1)a[o]>9&&c.push(o);for(p=0,g=c.length;p<g;p++)o=c[p],l[o]=u[o]*n[o]*s[o],l[o+1]=u[o]*i[o]*s[o];this.x=t.slice(0,h),this.y=r.slice(0,h),this.m=l}return e.prototype.interpolate=function(t){var r,n,i,s,a,o,l,h,u,c,f;for(o=f=this.x.length-2;(f<=0?o<=0:o>=0)&&!(this.x[o]<=t);f<=0?o+=1:o-=1);return r=this.x[o+1]-this.x[o],l=(t-this.x[o])/r,h=Math.pow(l,2),u=Math.pow(l,3),n=2*u-3*h+1,s=u-2*h+l,i=-2*u+3*h,a=u-h,c=n*this.y[o]+s*r*this.m[o]+i*this.y[o+1]+a*r*this.m[o+1],c},e}();function $0(e,t,r){const s=1/(Math.abs(t-r)/31536e6);return e*Math.min(1,s)}const Bs=new Map;function j0(e,t){const r=[],n=[];for(const i in t)for(const s in t[i])e==s&&(r.push(Date.parse(i)),n.push(t[i][s]));if(r.length>0){const i=n[n.length-1],s=r[r.length-1],a=Date.now();return r.push(a),n.push($0(i,s,a)),new G0(r,n)}return null}function z0(e,t){if(Bs.has(e))return Bs.get(e);const r=j0(e,t);return Bs.set(e,r),r}const Us=2011,H0=new Date().getFullYear();function V0(e,t={}){const r=Object.keys(Object.entries(e).reduce((o,[l,h])=>({...o,...h}),{}));function n(o){const l=r.map(h=>{const u=z0(h,e);return{name:h,value:u?u.interpolate(o):0}});t.change&&t.change(l)}const i=new Date().getFullYear(),s=new Array(i-Us+1).fill(0).map((o,l)=>String(Us+l)),a=new Date().getTime();return n(a),U0({from:Date.parse(`1 Jan ${Us}`),until:Date.parse(`31 Dec ${H0}`),value:a,labels:s,change:n})}function W0(e,t){const r=e.filter(s=>!t.find(a=>a.name===s.name)),n=t.filter(s=>!e.find(a=>a.name===s.name)),i=t.filter(s=>e.find(a=>a.name===s.name));return{added:r,removed:n,former:i}}const X0=Dt({$name:"Stacks",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gridTemplateRows:"1fr",overflow:"auto",flex:"1","@media":{query:{maxWidth:"500px"},display:"block"}}),Y0=Dt({$name:"Scroll",overflow:"auto",webkitMaskImage:"linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,1) 10%, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 100%)"});function q0(...e){return D("div",{},U(X0),...e)}const J0=Dt({$name:"Stack",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100%",padding:"1em 0",boxSizing:"border-box",fontSize:"1.2em",textAlign:"center",overflowX:"hidden"});function Z0(e){return function(t){return t.filter(r=>r.value>e.threshold&&e.names.includes(r.name))}}function Gs(e,t){const r=zd([]);return D("div",{},U(Y0),e.pipe(ct(Z0(t)),ct(n=>{const{added:i,removed:s,former:a}=W0(n,r.value);return i.forEach(o=>r.insert({name:o.name,value:nr(o.value)})),s.forEach(o=>r.remove(o)),a.forEach(o=>{var l;return o.value.next(((l=n.find(h=>h.name===o.name))==null?void 0:l.value)||0)}),null})),D("div",{},U(J0),Jd(r,n=>D("div",{style:n.value.pipe(ct(i=>`
            opacity: ${i/(1-t.threshold)-t.threshold};
            order: ${Math.floor(-i*100)};
            margin: 0.5em 1em;
            transformOrigin: 50% 50%;
          `))},n.name))))}const K0=Dt({$name:"Skills",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"});function Q0(){const e=nr([]);return D("div",{},U(K0),q0(Gs(e,Ds.languages),Gs(e,Ds.techs),Gs(e,Ds.tools)),V0(F0,{change(t){e.next(t)}}))}function Vn(e,...t){return D("div",{},U({position:"absolute",top:"4em",left:"2em",width:"calc(100% - 4em)",height:"calc(100% - 6em)",backdropFilter:"blur(2px)",color:"rgb(30, 30, 30)",zIndex:"20",background:"rgb(255 255 255 / 40%)",borderRadius:"2em",border:"1px solid #c4c4c442",boxShadow:"0px 3px 20px 6px #00000014",padding:"2em",boxSizing:"border-box",display:"none","@media":{query:{maxWidth:"500px"},top:"3em",left:"1em",width:"calc(100% - 2em)",height:"calc(100% - 4em)"}}),U({transition:"all 0.4s ease-out",opacity:e.open.pipe(Yo(10),ct(r=>r?"1":"0")),filter:e.open.pipe(Yo(10),ct(r=>r?"blur(0)":"blur(15px)")),display:e.open.pipe(Cd(),su(r=>gd(r?0:400).pipe(iu(),ct(()=>r))),ct(r=>r?"block":"none"))}),D("div",{},U({overflowY:"auto",overflowX:"hidden",height:"100%",display:"grid"}),...t))}const tb=Dt({position:"absolute",top:"10%",right:"20%",height:"calc(50vh - 3em)",maxHeight:"calc((25vh + 25vw) / 2)","@media":{query:{maxWidth:"700px"},right:"5%",transform:" rotate(345deg)"}});function eb(){return D("div",{},U({display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"1.2em",textAlign:"center"}),D("img",{src:"./arrow.svg"},U(tb)),D("div",{},"Please contact me to receive my resume"))}function bh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bh(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pi(e){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(e)}function rb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nb(e,t,r){return t&&_h(e.prototype,t),r&&_h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Co(e,t){return sb(e)||ob(e,t)||Yc(e,t)||hb()}function _n(e){return ib(e)||ab(e)||Yc(e)||lb()}function ib(e){if(Array.isArray(e))return Ra(e)}function sb(e){if(Array.isArray(e))return e}function ab(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ob(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,a,o;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){s=!0,o=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw o}}return n}}function Yc(e,t){if(e){if(typeof e=="string")return Ra(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ra(e,t)}}function Ra(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xh=function(){},Ro={},qc={},Jc=null,Zc={mark:xh,measure:xh};try{typeof window<"u"&&(Ro=window),typeof document<"u"&&(qc=document),typeof MutationObserver<"u"&&(Jc=MutationObserver),typeof performance<"u"&&(Zc=performance)}catch{}var ub=Ro.navigator||{},wh=ub.userAgent,Sh=wh===void 0?"":wh,Oe=Ro,rt=qc,Th=Jc,Wn=Zc;Oe.document;var Te=!!rt.documentElement&&!!rt.head&&typeof rt.addEventListener=="function"&&typeof rt.createElement=="function",Kc=~Sh.indexOf("MSIE")||~Sh.indexOf("Trident/"),Xn,Yn,qn,Jn,Zn,xe="___FONT_AWESOME___",Ma=16,Qc="fa",tf="svg-inline--fa",er="data-fa-i2svg",ka="data-fa-pseudo-element",cb="data-fa-pseudo-element-pending",Mo="data-prefix",ko="data-icon",Eh="fontawesome-i2svg",fb="async",db=["HTML","HEAD","STYLE","SCRIPT"],ef=function(){try{return!0}catch{return!1}}(),et="classic",ht="sharp",Po=[et,ht];function xn(e){return new Proxy(e,{get:function(r,n){return n in r?r[n]:r[et]}})}var fn=xn((Xn={},bt(Xn,et,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),bt(Xn,ht,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Xn)),dn=xn((Yn={},bt(Yn,et,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),bt(Yn,ht,{solid:"fass",regular:"fasr",light:"fasl"}),Yn)),pn=xn((qn={},bt(qn,et,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),bt(qn,ht,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),qn)),pb=xn((Jn={},bt(Jn,et,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),bt(Jn,ht,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Jn)),mb=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,rf="fa-layers-text",gb=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,yb=xn((Zn={},bt(Zn,et,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),bt(Zn,ht,{900:"fass",400:"fasr",300:"fasl"}),Zn)),nf=[1,2,3,4,5,6,7,8,9,10],vb=nf.concat([11,12,13,14,15,16,17,18,19,20]),bb=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],qe={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mn=new Set;Object.keys(dn[et]).map(mn.add.bind(mn));Object.keys(dn[ht]).map(mn.add.bind(mn));var _b=[].concat(Po,_n(mn),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",qe.GROUP,qe.SWAP_OPACITY,qe.PRIMARY,qe.SECONDARY]).concat(nf.map(function(e){return"".concat(e,"x")})).concat(vb.map(function(e){return"w-".concat(e)})),nn=Oe.FontAwesomeConfig||{};function xb(e){var t=rt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function wb(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(rt&&typeof rt.querySelector=="function"){var Sb=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Sb.forEach(function(e){var t=Co(e,2),r=t[0],n=t[1],i=wb(xb(r));i!=null&&(nn[n]=i)})}var sf={styleDefault:"solid",familyDefault:"classic",cssPrefix:Qc,replacementClass:tf,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};nn.familyPrefix&&(nn.cssPrefix=nn.familyPrefix);var Nr=R(R({},sf),nn);Nr.autoReplaceSvg||(Nr.observeMutations=!1);var P={};Object.keys(sf).forEach(function(e){Object.defineProperty(P,e,{enumerable:!0,set:function(r){Nr[e]=r,sn.forEach(function(n){return n(P)})},get:function(){return Nr[e]}})});Object.defineProperty(P,"familyPrefix",{enumerable:!0,set:function(t){Nr.cssPrefix=t,sn.forEach(function(r){return r(P)})},get:function(){return Nr.cssPrefix}});Oe.FontAwesomeConfig=P;var sn=[];function Tb(e){return sn.push(e),function(){sn.splice(sn.indexOf(e),1)}}var Ae=Ma,ue={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Eb(e){if(!(!e||!Te)){var t=rt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var r=rt.head.childNodes,n=null,i=r.length-1;i>-1;i--){var s=r[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=s)}return rt.head.insertBefore(t,n),e}}var Ib="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function gn(){for(var e=12,t="";e-- >0;)t+=Ib[Math.random()*62|0];return t}function Dr(e){for(var t=[],r=(e||[]).length>>>0;r--;)t[r]=e[r];return t}function No(e){return e.classList?Dr(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function af(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ab(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,'="').concat(af(e[r]),'" ')},"").trim()}function Zi(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,": ").concat(e[r].trim(),";")},"")}function Oo(e){return e.size!==ue.size||e.x!==ue.x||e.y!==ue.y||e.rotate!==ue.rotate||e.flipX||e.flipY}function Cb(e){var t=e.transform,r=e.containerWidth,n=e.iconWidth,i={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(s," ").concat(a," ").concat(o)},h={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:l,path:h}}function Rb(e){var t=e.transform,r=e.width,n=r===void 0?Ma:r,i=e.height,s=i===void 0?Ma:i,a=e.startCentered,o=a===void 0?!1:a,l="";return o&&Kc?l+="translate(".concat(t.x/Ae-n/2,"em, ").concat(t.y/Ae-s/2,"em) "):o?l+="translate(calc(-50% + ".concat(t.x/Ae,"em), calc(-50% + ").concat(t.y/Ae,"em)) "):l+="translate(".concat(t.x/Ae,"em, ").concat(t.y/Ae,"em) "),l+="scale(".concat(t.size/Ae*(t.flipX?-1:1),", ").concat(t.size/Ae*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var Mb=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function of(){var e=Qc,t=tf,r=P.cssPrefix,n=P.replacementClass,i=Mb;if(r!==e||n!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(r,"-")).replace(a,"--".concat(r,"-")).replace(o,".".concat(n))}return i}var Ih=!1;function $s(){P.autoAddCss&&!Ih&&(Eb(of()),Ih=!0)}var kb={mixout:function(){return{dom:{css:of,insertCss:$s}}},hooks:function(){return{beforeDOMElementCreation:function(){$s()},beforeI2svg:function(){$s()}}}},we=Oe||{};we[xe]||(we[xe]={});we[xe].styles||(we[xe].styles={});we[xe].hooks||(we[xe].hooks={});we[xe].shims||(we[xe].shims=[]);var Jt=we[xe],lf=[],Pb=function e(){rt.removeEventListener("DOMContentLoaded",e),Ni=1,lf.map(function(t){return t()})},Ni=!1;Te&&(Ni=(rt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(rt.readyState),Ni||rt.addEventListener("DOMContentLoaded",Pb));function Nb(e){Te&&(Ni?setTimeout(e,0):lf.push(e))}function wn(e){var t=e.tag,r=e.attributes,n=r===void 0?{}:r,i=e.children,s=i===void 0?[]:i;return typeof e=="string"?af(e):"<".concat(t," ").concat(Ab(n),">").concat(s.map(wn).join(""),"</").concat(t,">")}function Ah(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}var Ob=function(t,r){return function(n,i,s,a){return t.call(r,n,i,s,a)}},js=function(t,r,n,i){var s=Object.keys(t),a=s.length,o=i!==void 0?Ob(r,i):r,l,h,u;for(n===void 0?(l=1,u=t[s[0]]):(l=0,u=n);l<a;l++)h=s[l],u=o(u,t[h],h,t);return u};function Fb(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}function Pa(e){var t=Fb(e);return t.length===1?t[0].toString(16):null}function Lb(e,t){var r=e.length,n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&r>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function Ch(e){return Object.keys(e).reduce(function(t,r){var n=e[r],i=!!n.icon;return i?t[n.iconName]=n.icon:t[r]=n,t},{})}function Na(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.skipHooks,i=n===void 0?!1:n,s=Ch(t);typeof Jt.hooks.addPack=="function"&&!i?Jt.hooks.addPack(e,Ch(t)):Jt.styles[e]=R(R({},Jt.styles[e]||{}),s),e==="fas"&&Na("fa",t)}var Kn,Qn,ti,vr=Jt.styles,Db=Jt.shims,Bb=(Kn={},bt(Kn,et,Object.values(pn[et])),bt(Kn,ht,Object.values(pn[ht])),Kn),Fo=null,hf={},uf={},cf={},ff={},df={},Ub=(Qn={},bt(Qn,et,Object.keys(fn[et])),bt(Qn,ht,Object.keys(fn[ht])),Qn);function Gb(e){return~_b.indexOf(e)}function $b(e,t){var r=t.split("-"),n=r[0],i=r.slice(1).join("-");return n===e&&i!==""&&!Gb(i)?i:null}var pf=function(){var t=function(s){return js(vr,function(a,o,l){return a[l]=js(o,s,{}),a},{})};hf=t(function(i,s,a){if(s[3]&&(i[s[3]]=a),s[2]){var o=s[2].filter(function(l){return typeof l=="number"});o.forEach(function(l){i[l.toString(16)]=a})}return i}),uf=t(function(i,s,a){if(i[a]=a,s[2]){var o=s[2].filter(function(l){return typeof l=="string"});o.forEach(function(l){i[l]=a})}return i}),df=t(function(i,s,a){var o=s[2];return i[a]=a,o.forEach(function(l){i[l]=a}),i});var r="far"in vr||P.autoFetchSvg,n=js(Db,function(i,s){var a=s[0],o=s[1],l=s[2];return o==="far"&&!r&&(o="fas"),typeof a=="string"&&(i.names[a]={prefix:o,iconName:l}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:o,iconName:l}),i},{names:{},unicodes:{}});cf=n.names,ff=n.unicodes,Fo=Ki(P.styleDefault,{family:P.familyDefault})};Tb(function(e){Fo=Ki(e.styleDefault,{family:P.familyDefault})});pf();function Lo(e,t){return(hf[e]||{})[t]}function jb(e,t){return(uf[e]||{})[t]}function Je(e,t){return(df[e]||{})[t]}function mf(e){return cf[e]||{prefix:null,iconName:null}}function zb(e){var t=ff[e],r=Lo("fas",e);return t||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function Fe(){return Fo}var Do=function(){return{prefix:null,iconName:null,rest:[]}};function Ki(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.family,n=r===void 0?et:r,i=fn[n][e],s=dn[n][e]||dn[n][i],a=e in Jt.styles?e:null;return s||a||null}var Rh=(ti={},bt(ti,et,Object.keys(pn[et])),bt(ti,ht,Object.keys(pn[ht])),ti);function Qi(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.skipLookups,i=n===void 0?!1:n,s=(t={},bt(t,et,"".concat(P.cssPrefix,"-").concat(et)),bt(t,ht,"".concat(P.cssPrefix,"-").concat(ht)),t),a=null,o=et;(e.includes(s[et])||e.some(function(h){return Rh[et].includes(h)}))&&(o=et),(e.includes(s[ht])||e.some(function(h){return Rh[ht].includes(h)}))&&(o=ht);var l=e.reduce(function(h,u){var c=$b(P.cssPrefix,u);if(vr[u]?(u=Bb[o].includes(u)?pb[o][u]:u,a=u,h.prefix=u):Ub[o].indexOf(u)>-1?(a=u,h.prefix=Ki(u,{family:o})):c?h.iconName=c:u!==P.replacementClass&&u!==s[et]&&u!==s[ht]&&h.rest.push(u),!i&&h.prefix&&h.iconName){var f=a==="fa"?mf(h.iconName):{},p=Je(h.prefix,h.iconName);f.prefix&&(a=null),h.iconName=f.iconName||p||h.iconName,h.prefix=f.prefix||h.prefix,h.prefix==="far"&&!vr.far&&vr.fas&&!P.autoFetchSvg&&(h.prefix="fas")}return h},Do());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&o===ht&&(vr.fass||P.autoFetchSvg)&&(l.prefix="fass",l.iconName=Je(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||a==="fa")&&(l.prefix=Fe()||"fas"),l}var Hb=function(){function e(){rb(this,e),this.definitions={}}return nb(e,[{key:"add",value:function(){for(var r=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){r.definitions[o]=R(R({},r.definitions[o]||{}),a[o]),Na(o,a[o]);var l=pn[et][o];l&&Na(l,a[o]),pf()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,n){var i=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(i).map(function(s){var a=i[s],o=a.prefix,l=a.iconName,h=a.icon,u=h[2];r[o]||(r[o]={}),u.length>0&&u.forEach(function(c){typeof c=="string"&&(r[o][c]=h)}),r[o][l]=h}),r}}]),e}(),Mh=[],br={},Er={},Vb=Object.keys(Er);function Wb(e,t){var r=t.mixoutsTo;return Mh=e,br={},Object.keys(Er).forEach(function(n){Vb.indexOf(n)===-1&&delete Er[n]}),Mh.forEach(function(n){var i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(function(a){typeof i[a]=="function"&&(r[a]=i[a]),Pi(i[a])==="object"&&Object.keys(i[a]).forEach(function(o){r[a]||(r[a]={}),r[a][o]=i[a][o]})}),n.hooks){var s=n.hooks();Object.keys(s).forEach(function(a){br[a]||(br[a]=[]),br[a].push(s[a])})}n.provides&&n.provides(Er)}),r}function Oa(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=br[e]||[];return s.forEach(function(a){t=a.apply(null,[t].concat(n))}),t}function rr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=br[e]||[];i.forEach(function(s){s.apply(null,r)})}function Se(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Er[e]?Er[e].apply(null,t):void 0}function Fa(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,r=e.prefix||Fe();if(t)return t=Je(r,t)||t,Ah(gf.definitions,r,t)||Ah(Jt.styles,r,t)}var gf=new Hb,Xb=function(){P.autoReplaceSvg=!1,P.observeMutations=!1,rr("noAuto")},Yb={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Te?(rr("beforeI2svg",t),Se("pseudoElements2svg",t),Se("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot;P.autoReplaceSvg===!1&&(P.autoReplaceSvg=!0),P.observeMutations=!0,Nb(function(){Jb({autoReplaceSvgRoot:r}),rr("watch",t)})}},qb={icon:function(t){if(t===null)return null;if(Pi(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Je(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var r=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Ki(t[0]);return{prefix:n,iconName:Je(n,r)||r}}if(typeof t=="string"&&(t.indexOf("".concat(P.cssPrefix,"-"))>-1||t.match(mb))){var i=Qi(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||Fe(),iconName:Je(i.prefix,i.iconName)||i.iconName}}if(typeof t=="string"){var s=Fe();return{prefix:s,iconName:Je(s,t)||t}}}},$t={noAuto:Xb,config:P,dom:Yb,parse:qb,library:gf,findIconDefinition:Fa,toHtml:wn},Jb=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot,n=r===void 0?rt:r;(Object.keys(Jt.styles).length>0||P.autoFetchSvg)&&Te&&P.autoReplaceSvg&&$t.dom.i2svg({node:n})};function ts(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(n){return wn(n)})}}),Object.defineProperty(e,"node",{get:function(){if(Te){var n=rt.createElement("div");return n.innerHTML=e.html,n.children}}}),e}function Zb(e){var t=e.children,r=e.main,n=e.mask,i=e.attributes,s=e.styles,a=e.transform;if(Oo(a)&&r.found&&!n.found){var o=r.width,l=r.height,h={x:o/l/2,y:.5};i.style=Zi(R(R({},s),{},{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function Kb(e){var t=e.prefix,r=e.iconName,n=e.children,i=e.attributes,s=e.symbol,a=s===!0?"".concat(t,"-").concat(P.cssPrefix,"-").concat(r):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:R(R({},i),{},{id:a}),children:n}]}]}function Bo(e){var t=e.icons,r=t.main,n=t.mask,i=e.prefix,s=e.iconName,a=e.transform,o=e.symbol,l=e.title,h=e.maskId,u=e.titleId,c=e.extra,f=e.watchable,p=f===void 0?!1:f,d=n.found?n:r,g=d.width,y=d.height,b=i==="fak",v=[P.replacementClass,s?"".concat(P.cssPrefix,"-").concat(s):""].filter(function(I){return c.classes.indexOf(I)===-1}).filter(function(I){return I!==""||!!I}).concat(c.classes).join(" "),m={children:[],attributes:R(R({},c.attributes),{},{"data-prefix":i,"data-icon":s,class:v,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},_=b&&!~c.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};p&&(m.attributes[er]=""),l&&(m.children.push({tag:"title",attributes:{id:m.attributes["aria-labelledby"]||"title-".concat(u||gn())},children:[l]}),delete m.attributes.title);var x=R(R({},m),{},{prefix:i,iconName:s,main:r,mask:n,maskId:h,transform:a,symbol:o,styles:R(R({},_),c.styles)}),w=n.found&&r.found?Se("generateAbstractMask",x)||{children:[],attributes:{}}:Se("generateAbstractIcon",x)||{children:[],attributes:{}},T=w.children,S=w.attributes;return x.children=T,x.attributes=S,o?Kb(x):Zb(x)}function kh(e){var t=e.content,r=e.width,n=e.height,i=e.transform,s=e.title,a=e.extra,o=e.watchable,l=o===void 0?!1:o,h=R(R(R({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});l&&(h[er]="");var u=R({},a.styles);Oo(i)&&(u.transform=Rb({transform:i,startCentered:!0,width:r,height:n}),u["-webkit-transform"]=u.transform);var c=Zi(u);c.length>0&&(h.style=c);var f=[];return f.push({tag:"span",attributes:h,children:[t]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function Qb(e){var t=e.content,r=e.title,n=e.extra,i=R(R(R({},n.attributes),r?{title:r}:{}),{},{class:n.classes.join(" ")}),s=Zi(n.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),r&&a.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),a}var zs=Jt.styles;function La(e){var t=e[0],r=e[1],n=e.slice(4),i=Co(n,1),s=i[0],a=null;return Array.isArray(s)?a={tag:"g",attributes:{class:"".concat(P.cssPrefix,"-").concat(qe.GROUP)},children:[{tag:"path",attributes:{class:"".concat(P.cssPrefix,"-").concat(qe.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(P.cssPrefix,"-").concat(qe.PRIMARY),fill:"currentColor",d:s[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:r,icon:a}}var t_={found:!1,width:512,height:512};function e_(e,t){!ef&&!P.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Da(e,t){var r=t;return t==="fa"&&P.styleDefault!==null&&(t=Fe()),new Promise(function(n,i){if(Se("missingIconAbstract"),r==="fa"){var s=mf(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&zs[t]&&zs[t][e]){var a=zs[t][e];return n(La(a))}e_(e,t),n(R(R({},t_),{},{icon:P.showMissingIcons&&e?Se("missingIconAbstract")||{}:{}}))})}var Ph=function(){},Ba=P.measurePerformance&&Wn&&Wn.mark&&Wn.measure?Wn:{mark:Ph,measure:Ph},Xr='FA "6.4.0"',r_=function(t){return Ba.mark("".concat(Xr," ").concat(t," begins")),function(){return yf(t)}},yf=function(t){Ba.mark("".concat(Xr," ").concat(t," ends")),Ba.measure("".concat(Xr," ").concat(t),"".concat(Xr," ").concat(t," begins"),"".concat(Xr," ").concat(t," ends"))},Uo={begin:r_,end:yf},ci=function(){};function Nh(e){var t=e.getAttribute?e.getAttribute(er):null;return typeof t=="string"}function n_(e){var t=e.getAttribute?e.getAttribute(Mo):null,r=e.getAttribute?e.getAttribute(ko):null;return t&&r}function i_(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(P.replacementClass)}function s_(){if(P.autoReplaceSvg===!0)return fi.replace;var e=fi[P.autoReplaceSvg];return e||fi.replace}function a_(e){return rt.createElementNS("http://www.w3.org/2000/svg",e)}function o_(e){return rt.createElement(e)}function vf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.ceFn,n=r===void 0?e.tag==="svg"?a_:o_:r;if(typeof e=="string")return rt.createTextNode(e);var i=n(e.tag);Object.keys(e.attributes||[]).forEach(function(a){i.setAttribute(a,e.attributes[a])});var s=e.children||[];return s.forEach(function(a){i.appendChild(vf(a,{ceFn:n}))}),i}function l_(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var fi={replace:function(t){var r=t[0];if(r.parentNode)if(t[1].forEach(function(i){r.parentNode.insertBefore(vf(i),r)}),r.getAttribute(er)===null&&P.keepOriginalSource){var n=rt.createComment(l_(r));r.parentNode.replaceChild(n,r)}else r.remove()},nest:function(t){var r=t[0],n=t[1];if(~No(r).indexOf(P.replacementClass))return fi.replace(t);var i=new RegExp("".concat(P.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var s=n[0].attributes.class.split(" ").reduce(function(o,l){return l===P.replacementClass||l.match(i)?o.toSvg.push(l):o.toNode.push(l),o},{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",s.toNode.join(" "))}var a=n.map(function(o){return wn(o)}).join(`
`);r.setAttribute(er,""),r.innerHTML=a}};function Oh(e){e()}function bf(e,t){var r=typeof t=="function"?t:ci;if(e.length===0)r();else{var n=Oh;P.mutateApproach===fb&&(n=Oe.requestAnimationFrame||Oh),n(function(){var i=s_(),s=Uo.begin("mutate");e.map(i),s(),r()})}}var Go=!1;function _f(){Go=!0}function Ua(){Go=!1}var Oi=null;function Fh(e){if(Th&&P.observeMutations){var t=e.treeCallback,r=t===void 0?ci:t,n=e.nodeCallback,i=n===void 0?ci:n,s=e.pseudoElementsCallback,a=s===void 0?ci:s,o=e.observeMutationsRoot,l=o===void 0?rt:o;Oi=new Th(function(h){if(!Go){var u=Fe();Dr(h).forEach(function(c){if(c.type==="childList"&&c.addedNodes.length>0&&!Nh(c.addedNodes[0])&&(P.searchPseudoElements&&a(c.target),r(c.target)),c.type==="attributes"&&c.target.parentNode&&P.searchPseudoElements&&a(c.target.parentNode),c.type==="attributes"&&Nh(c.target)&&~bb.indexOf(c.attributeName))if(c.attributeName==="class"&&n_(c.target)){var f=Qi(No(c.target)),p=f.prefix,d=f.iconName;c.target.setAttribute(Mo,p||u),d&&c.target.setAttribute(ko,d)}else i_(c.target)&&i(c.target)})}}),Te&&Oi.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function h_(){Oi&&Oi.disconnect()}function u_(e){var t=e.getAttribute("style"),r=[];return t&&(r=t.split(";").reduce(function(n,i){var s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(n[a]=o.join(":").trim()),n},{})),r}function c_(e){var t=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),n=e.innerText!==void 0?e.innerText.trim():"",i=Qi(No(e));return i.prefix||(i.prefix=Fe()),t&&r&&(i.prefix=t,i.iconName=r),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=jb(i.prefix,e.innerText)||Lo(i.prefix,Pa(e.innerText))),!i.iconName&&P.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function f_(e){var t=Dr(e.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),r=e.getAttribute("title"),n=e.getAttribute("data-fa-title-id");return P.autoA11y&&(r?t["aria-labelledby"]="".concat(P.replacementClass,"-title-").concat(n||gn()):(t["aria-hidden"]="true",t.focusable="false")),t}function d_(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ue,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Lh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=c_(e),n=r.iconName,i=r.prefix,s=r.rest,a=f_(e),o=Oa("parseNodeAttributes",{},e),l=t.styleParser?u_(e):[];return R({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:ue,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:a}},o)}var p_=Jt.styles;function xf(e){var t=P.autoReplaceSvg==="nest"?Lh(e,{styleParser:!1}):Lh(e);return~t.extra.classes.indexOf(rf)?Se("generateLayersText",e,t):Se("generateSvgReplacementMutation",e,t)}var Le=new Set;Po.map(function(e){Le.add("fa-".concat(e))});Object.keys(fn[et]).map(Le.add.bind(Le));Object.keys(fn[ht]).map(Le.add.bind(Le));Le=_n(Le);function Dh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Te)return Promise.resolve();var r=rt.documentElement.classList,n=function(c){return r.add("".concat(Eh,"-").concat(c))},i=function(c){return r.remove("".concat(Eh,"-").concat(c))},s=P.autoFetchSvg?Le:Po.map(function(u){return"fa-".concat(u)}).concat(Object.keys(p_));s.includes("fa")||s.push("fa");var a=[".".concat(rf,":not([").concat(er,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(er,"])")})).join(", ");if(a.length===0)return Promise.resolve();var o=[];try{o=Dr(e.querySelectorAll(a))}catch{}if(o.length>0)n("pending"),i("complete");else return Promise.resolve();var l=Uo.begin("onTree"),h=o.reduce(function(u,c){try{var f=xf(c);f&&u.push(f)}catch(p){ef||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise(function(u,c){Promise.all(h).then(function(f){bf(f,function(){n("active"),n("complete"),i("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(f){l(),c(f)})})}function m_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;xf(e).then(function(r){r&&bf([r],t)})}function g_(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(t||{}).icon?t:Fa(t||{}),i=r.mask;return i&&(i=(i||{}).icon?i:Fa(i||{})),e(n,R(R({},r),{},{mask:i}))}}var y_=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.transform,i=n===void 0?ue:n,s=r.symbol,a=s===void 0?!1:s,o=r.mask,l=o===void 0?null:o,h=r.maskId,u=h===void 0?null:h,c=r.title,f=c===void 0?null:c,p=r.titleId,d=p===void 0?null:p,g=r.classes,y=g===void 0?[]:g,b=r.attributes,v=b===void 0?{}:b,m=r.styles,_=m===void 0?{}:m;if(t){var x=t.prefix,w=t.iconName,T=t.icon;return ts(R({type:"icon"},t),function(){return rr("beforeDOMElementCreation",{iconDefinition:t,params:r}),P.autoA11y&&(f?v["aria-labelledby"]="".concat(P.replacementClass,"-title-").concat(d||gn()):(v["aria-hidden"]="true",v.focusable="false")),Bo({icons:{main:La(T),mask:l?La(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:w,transform:R(R({},ue),i),symbol:a,title:f,maskId:u,titleId:d,extra:{attributes:v,styles:_,classes:y}})})}},v_={mixout:function(){return{icon:g_(y_)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=Dh,r.nodeCallback=m_,r}}},provides:function(t){t.i2svg=function(r){var n=r.node,i=n===void 0?rt:n,s=r.callback,a=s===void 0?function(){}:s;return Dh(i,a)},t.generateSvgReplacementMutation=function(r,n){var i=n.iconName,s=n.title,a=n.titleId,o=n.prefix,l=n.transform,h=n.symbol,u=n.mask,c=n.maskId,f=n.extra;return new Promise(function(p,d){Promise.all([Da(i,o),u.iconName?Da(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var y=Co(g,2),b=y[0],v=y[1];p([r,Bo({icons:{main:b,mask:v},prefix:o,iconName:i,transform:l,symbol:h,maskId:c,title:s,titleId:a,extra:f,watchable:!0})])}).catch(d)})},t.generateAbstractIcon=function(r){var n=r.children,i=r.attributes,s=r.main,a=r.transform,o=r.styles,l=Zi(o);l.length>0&&(i.style=l);var h;return Oo(a)&&(h=Se("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),n.push(h||s.icon),{children:n,attributes:i}}}},b_={mixout:function(){return{layer:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.classes,s=i===void 0?[]:i;return ts({type:"layer"},function(){rr("beforeDOMElementCreation",{assembler:r,params:n});var a=[];return r(function(o){Array.isArray(o)?o.map(function(l){a=a.concat(l.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(P.cssPrefix,"-layers")].concat(_n(s)).join(" ")},children:a}]})}}}},__={mixout:function(){return{counter:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.title,s=i===void 0?null:i,a=n.classes,o=a===void 0?[]:a,l=n.attributes,h=l===void 0?{}:l,u=n.styles,c=u===void 0?{}:u;return ts({type:"counter",content:r},function(){return rr("beforeDOMElementCreation",{content:r,params:n}),Qb({content:r.toString(),title:s,extra:{attributes:h,styles:c,classes:["".concat(P.cssPrefix,"-layers-counter")].concat(_n(o))}})})}}}},x_={mixout:function(){return{text:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?ue:i,a=n.title,o=a===void 0?null:a,l=n.classes,h=l===void 0?[]:l,u=n.attributes,c=u===void 0?{}:u,f=n.styles,p=f===void 0?{}:f;return ts({type:"text",content:r},function(){return rr("beforeDOMElementCreation",{content:r,params:n}),kh({content:r,transform:R(R({},ue),s),title:o,extra:{attributes:c,styles:p,classes:["".concat(P.cssPrefix,"-layers-text")].concat(_n(h))}})})}}},provides:function(t){t.generateLayersText=function(r,n){var i=n.title,s=n.transform,a=n.extra,o=null,l=null;if(Kc){var h=parseInt(getComputedStyle(r).fontSize,10),u=r.getBoundingClientRect();o=u.width/h,l=u.height/h}return P.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([r,kh({content:r.innerHTML,width:o,height:l,transform:s,title:i,extra:a,watchable:!0})])}}},w_=new RegExp('"',"ug"),Bh=[1105920,1112319];function S_(e){var t=e.replace(w_,""),r=Lb(t,0),n=r>=Bh[0]&&r<=Bh[1],i=t.length===2?t[0]===t[1]:!1;return{value:Pa(i?t[0]:t),isSecondary:n||i}}function Uh(e,t){var r="".concat(cb).concat(t.replace(":","-"));return new Promise(function(n,i){if(e.getAttribute(r)!==null)return n();var s=Dr(e.children),a=s.filter(function(T){return T.getAttribute(ka)===t})[0],o=Oe.getComputedStyle(e,t),l=o.getPropertyValue("font-family").match(gb),h=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!l)return e.removeChild(a),n();if(l&&u!=="none"&&u!==""){var c=o.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?ht:et,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?dn[f][l[2].toLowerCase()]:yb[f][h],d=S_(c),g=d.value,y=d.isSecondary,b=l[0].startsWith("FontAwesome"),v=Lo(p,g),m=v;if(b){var _=zb(g);_.iconName&&_.prefix&&(v=_.iconName,p=_.prefix)}if(v&&!y&&(!a||a.getAttribute(Mo)!==p||a.getAttribute(ko)!==m)){e.setAttribute(r,m),a&&e.removeChild(a);var x=d_(),w=x.extra;w.attributes[ka]=t,Da(v,p).then(function(T){var S=Bo(R(R({},x),{},{icons:{main:T,mask:Do()},prefix:p,iconName:m,extra:w,watchable:!0})),I=rt.createElement("svg");t==="::before"?e.insertBefore(I,e.firstChild):e.appendChild(I),I.outerHTML=S.map(function(A){return wn(A)}).join(`
`),e.removeAttribute(r),n()}).catch(i)}else n()}else n()})}function T_(e){return Promise.all([Uh(e,"::before"),Uh(e,"::after")])}function E_(e){return e.parentNode!==document.head&&!~db.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(ka)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Gh(e){if(Te)return new Promise(function(t,r){var n=Dr(e.querySelectorAll("*")).filter(E_).map(T_),i=Uo.begin("searchPseudoElements");_f(),Promise.all(n).then(function(){i(),Ua(),t()}).catch(function(){i(),Ua(),r()})})}var I_={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=Gh,r}}},provides:function(t){t.pseudoElements2svg=function(r){var n=r.node,i=n===void 0?rt:n;P.searchPseudoElements&&Gh(i)}}},$h=!1,A_={mixout:function(){return{dom:{unwatch:function(){_f(),$h=!0}}}},hooks:function(){return{bootstrap:function(){Fh(Oa("mutationObserverCallbacks",{}))},noAuto:function(){h_()},watch:function(r){var n=r.observeMutationsRoot;$h?Ua():Fh(Oa("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},jh=function(t){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(n,i){var s=i.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&o==="h")return n.flipX=!0,n;if(a&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(a){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},r)},C_={mixout:function(){return{parse:{transform:function(r){return jh(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-transform");return i&&(r.transform=jh(i)),r}}},provides:function(t){t.generateAbstractTransformGrouping=function(r){var n=r.main,i=r.transform,s=r.containerWidth,a=r.iconWidth,o={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),h="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),c={transform:"".concat(l," ").concat(h," ").concat(u)},f={transform:"translate(".concat(a/2*-1," -256)")},p={outer:o,inner:c,path:f};return{tag:"g",attributes:R({},p.outer),children:[{tag:"g",attributes:R({},p.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:R(R({},n.icon.attributes),p.path)}]}]}}}},Hs={x:0,y:0,width:"100%",height:"100%"};function zh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function R_(e){return e.tag==="g"?e.children:[e]}var M_={hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-mask"),s=i?Qi(i.split(" ").map(function(a){return a.trim()})):Do();return s.prefix||(s.prefix=Fe()),r.mask=s,r.maskId=n.getAttribute("data-fa-mask-id"),r}}},provides:function(t){t.generateAbstractMask=function(r){var n=r.children,i=r.attributes,s=r.main,a=r.mask,o=r.maskId,l=r.transform,h=s.width,u=s.icon,c=a.width,f=a.icon,p=Cb({transform:l,containerWidth:c,iconWidth:h}),d={tag:"rect",attributes:R(R({},Hs),{},{fill:"white"})},g=u.children?{children:u.children.map(zh)}:{},y={tag:"g",attributes:R({},p.inner),children:[zh(R({tag:u.tag,attributes:R(R({},u.attributes),p.path)},g))]},b={tag:"g",attributes:R({},p.outer),children:[y]},v="mask-".concat(o||gn()),m="clip-".concat(o||gn()),_={tag:"mask",attributes:R(R({},Hs),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,b]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:R_(f)},_]};return n.push(x,{tag:"rect",attributes:R({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(v,")")},Hs)}),{children:n,attributes:i}}}},k_={provides:function(t){var r=!1;Oe.matchMedia&&(r=Oe.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var n=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:R(R({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=R(R({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:R(R({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||o.children.push({tag:"animate",attributes:R(R({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:R(R({},a),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:R(R({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:R(R({},a),{},{values:"1;0;0;0;0;1;"})}]}),r||n.push({tag:"path",attributes:R(R({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:R(R({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},P_={hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return r.symbol=s,r}}}},N_=[kb,v_,b_,__,x_,I_,A_,C_,M_,k_,P_];Wb(N_,{mixoutsTo:$t});$t.noAuto;$t.config;var O_=$t.library;$t.dom;$t.parse;$t.findIconDefinition;$t.toHtml;var F_=$t.icon;$t.layer;$t.text;$t.counter;var L_={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},D_={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},B_={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},U_={prefix:"fab",iconName:"medium",icon:[640,512,[62407,"medium-m"],"f23a","M180.5,74.262C80.813,74.262,0,155.633,0,256S80.819,437.738,180.5,437.738,361,356.373,361,256,280.191,74.262,180.5,74.262Zm288.25,10.646c-49.845,0-90.245,76.619-90.245,171.095s40.406,171.1,90.251,171.1,90.251-76.619,90.251-171.1H559C559,161.5,518.6,84.908,468.752,84.908Zm139.506,17.821c-17.526,0-31.735,68.628-31.735,153.274s14.2,153.274,31.735,153.274S640,340.631,640,256C640,171.351,625.785,102.729,608.258,102.729Z"]};O_.add(D_,B_,L_,U_);function G_({name:e,prefix:t,size:r}){const n=F_({prefix:t,iconName:e}).node[0];return n.style.width="100%",n.style.height="100%",D("span",{style:`
      display: inline-block;
      height: ${r}px;
      width: ${r}px;
    `},n)}function $_(...e){return D("div",{},U({display:"flex",width:"100%",boxSizing:"border-box",gap:"2em",justifyContent:"center",flexWrap:"wrap","@media":{query:{maxWidth:"500px"},gap:"1em"}}),...e)}const j_=Dt({color:"rgb(30, 30, 30)",transition:"all 0.4s ease-out",transformOrigin:"center bottom",padding:"1em",":hover":{color:"orange"}});function ei({title:e,link:t,icon:r}){return D("a",{href:t,target:"_blank",title:e},U(j_),G_({name:r,prefix:"fab",size:40}))}const Hh="stoliarov.v.s@gmail.com";function z_(){return D("a",{href:`mailto:${Hh}`},U({textAlign:"center",color:"rgb(30, 30, 30)",transition:"all 0.4s ease-out",transformOrigin:"center top",textDecoration:"solid",fontSize:"1.2em",":hover":{color:"orange"}}),Hh)}function H_(){return D("div",{},U({display:"flex",height:"100%",flexDirection:"column",justifyContent:"center",gap:"1em"}),$_(ei({title:"GitHub",icon:"github",link:"https://github.com/ni55an"}),ei({title:"Twitter",icon:"twitter",link:"https://twitter.com/ni55an_dev"}),ei({title:"LinkedIn",icon:"linkedin",link:"https://www.linkedin.com/in/ni55an"}),ei({title:"Medium",icon:"medium",link:"https://medium.com/@ni55an"})),z_())}function V_(){const e={vertical:"15em",horizontal:"7em"};return D("div",{},U({display:"flex",justifyContent:"center",flexDirection:"column",margin:"auto",height:"100%",fontSize:"1.2em",lineHeight:"1.7em",textAlign:"justify",gap:"0.5em",padding:`0px calc(min(40vw - ${e.horizontal}, 100vh - ${e.vertical}) / 2)`,"@media":{query:{maxWidth:"500px"},fontSize:"1.1em"}}),D("div",{},U({color:"rgb(90, 90, 90)"}),"Hello there!"),D("div",{},U({fontSize:"1.2em"}),"I'm ",D("span",{},U({color:"orange"}),"Vitaliy Stoliarov"),", a software engineer from Ukraine."),D("div",{},U({color:"rgb(90, 90, 90)"}),"My journey into the world of programming began back in 2011. Since then, I've delved into various technologies, exploring their possibilities and honing my skills."),D("div",{},U({color:"rgb(90, 90, 90)"}),"Among my accomplishments, I'm the creator of ",D("a",{href:"https://retejs.org",target:"_blank"},U({color:"orange"}),"Rete.js"),"  a TypeScript-first framework for creating visual programming interfaces."))}const W_=Dt({position:"relative",margin:"0 auto",height:"100%",width:"100%",backgroundSize:"100%",backgroundAttachment:"fixed",fontStyle:"italic",fontFamily:'"Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif'});document.body.classList.add(W_.className);function X_(){const e=nr(null);return D("div",{style:"height: 100%"},O0({active:e,select(t){e.next(e.value===t?null:t)}}),rp({click:dr(()=>e.next(null))},M0({opacity:e.pipe(ct(t=>t?0:1)),text:"Vitaliy Stoliarov",duration:3e3})),Vn({open:e.pipe(ct(t=>t==="about"))},V_()),Vn({open:e.pipe(ct(t=>t==="skills"))},Q0()),Vn({open:e.pipe(ct(t=>t==="resume"))},eb()),Vn({open:e.pipe(ct(t=>t==="contact"))},H_()))}document.body.appendChild(X_());
